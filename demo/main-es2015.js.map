{"version":3,"sources":["./src/app/app.component.html","./src/app/edit/annotation-module/annotation-module.component.html","./src/app/edit/annotation-module/bounding-box/bounding-box.component.html","./src/app/edit/annotation-module/classification/classification.component.html","./src/app/edit/annotation-module/overall/axis-spec/axis-spec.component.html","./src/app/edit/annotation-module/overall/canvas-patch/canvas-patch.component.html","./src/app/edit/annotation-module/overall/custom-spec/custom-spec.component.html","./src/app/edit/annotation-module/overall/label-chip-list/label-chip-list.component.html","./src/app/edit/annotation-module/overall/legend-spec/legend-spec.component.html","./src/app/edit/annotation-module/overall/overall.component.html","./src/app/edit/annotation-module/overall/raw-table/column-addition-dialog.html","./src/app/edit/annotation-module/overall/raw-table/raw-table.component.html","./src/app/edit/annotation-module/regression/regression.component.html","./src/app/edit/annotation-module/text/text.component.html","./src/app/edit/common/feedback-mark/feedback-mark.component.html","./src/app/edit/common/feedback-modal/feedback-modal.component.html","./src/app/edit/common/resolve-button/resolve-button.component.html","./src/app/edit/common/review-panel/review-panel.component.html","./src/app/edit/common/sub-header/sub-header.component.html","./src/app/edit/edit.component.html","./src/app/edit/side-nav/side-nav.component.html","./src/app/edit/verification-module/feedback-card/feedback-card.component.html","./src/app/edit/verification-module/v-classification/v-classification.component.html","./src/app/edit/verification-module/v-overall/axis-spec-card/axis-spec-card.component.html","./src/app/edit/verification-module/v-overall/custom-spec-card/custom-spec-card.component.html","./src/app/edit/verification-module/v-overall/legend-spec-card/legend-spec-card.component.html","./src/app/edit/verification-module/v-overall/v-overall.component.html","./src/app/edit/verification-module/verification-module.component.html","./src/app/login/login.component.html","./src/app/non-active-page/non-active-page.component.html","./node_modules/tslib/tslib.es6.js","./src/$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.scss","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/common/config.ts","./src/app/common/edit-data.ts","./src/app/common/task/bounding-box.ts","./src/app/common/task/classification.ts","./src/app/common/task/index.js","./src/app/common/task/index.ts","./src/app/common/task/overall.ts","./src/app/common/task/regression.ts","./src/app/common/task/task.ts","./src/app/common/task/text.ts","./src/app/common/verification-data.js","./src/app/common/verification-data.ts","./src/app/config.service.ts","./src/app/d3-utils.ts","./src/app/edit.service.ts","./src/app/edit/annotation-module/annotation-module.component.scss","./src/app/edit/annotation-module/annotation-module.component.ts","./src/app/edit/annotation-module/annotation-util.ts","./src/app/edit/annotation-module/bounding-box/bounding-box.component.scss","./src/app/edit/annotation-module/bounding-box/bounding-box.component.ts","./src/app/edit/annotation-module/classification/classification.component.scss","./src/app/edit/annotation-module/classification/classification.component.ts","./src/app/edit/annotation-module/index.ts","./src/app/edit/annotation-module/overall/axis-spec/axis-spec.component.scss","./src/app/edit/annotation-module/overall/axis-spec/axis-spec.component.ts","./src/app/edit/annotation-module/overall/canvas-patch/canvas-patch.component.scss","./src/app/edit/annotation-module/overall/canvas-patch/canvas-patch.component.ts","./src/app/edit/annotation-module/overall/custom-spec/custom-spec.component.scss","./src/app/edit/annotation-module/overall/custom-spec/custom-spec.component.ts","./src/app/edit/annotation-module/overall/index.ts","./src/app/edit/annotation-module/overall/label-chip-list/label-chip-list.component.scss","./src/app/edit/annotation-module/overall/label-chip-list/label-chip-list.component.ts","./src/app/edit/annotation-module/overall/legend-spec/legend-spec.component.scss","./src/app/edit/annotation-module/overall/legend-spec/legend-spec.component.ts","./src/app/edit/annotation-module/overall/overall.component.scss","./src/app/edit/annotation-module/overall/overall.component.ts","./src/app/edit/annotation-module/overall/raw-table/raw-table.component.scss","./src/app/edit/annotation-module/overall/raw-table/raw-table.component.ts","./src/app/edit/annotation-module/regression/regression.component.scss","./src/app/edit/annotation-module/regression/regression.component.ts","./src/app/edit/annotation-module/text/text.component.scss","./src/app/edit/annotation-module/text/text.component.ts","./src/app/edit/common/feedback-mark/feedback-mark.component.scss","./src/app/edit/common/feedback-mark/feedback-mark.component.ts","./src/app/edit/common/feedback-modal/feedback-modal.component.scss","./src/app/edit/common/feedback-modal/feedback-modal.component.ts","./src/app/edit/common/feedback.service.ts","./src/app/edit/common/index.ts","./src/app/edit/common/resolve-button/resolve-button.component.scss","./src/app/edit/common/resolve-button/resolve-button.component.ts","./src/app/edit/common/review-panel/review-panel.component.scss","./src/app/edit/common/review-panel/review-panel.component.ts","./src/app/edit/common/stop-propagtion.directive.ts","./src/app/edit/common/sub-header/sub-header.component.scss","./src/app/edit/common/sub-header/sub-header.component.ts","./src/app/edit/demo/demo.service.ts","./src/app/edit/demo/quiz.service.ts","./src/app/edit/edit-module.scss","./src/app/edit/edit.component.scss","./src/app/edit/edit.component.ts","./src/app/edit/file-drop.directive.ts","./src/app/edit/side-nav/side-nav.component.scss","./src/app/edit/side-nav/side-nav.component.ts","./src/app/edit/timer.service.ts","./src/app/edit/verification-module/feedback-card/feedback-card.component.scss","./src/app/edit/verification-module/feedback-card/feedback-card.component.ts","./src/app/edit/verification-module/index.ts","./src/app/edit/verification-module/v-classification/v-classification.component.scss","./src/app/edit/verification-module/v-classification/v-classification.component.ts","./src/app/edit/verification-module/v-overall/axis-spec-card/axis-spec-card.component.scss","./src/app/edit/verification-module/v-overall/axis-spec-card/axis-spec-card.component.ts","./src/app/edit/verification-module/v-overall/custom-spec-card/custom-spec-card.component.scss","./src/app/edit/verification-module/v-overall/custom-spec-card/custom-spec-card.component.ts","./src/app/edit/verification-module/v-overall/legend-spec-card/legend-spec-card.component.scss","./src/app/edit/verification-module/v-overall/legend-spec-card/legend-spec-card.component.ts","./src/app/edit/verification-module/v-overall/v-overall.component.scss","./src/app/edit/verification-module/v-overall/v-overall.component.ts","./src/app/edit/verification-module/verification-module.component.scss","./src/app/edit/verification-module/verification-module.component.ts","./src/app/login/login.component.scss","./src/app/login/login.component.ts","./src/app/network.service.ts","./src/app/non-active-page/non-active-page.component.scss","./src/app/non-active-page/non-active-page.component.ts","./src/app/prediction.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,sBAAsB,QAAQ,QAAQ,MAAM;AAC5C;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,sBAAsB,QAAQ,QAAQ,MAAM;AAC5C;AACA;AACA;AACA;AACA;AACO;AACP;AACA,6BAA6B,QAAQ,aAAa,MAAM;AACxD,+BAA+B,QAAQ,aAAa,MAAM;AAC1D,8BAA8B,QAAQ,aAAa,MAAM;AACzD,gCAAgC,QAAQ,aAAa,MAAM;AAC3D;AACA,wBAAwB,QAAQ,aAAa,MAAM;AACnD;AACA,kCAAkC,QAAQ,aAAa,MAAM;AAC7D,8BAA8B,QAAQ,aAAa,MAAM;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,+BAA+B,QAAQ;AACvC,gCAAgC,QAAQ;AACxC,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ,eAAe,MAAM,GAAG,KAAK;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACO;AACP;AACA;AACA;AACA,6BAA6B,QAAQ,OAAO,EAAE;AAC9C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kBAAkB,aAAa,GAAG,mBAAmB;AACrD;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA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","file":"main-es2015.js","sourcesContent":["export default \"<div id=\\\"wrapper\\\">\\r\\n    <ng-container *ngIf=\\\"status && status.active\\\">\\r\\n        <mat-toolbar color=\\\"primary\\\">\\r\\n            <a [routerLink]=\\\"['/']\\\" class=\\\"mr-4\\\">/* Autotator */</a>\\r\\n            <!-- <a [routerLink]=\\\"['/edit']\\\" class=\\\"menu\\\">Editor</a> -->\\r\\n            <!-- <a [routerLink]=\\\"['/gallery']\\\" class=\\\"menu\\\">Gallery</a> -->\\r\\n        </mat-toolbar>\\r\\n        <router-outlet></router-outlet>\\r\\n    </ng-container>\\r\\n    <ng-container *ngIf=\\\"status && !status.active\\\">\\r\\n        <app-non-active-page></app-non-active-page>\\r\\n    </ng-container>\\r\\n</div>\\r\\n\\r\\n\"","export default \"<mat-vertical-stepper linear\\r\\n    (selectionChange)=\\\"onStepChange($event)\\\"\\r\\n    #stepper>\\r\\n    <ng-container *ngIf=\\\"config\\\">\\r\\n        <ng-container *ngFor=\\\"let task of config.tasks; let i = index\\\">\\r\\n            <mat-step [stepControl]=\\\"formGroup.get(task.key)\\\">\\r\\n                <form [formGroup]=\\\"formGroup\\\">\\r\\n                    <ng-template matStepLabel>{{ task.command }}</ng-template>\\r\\n                    <ng-container [ngSwitch]=\\\"task.taskType\\\">\\r\\n                        <ng-container *ngSwitchCase=\\\"'C'\\\">\\r\\n                            <app-classification\\r\\n                                [formGroup]=\\\"formGroup\\\"\\r\\n                                [stepper]=\\\"stepper\\\"\\r\\n                                [index]=\\\"i\\\"\\r\\n                                [task]=\\\"task\\\"\\r\\n                                [currIndex]=\\\"currIndex\\\"\\r\\n                                [event]=\\\"event\\\"\\r\\n                                [spacePressed]=\\\"spacePressed\\\"\\r\\n                                (submitEmitter)=\\\"onSubmitReady()\\\"\\r\\n                            >\\r\\n                            </app-classification>\\r\\n                        </ng-container>\\r\\n                        <ng-container *ngSwitchCase=\\\"'R'\\\">\\r\\n                            <app-regression\\r\\n                                [formGroup]=\\\"formGroup\\\"\\r\\n                                [task]=\\\"task\\\"\\r\\n                                [event]=\\\"event\\\"\\r\\n                                [spacePressed]=\\\"spacePressed\\\"\\r\\n                                (submitEmitter)=\\\"onSubmitReady()\\\"\\r\\n                                >\\r\\n                            </app-regression>\\r\\n                        </ng-container>\\r\\n                        <ng-container *ngSwitchCase=\\\"'B'\\\">\\r\\n                            <app-bounding-box\\r\\n                                [formGroup]=\\\"formGroup\\\"\\r\\n                                [task]=\\\"task\\\"\\r\\n                                [index]=\\\"i\\\"\\r\\n                                [imgRef]=\\\"imgRef\\\"\\r\\n                                [svgS]=\\\"svgS\\\"\\r\\n                                [currIndex]=\\\"currIndex\\\"\\r\\n                                [event]=\\\"event\\\"\\r\\n                                [spacePressed]=\\\"spacePressed\\\"\\r\\n                                (submitEmitter)=\\\"onSubmitReady()\\\"\\r\\n                            >\\r\\n                            </app-bounding-box>\\r\\n                        </ng-container>\\r\\n                        <ng-container *ngSwitchCase=\\\"'T'\\\">\\r\\n                            <app-text\\r\\n                                [formGroup]=\\\"formGroup\\\"\\r\\n                                [task]=\\\"task\\\"\\r\\n                                [index]=\\\"i\\\"\\r\\n                                [imgRef]=\\\"imgRef\\\"\\r\\n                                [svgS]=\\\"svgS\\\"\\r\\n                                [currIndex]=\\\"currIndex\\\"\\r\\n                                [event]=\\\"event\\\"\\r\\n                                [spacePressed]=\\\"spacePressed\\\"\\r\\n                                (submitEmitter)=\\\"onSubmitReady()\\\"\\r\\n                            >\\r\\n                            </app-text>\\r\\n                        </ng-container>\\r\\n                        <ng-container *ngSwitchCase=\\\"'O'\\\">\\r\\n                            <app-overall\\r\\n                                [formGroup]=\\\"formGroup\\\"\\r\\n                                [task]=\\\"task\\\"\\r\\n                                [index]=\\\"i\\\"\\r\\n                                [imgRef]=\\\"imgRef\\\"\\r\\n                                [svgS]=\\\"svgS\\\"\\r\\n                                [currIndex]=\\\"currIndex\\\"\\r\\n                                [event]=\\\"event\\\"\\r\\n                                [spacePressed]=\\\"spacePressed\\\"\\r\\n                                (submitEmitter)=\\\"onSubmitReady()\\\"\\r\\n                                [mode]=\\\"mode\\\"\\r\\n                            >\\r\\n                            </app-overall>\\r\\n                        </ng-container>\\r\\n                    </ng-container>\\r\\n                </form>\\r\\n                <div *ngIf=\\\"i !== config.tasks.length - 1\\\" class=\\\"mt-2 text-right\\\">\\r\\n                    <button mat-stroked-button matStepperPrevious\\r\\n                        class=\\\"mr-1\\\">Prev</button>\\r\\n                    <button mat-stroked-button matStepperNext>Next</button>\\r\\n                </div>\\r\\n            </mat-step>\\r\\n        </ng-container>\\r\\n    </ng-container>\\r\\n</mat-vertical-stepper>\\r\\n<app-review-panel *ngIf=\\\"review && mode === 'revision'\\\"\\r\\n    [feedbacks]=\\\"review.feedbacks\\\"\\r\\n    [focusedKey]=\\\"focusedFeedbackKey\\\"\\r\\n    (focus)=\\\"displayFeedback($event)\\\">\\r\\n</app-review-panel>\\r\\n<div class=\\\"d-flex justify-content-between submit-section align-items-center p-3 px-4\\\">\\r\\n    <div class=\\\"validate-feedback\\\">\\r\\n        * Press 'n' to move on the next step <br/>\\r\\n        * Press 'd' or 'delete' to remove the selected box\\r\\n    </div>\\r\\n    <button *ngIf=\\\"submitReady\\\"\\r\\n        mat-stroked-button (click)=\\\"submit($event)\\\">\\r\\n        Submit\\r\\n    </button>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"p-2 d-flex flex-wrap table styled-scroll\\\">\\r\\n    <div class=\\\"d-flex w-100 py-1 border-bottom\\\">\\r\\n        <div class=\\\"w-15 text-center\\\">\\r\\n            INDEX\\r\\n        </div>\\r\\n        <div\\r\\n            *ngFor=\\\"let feature of task.features\\\"\\r\\n            class=\\\"w-15 text-center\\\">\\r\\n            {{feature}}\\r\\n        </div>\\r\\n        <div\\r\\n            *ngIf=\\\"task.labels.length > 1\\\"\\r\\n            class=\\\"w-25 text-center\\\">\\r\\n            Label\\r\\n        </div>\\r\\n    </div>\\r\\n    <div\\r\\n        *ngFor=\\\"let box of boxes\\\"\\r\\n        class=\\\"d-flex w-100\\\"\\r\\n        [class.focused]=\\\"focusedBoxIndex === box.key\\\">\\r\\n        <div class=\\\"w-15 text-center py-1\\\"\\r\\n            (click)=\\\"updateFocus(box.key)\\\">\\r\\n            {{ box.key }}\\r\\n        </div>\\r\\n        <div\\r\\n            *ngFor=\\\"let feature of task.features\\\"\\r\\n            class=\\\"w-15 text-center py-1\\\"\\r\\n            (click)=\\\"updateFocus(box.key)\\\">\\r\\n            {{ box.points[feature].value }}\\r\\n        </div>\\r\\n        <div\\r\\n            *ngIf=\\\"task.labels.length > 1\\\"\\r\\n            class=\\\"w-25 text-center px-2 py-1\\\">\\r\\n            <select [formControl]=\\\"box.label\\\"\\r\\n                class=\\\"mat-select\\\">\\r\\n                <option *ngFor=\\\"let label of task.labels\\\" [value]=\\\"label\\\">\\r\\n                        {{ label }}\\r\\n                </option>\\r\\n            </select>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"validate-feedback w-100 py-2\\\">\\r\\n        <ng-container *ngFor=\\\"let msg of task.msgs\\\">\\r\\n            *{{ msg }} <br/>\\r\\n        </ng-container>\\r\\n    </div>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"p-2 d-flex flex-wrap\\\" [formGroup]=\\\"formGroup\\\">\\r\\n    <mat-radio-group\\r\\n        [formControlName]=\\\"task.key\\\"\\r\\n        (change)=\\\"onChange($event)\\\"\\r\\n        #radioGroup>\\r\\n        <mat-radio-button *ngFor=\\\"let label of task.labels\\\" [value]=\\\"label\\\" class=\\\"mr-3\\\">\\r\\n            {{ label }}\\r\\n        </mat-radio-button>\\r\\n    </mat-radio-group>\\r\\n    <div class=\\\"validate-feedback w-100\\\">\\r\\n        <ng-container *ngFor=\\\"let msg of task.msgs\\\">\\r\\n            *{{ msg }} <br/>\\r\\n        </ng-container>\\r\\n    </div>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"w-100\\\" [formGroup]=\\\"group\\\" #wrapper>\\r\\n    <div class=\\\"w-100 d-flex flex-wrap\\\" #title>\\r\\n        <mat-form-field class=\\\"w-100\\\">\\r\\n            <input matInput formControlName=\\\"title\\\"\\r\\n                placeholder=\\\"Title\\\">\\r\\n        </mat-form-field>\\r\\n        <div\\r\\n            *ngIf= \\\"focusedElemWithKey('title')\\\"\\r\\n            class=\\\"feedback-region title\\\">\\r\\n            <div>\\r\\n                {{ focusedFeedback.comment }}\\r\\n            </div>\\r\\n            <app-resolve-button></app-resolve-button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"w-100 d-flex flex-wrap\\\">\\r\\n        <div #dir class=\\\"mr-3\\\">\\r\\n            <mat-form-field>\\r\\n                <mat-label>Direction</mat-label>\\r\\n                <input matInput *ngIf=\\\"auto\\\" formControlName=\\\"dir\\\" readonly>\\r\\n                <mat-select\\r\\n                    *ngIf=\\\"!auto\\\"\\r\\n                    formControlName=\\\"dir\\\">\\r\\n                    <mat-option value=\\\"x\\\">X</mat-option>\\r\\n                    <mat-option value=\\\"y\\\">Y</mat-option>\\r\\n                </mat-select>\\r\\n            </mat-form-field>\\r\\n            <div\\r\\n                *ngIf= \\\"focusedElemWithKey('dir')\\\"\\r\\n                class=\\\"feedback-region select\\\">\\r\\n                <div>\\r\\n                    {{ focusedFeedback.comment }}\\r\\n                </div>\\r\\n                <app-resolve-button></app-resolve-button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div #type class=\\\"mr-3\\\">\\r\\n            <mat-form-field>\\r\\n                <mat-label>Type</mat-label>\\r\\n                <mat-select\\r\\n                    (selectionChange)=\\\"onValueTypeChange($event)\\\"\\r\\n                    formControlName=\\\"type\\\">\\r\\n                    <mat-option value=\\\"nominal\\\">nominal</mat-option>\\r\\n                    <mat-option value=\\\"quantitative\\\">quantitative</mat-option>\\r\\n                </mat-select>\\r\\n            </mat-form-field>\\r\\n            <div\\r\\n                *ngIf= \\\"focusedElemWithKey('type')\\\"\\r\\n                class=\\\"feedback-region select\\\">\\r\\n                <div>\\r\\n                    {{ focusedFeedback.comment }}\\r\\n                </div>\\r\\n                <app-resolve-button></app-resolve-button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div #unit\\r\\n            *ngIf=\\\"group.get('type').value === 'quantitative'\\\"\\r\\n            class=\\\"mr-3\\\">\\r\\n            <mat-form-field>\\r\\n                <mat-label>Unit</mat-label>\\r\\n                <mat-select\\r\\n                    value=\\\"\\\"\\r\\n                    formControlName=\\\"unit\\\" >\\r\\n                    <mat-option value=\\\"integer\\\">Integer</mat-option>\\r\\n                    <mat-option value=\\\"decimal\\\">Decimal</mat-option>\\r\\n                </mat-select>\\r\\n            </mat-form-field>\\r\\n            <div\\r\\n                *ngIf= \\\"focusedElemWithKey('unit')\\\"\\r\\n                class=\\\"feedback-region select\\\">\\r\\n                <div>\\r\\n                    {{ focusedFeedback.comment }}\\r\\n                </div>\\r\\n                <app-resolve-button></app-resolve-button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"w-100 d-flex flex-wrap\\\" #labels>\\r\\n        <app-label-chip-list\\r\\n            formKey=\\\"labels\\\"\\r\\n            [editable]=\\\"false\\\"\\r\\n            [formGroup]=\\\"group\\\"\\r\\n            [focusedFeedback]=\\\"focusedFeedback\\\"\\r\\n            [focusedFeedbackKey]=\\\"focusedFeedbackKey\\\">\\r\\n        </app-label-chip-list>\\r\\n    </div>\\r\\n    <div\\r\\n        *ngIf=\\\"hasMarkLabels\\\"\\r\\n        class=\\\"w-100 my-1\\\"\\r\\n        #markLabels>\\r\\n        <div class=\\\"w-100\\\">\\r\\n            <mat-checkbox formControlName=\\\"labeled\\\">\\r\\n                Target of Mark Labels\\r\\n            </mat-checkbox>\\r\\n        </div>\\r\\n        <ng-container *ngIf=\\\"group.get('labeled').value\\\">\\r\\n            <app-label-chip-list\\r\\n                formKey=\\\"markLabels\\\"\\r\\n                [editable]=\\\"true\\\"\\r\\n                [formGroup]=\\\"group\\\"\\r\\n                [focusedFeedback]=\\\"focusedFeedback\\\"\\r\\n                [focusedFeedbackKey]=\\\"focusedFeedbackKey\\\">\\r\\n            </app-label-chip-list>\\r\\n        </ng-container>\\r\\n    </div>\\r\\n</div>\\r\\n\"","export default \"<canvas #canvas width=\\\"15px\\\" height=\\\"15px\\\">\\r\\n</canvas>\\r\\n\"","export default \"<div class=\\\"w-100 py-2\\\" [formGroup]=\\\"group\\\">\\r\\n    <div class=\\\"w-100 position-relative\\\">\\r\\n        <app-sub-header [title]=\\\"title\\\"></app-sub-header>\\r\\n        <button mat-icon-button\\r\\n            class=\\\"close-button\\\"\\r\\n            (click)=\\\"close()\\\">\\r\\n            <mat-icon>clear</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"w-100 d-flex flex-wrap\\\" #titleRef>\\r\\n        <mat-form-field class=\\\"w-100\\\">\\r\\n            <input matInput formControlName=\\\"title\\\"\\r\\n                placeholder=\\\"Title\\\">\\r\\n        </mat-form-field>\\r\\n        <div\\r\\n            *ngIf= \\\"focusedElemWithKey('title')\\\"\\r\\n            class=\\\"feedback-region title\\\">\\r\\n            <div>\\r\\n                {{ focusedFeedback.comment }}\\r\\n            </div>\\r\\n            <app-resolve-button></app-resolve-button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"w-100 d-flex flex-wrap\\\">\\r\\n        <div #type class=\\\"mr-3\\\">\\r\\n            <mat-form-field class=\\\"mr-3\\\">\\r\\n                <mat-label>Type</mat-label>\\r\\n                <mat-select\\r\\n                    formControlName=\\\"type\\\"\\r\\n                    (selectionChange)=\\\"onValueTypeChange($event)\\\">\\r\\n                    <mat-option value=\\\"nominal\\\">nominal</mat-option>\\r\\n                    <mat-option value=\\\"quantitative\\\">quantitative</mat-option>\\r\\n                </mat-select>\\r\\n            </mat-form-field>\\r\\n            <div\\r\\n                *ngIf= \\\"focusedElemWithKey('type')\\\"\\r\\n                class=\\\"feedback-region select\\\">\\r\\n                <div>\\r\\n                    {{ focusedFeedback.comment }}\\r\\n                </div>\\r\\n                <app-resolve-button></app-resolve-button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div #unit class=\\\"mr-3\\\">\\r\\n            <mat-form-field *ngIf=\\\"valueType === 'quantitative'\\\">\\r\\n                <mat-label>Unit</mat-label>\\r\\n                <mat-select\\r\\n                    value=\\\"\\\"\\r\\n                    formControlName=\\\"unit\\\">\\r\\n                    <mat-option value=\\\"integer\\\">Integer</mat-option>\\r\\n                    <mat-option value=\\\"decimal\\\">Decimal</mat-option>\\r\\n                </mat-select>\\r\\n            </mat-form-field>\\r\\n            <div\\r\\n                *ngIf= \\\"focusedElemWithKey('unit')\\\"\\r\\n                class=\\\"feedback-region select\\\">\\r\\n                <div>\\r\\n                    {{ focusedFeedback.comment }}\\r\\n                </div>\\r\\n                <app-resolve-button></app-resolve-button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div\\r\\n        *ngIf=\\\"hasMarkLabels\\\"\\r\\n        class=\\\"w-100 my-1 d-flex align-items-center flex-wrap\\\" #labels>\\r\\n        <mat-checkbox formControlName=\\\"labeled\\\"\\r\\n            class=\\\"w-100\\\"\\r\\n            (change)=\\\"checkLabeledByMarks($event)\\\">\\r\\n            Target of Mark Labels\\r\\n        </mat-checkbox>\\r\\n        <app-label-chip-list\\r\\n            *ngIf=\\\"labeledByMarks\\\"\\r\\n            formKey=\\\"markLabels\\\"\\r\\n            [editable]=\\\"true\\\"\\r\\n            [formGroup]=\\\"group\\\"\\r\\n            [focusedFeedback]=\\\"focusedFeedback\\\"\\r\\n            [focusedFeedbackKey]=\\\"focusedFeedbackKey\\\">\\r\\n        </app-label-chip-list>\\r\\n    </div>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"w-100 d-flex flex-wrap\\\" [formGroup]=\\\"formGroup\\\">\\r\\n    <mat-form-field class=\\\"w-100\\\">\\r\\n        <mat-chip-list #chipList [formArrayName]=\\\"formKey\\\">\\r\\n            <mat-chip *ngFor=\\\"let label of labels\\\"\\r\\n                color=\\\"primary\\\"\\r\\n                [selectable]=\\\"editable\\\"\\r\\n                [removable]=\\\"editable\\\"\\r\\n                (removed)=\\\"remove(label)\\\">\\r\\n                {{ label }}\\r\\n                <mat-icon matChipRemove>cancel</mat-icon>\\r\\n            </mat-chip>\\r\\n            <input\\r\\n                *ngIf=\\\"editable\\\"\\r\\n                placeholder='Register labels'\\r\\n                [matChipInputAddOnBlur]=\\\"true\\\"\\r\\n                [matChipInputFor]=\\\"chipList\\\"\\r\\n                [matChipInputSeparatorKeyCodes]=\\\"separatorKeyCodes\\\"\\r\\n                (matChipInputTokenEnd)=\\\"add($event)\\\"\\r\\n                >\\r\\n        </mat-chip-list>\\r\\n    </mat-form-field>\\r\\n    <div\\r\\n        *ngIf=\\\"focusedFeedback && focusedFeedbackKey === formKey\\\"\\r\\n        class=\\\"feedback-region\\\">\\r\\n        <div class=\\\"mr-2\\\">\\r\\n            {{ focusedFeedback.comment }}\\r\\n        </div>\\r\\n        <app-resolve-button></app-resolve-button>\\r\\n    </div>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"w-100\\\" [formGroup]=\\\"group\\\">\\r\\n    <div class=\\\"w-100 d-flex flex-wrap\\\" #title>\\r\\n        <mat-form-field class=\\\"w-100\\\">\\r\\n            <input matInput formControlName=\\\"title\\\"\\r\\n                placeholder=\\\"Title\\\">\\r\\n        </mat-form-field>\\r\\n        <div\\r\\n            *ngIf= \\\"focusedElemWithKey('title')\\\"\\r\\n            class=\\\"feedback-region title\\\">\\r\\n            <div>\\r\\n                {{ focusedFeedback.comment }}\\r\\n            </div>\\r\\n            <app-resolve-button></app-resolve-button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"w-100 d-flex flex-wrap\\\" #labels>\\r\\n        <app-label-chip-list\\r\\n            formKey=\\\"labels\\\"\\r\\n            [editable]=\\\"false\\\"\\r\\n            [formGroup]=\\\"group\\\"\\r\\n            [focusedFeedback]=\\\"focusedFeedback\\\"\\r\\n            [focusedFeedbackKey]=\\\"focusedFeedbackKey\\\">\\r\\n        </app-label-chip-list>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\"","export default \"<div *ngIf=\\\"stage == 0\\\">\\r\\n<div class=\\\"p-2 w-100\\\">\\r\\n    <mat-button-toggle-group\\r\\n        [value]=\\\"boxMode\\\"\\r\\n        (change)=\\\"onBoxModeChange($event)\\\">\\r\\n        <mat-button-toggle value=\\\"text\\\">\\r\\n            Text Mode\\r\\n        </mat-button-toggle>\\r\\n        <mat-button-toggle value=\\\"mark\\\">\\r\\n            Mark Mode\\r\\n        </mat-button-toggle>\\r\\n    </mat-button-toggle-group>\\r\\n</div>\\r\\n<div *ngIf=\\\"boxMode === 'mark'\\\">\\r\\n    <div class=\\\"d-flex align-items-center w-100\\\">\\r\\n        <div class=\\\"subtitle py-2 mr-1\\\">\\r\\n            {{ task.inputMode === 'rect' ? 'Mark Boxes' : 'Mark Points' }}\\r\\n        </div>\\r\\n        <button mat-icon-button\\r\\n            (click)=\\\"clearBoxes()\\\"\\r\\n            color=\\\"warn\\\"\\r\\n            clss=\\\"mr-2\\\">\\r\\n            <mat-icon>delete</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div\\r\\n        *ngIf=\\\"focusedFeedback && focusedFeedbackKey.startsWith('mark.other')\\\"\\r\\n        class=\\\"w-100 feedback-region my-2 justify-content-start\\\">\\r\\n        <div class=\\\"mr-3\\\">\\r\\n            {{ focusedFeedback.comment }}\\r\\n        </div>\\r\\n        <app-resolve-button></app-resolve-button>\\r\\n    </div>\\r\\n    <ng-container *ngIf=\\\"task.inputType === 'rect'\\\">\\r\\n        <mat-checkbox (change)=\\\"onCheckBoxRegression($event)\\\">\\r\\n            Apply Box Regression By Color\\r\\n        </mat-checkbox>\\r\\n    </ng-container>\\r\\n    <div *ngIf=\\\"task.inputType === 'point'\\\">\\r\\n        <div>\\r\\n            Point Mark Radius\\r\\n        </div>\\r\\n        <div class=\\\"d-flex align-items-center\\\">\\r\\n            <mat-slider\\r\\n                min=\\\"3\\\"\\r\\n                max=\\\"15\\\"\\r\\n                step=\\\"1\\\"\\r\\n                [(ngModel)]=\\\"pointRadius\\\"\\r\\n                class=\\\"mr-3 w-25\\\"\\r\\n                (change)=\\\"onPointSizeChange($event)\\\"\\r\\n            >\\r\\n            </mat-slider>\\r\\n            <div class=\\\"mr-1\\\">\\r\\n                <svg height=\\\"48px\\\" width=\\\"48px\\\">\\r\\n                    <circle cx=\\\"24px\\\" cy=\\\"24px\\\" r=\\\"8px\\\"\\r\\n                        fill=\\\"darkorange\\\" #pointMark>\\r\\n                    </circle>\\r\\n                </svg>\\r\\n            </div>\\r\\n            <div>\\r\\n                {{ pointRadius }}px\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n    </div>\\r\\n    <div\\r\\n        class=\\\"p-2 d-flex flex-wrap table styled-scroll\\\" #markScroll>\\r\\n        <div class=\\\"d-flex w-100 py-1 border-bottom\\\">\\r\\n            <div class=\\\"w-20 text-center py-1\\\">\\r\\n                INDEX\\r\\n            </div>\\r\\n            <div\\r\\n                *ngFor=\\\"let feature of task.features\\\"\\r\\n                class=\\\"w-20 text-center\\\">\\r\\n                {{feature}}\\r\\n            </div>\\r\\n        </div>\\r\\n        <div\\r\\n            *ngFor=\\\"let box of marks; let i = index\\\"\\r\\n            [class]=\\\"'d-flex flex-wrap w-100 focus-box elem-' + box.key\\\"\\r\\n            (click)=\\\"updateFocus(box.key)\\\"\\r\\n            [class.even]=\\\"i % 2 == 0\\\"\\r\\n            #markRows>\\r\\n            <div class=\\\"w-100 d-flex\\\"\\r\\n                [class.focused]=\\\"focusedBoxIndex === box.key\\\">\\r\\n                <div class=\\\"w-20 text-center py-1\\\">\\r\\n                    {{ i }}\\r\\n                </div>\\r\\n                <div\\r\\n                    *ngFor=\\\"let feature of task.features\\\"\\r\\n                    class=\\\"w-20 text-center py-1\\\">\\r\\n                    <span>{{ box.points[feature].value }}</span>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div\\r\\n                [hidden]=\\\"!focusedFeedback || focusedFeedbackKey !== box.key\\\"\\r\\n                class=\\\"w-100 feedback-region\\\">\\r\\n                <div class=\\\"mr-3\\\">\\r\\n                    {{ focusedFeedback ? focusedFeedback.comment : '' }}\\r\\n                </div>\\r\\n                <app-resolve-button></app-resolve-button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div *ngIf=\\\"boxMode === 'text'\\\">\\r\\n    <div class=\\\"d-flex w-100\\\">\\r\\n        <div class=\\\"subtitle py-2 mr-1\\\">Text Boxes</div>\\r\\n        <button mat-icon-button (click)=\\\"clearBoxes()\\\" color=\\\"warn\\\">\\r\\n            <mat-icon>delete</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div\\r\\n        *ngIf=\\\"focusedFeedback && focusedFeedbackKey.startsWith('text.other')\\\"\\r\\n        class=\\\"w-100 feedback-region my-2 justify-content-start\\\">\\r\\n        <div class=\\\"mr-3\\\">\\r\\n            {{ focusedFeedback.comment }}\\r\\n        </div>\\r\\n        <app-resolve-button></app-resolve-button>\\r\\n    </div>\\r\\n    <div class=\\\"p-2 d-flex flex-wrap table styled-scroll\\\" #textScroll>\\r\\n        <div class=\\\"d-flex w-100 py-1 border-bottom\\\">\\r\\n            <div\\r\\n                *ngFor=\\\"let feature of task.features\\\"\\r\\n                class=\\\"feature-cell\\\">\\r\\n                {{feature}}\\r\\n            </div>\\r\\n            <div\\r\\n                *ngIf=\\\"task.textLabels.length > 1\\\"\\r\\n                class=\\\"w-25 text-center\\\">\\r\\n                Label\\r\\n            </div>\\r\\n            <div\\r\\n                class=\\\"input-cell text-center\\\">\\r\\n                Text\\r\\n            </div>\\r\\n        </div>\\r\\n        <div\\r\\n            *ngFor=\\\"let box of texts; let i = index\\\"\\r\\n            [class]=\\\"'d-flex flex-wrap w-100 focus-box elem-' + box.key\\\"\\r\\n            (click)=\\\"updateFocus(box.key)\\\"\\r\\n            #textRows>\\r\\n            <div class=\\\"d-flex w-100\\\"\\r\\n                [class.focused]=\\\"focusedBoxIndex === box.key\\\">\\r\\n                <div\\r\\n                    *ngFor=\\\"let feature of task.features\\\"\\r\\n                    class=\\\"feature-cell py-1\\\">\\r\\n                    <span>{{ box.points[feature].value }} </span>\\r\\n                </div>\\r\\n                <div\\r\\n                    *ngIf=\\\"task.textLabels.length > 1\\\"\\r\\n                    class=\\\"w-25 text-center px-2 py-1\\\">\\r\\n                    <select [formControl]=\\\"box.label\\\"\\r\\n                        class=\\\"label-select\\\"\\r\\n                        (change)=\\\"onLabelChange()\\\"\\r\\n                        (focus)=\\\"onBlurEvent(box)\\\">\\r\\n                        <option *ngFor=\\\"let label of task.textLabels\\\" [value]=\\\"label\\\">\\r\\n                                {{ label }}\\r\\n                        </option>\\r\\n                    </select>\\r\\n                </div>\\r\\n                <div\\r\\n                    class=\\\"input-cell px-2 py-1\\\">\\r\\n                    <input [formControl]=\\\"box.text\\\"\\r\\n                        (blur)=\\\"onBlurEvent(box)\\\"\\r\\n                        (keypress)=\\\"inputKeyPress($event)\\\"\\r\\n                        type=\\\"search\\\">\\r\\n                </div>\\r\\n            </div>\\r\\n            <div\\r\\n                [hidden]=\\\"!focusedFeedback || focusedFeedbackKey !== box.key\\\"\\r\\n                class=\\\"w-100 feedback-region\\\">\\r\\n                <div class=\\\"mr-3\\\">\\r\\n                    {{ focusedFeedback ? focusedFeedback.comment : '' }}\\r\\n                </div>\\r\\n                <app-resolve-button></app-resolve-button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"validate-feedback w-100 py-2\\\">\\r\\n    <ng-container *ngFor=\\\"let msg of task.msgs\\\">\\r\\n        *{{ msg }} <br/>\\r\\n    </ng-container>\\r\\n</div>\\r\\n</div>\\r\\n<div *ngIf=\\\"stage == 1\\\">\\r\\n    <div class=\\\"w-100 position-relative\\\">\\r\\n        <app-sub-header title=\\\"Specification\\\"></app-sub-header>\\r\\n        <button mat-icon-button\\r\\n            class=\\\"close-button\\\"\\r\\n            (click)=\\\"refresh(1)\\\">\\r\\n            <mat-icon>refresh</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div\\r\\n        *ngIf=\\\"focusedFeedback && focusedFeedbackKey.startsWith('spec.other')\\\"\\r\\n        class=\\\"w-100 feedback-region my-2 justify-content-start\\\">\\r\\n        <div class=\\\"mr-3\\\">\\r\\n            {{ focusedFeedback.comment }}\\r\\n        </div>\\r\\n        <app-resolve-button></app-resolve-button>\\r\\n    </div>\\r\\n     <div\\r\\n        class=\\\"p-2 d-flex flex-wrap table styled-scroll\\\"\\r\\n        [formGroup]=\\\"specGroup\\\"\\r\\n        #specScroll>\\r\\n        <div class=\\\"w-100 d-flex flex-wrap spec\\\">\\r\\n            <mat-form-field class=\\\"w-100\\\">\\r\\n                <input matInput formControlName=\\\"title\\\" placeholder=\\\"Title\\\" (change)=\\\"onChangeTitleSpec($event)\\\">\\r\\n            </mat-form-field>\\r\\n            <div\\r\\n                *ngIf=\\\"focusedFeedback && focusedFeedbackKey === 'title'\\\"\\r\\n                class=\\\"w-100 feedback-region title\\\">\\r\\n                <div class=\\\"mr-3\\\">\\r\\n                    {{ focusedFeedback.comment }}\\r\\n                </div>\\r\\n                <app-resolve-button></app-resolve-button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"w-100 d-flex spec\\\">\\r\\n            <mat-form-field class=\\\"w-100\\\">\\r\\n                <input matInput readonly placeholder=\\\"Number of Marks\\\" [value]=\\\"marks.length\\\">\\r\\n            </mat-form-field>\\r\\n        </div>\\r\\n        <app-sub-header *ngIf=\\\"axesGroup.length > 0\\\"\\r\\n            title=\\\"Axes\\\">\\r\\n        </app-sub-header>\\r\\n        <div *ngFor=\\\"let axisGroup of axesGroup; let i = index\\\"\\r\\n            class=\\\"w-100 spec\\\">\\r\\n            <app-axis-spec\\r\\n                [auto]=\\\"auto\\\"\\r\\n                [index]=\\\"i\\\"\\r\\n                [group]=\\\"axisGroup\\\"\\r\\n                [task]=\\\"task\\\"\\r\\n                [texts]=\\\"texts\\\"\\r\\n                (scroll)=\\\"onSpecScroll($event)\\\">\\r\\n            </app-axis-spec>\\r\\n        </div>\\r\\n        <ng-container *ngIf=\\\"hasLegend\\\">\\r\\n            <app-sub-header title=\\\"Legend\\\"> </app-sub-header>\\r\\n            <div class=\\\"w-100 spec\\\">\\r\\n                <app-legend-spec\\r\\n                    [auto]=\\\"auto\\\"\\r\\n                    [group]=\\\"legendGroup\\\"\\r\\n                    [task]=\\\"task\\\"\\r\\n                    (scroll)=\\\"onSpecScroll($event)\\\">\\r\\n                </app-legend-spec>\\r\\n            </div>\\r\\n        </ng-container>\\r\\n        <app-custom-spec\\r\\n            class=\\\"w-100\\\"\\r\\n            *ngFor=\\\"let group of customGroups; let i = index\\\"\\r\\n            [index]=\\\"i\\\"\\r\\n            [group]=\\\"group\\\"\\r\\n            [task]=\\\"task\\\"\\r\\n            [texts]=\\\"texts\\\"\\r\\n            (closed)=\\\"deleteCustomColumn($event)\\\"\\r\\n            (scroll)=\\\"onSpecScroll($event)\\\">\\r\\n\\r\\n        </app-custom-spec>\\r\\n        <div class=\\\"mt-2 d-flex w-100\\\">\\r\\n            <button mat-stroked-button\\r\\n                class=\\\"mr-2\\\"\\r\\n                (click)=\\\"addCustomColumn(false)\\\">\\r\\n                Add Custom Column\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div *ngIf=\\\"stage == 2\\\">\\r\\n    <div class=\\\"subtitle py-2\\\">Raw Data</div>\\r\\n    <div class=\\\"p-2 d-flex flex-wrap w-100\\\">\\r\\n        <app-raw-table\\r\\n            class=\\\"w-100\\\"\\r\\n            [imgRef]=\\\"imgRef\\\"\\r\\n            [formGroup]=\\\"formGroup.get(task.key)\\\"\\r\\n            [task]=\\\"task\\\"\\r\\n            [boxes]=\\\"boxes\\\"\\r\\n            [hasLegend]=\\\"hasLegend\\\"\\r\\n            [focusedBoxIndex]=\\\"focusedBoxIndex\\\"\\r\\n            [inputType]=\\\"task.inputType\\\"\\r\\n            [pointRadius]=\\\"pointRadius\\\"\\r\\n            [auto]=\\\"auto\\\"\\r\\n            [mode]=\\\"mode\\\"\\r\\n            (focusEmitter)=\\\"updateFocus($event)\\\"\\r\\n            (submitEmitter)=\\\"onSubmitReady()\\\">\\r\\n\\r\\n        </app-raw-table>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"mt-2 w-100 d-flex justify-content-end\\\">\\r\\n    <button mat-button class=\\\"mr-2\\\"\\r\\n        (click)=\\\"goPrevStage()\\\"\\r\\n        [disabled]=\\\"stage === 0\\\">\\r\\n        << Prev Stage\\r\\n    </button>\\r\\n    <button mat-button\\r\\n        (click)=\\\"goNextStage()\\\"\\r\\n        [disabled]=\\\"stage === 2\\\">\\r\\n        >> Next Stage\\r\\n    </button>\\r\\n</div>\\r\\n\"","export default \"<h1 mat-dialog-title>Add custom column</h1>\\r\\n<div mat-dialog-content>\\r\\n  <p>Fill the column name</p>\\r\\n  <mat-form-field>\\r\\n    <input matInput [(ngModel)]=\\\"column.title\\\">\\r\\n  </mat-form-field>\\r\\n<mat-form-field class=\\\"w-100\\\">\\r\\n    <mat-chip-list #chipList>\\r\\n        <mat-chip *ngFor=\\\"let label of column.labels\\\"\\r\\n            [selectable]=\\\"true\\\"\\r\\n            [removable]=\\\"true\\\"\\r\\n            (removed)=\\\"remove(label)\\\">\\r\\n            {{ label }}\\r\\n            <mat-icon matChipRemove>cancel</mat-icon>\\r\\n        </mat-chip>\\r\\n        <input\\r\\n            placeholder='Register labels'\\r\\n            [matChipInputAddOnBlur]=\\\"true\\\"\\r\\n            [matChipInputFor]=\\\"chipList\\\"\\r\\n            [matChipInputSeparatorKeyCodes]=\\\"separatorKeyCodes\\\"\\r\\n            (matChipInputTokenEnd)=\\\"add($event)\\\"\\r\\n            >\\r\\n    </mat-chip-list>\\r\\n</mat-form-field>\\r\\n</div>\\r\\n<div mat-dialog-actions>\\r\\n  <button mat-button (click)=\\\"onNoClick()\\\">Cancel</button>\\r\\n  <button mat-button [mat-dialog-close]=\\\"column\\\" cdkFocusInitial>Ok</button>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"styled-scroll raw-table w-100\\\" [formGroup]=\\\"formGroup\\\" #table>\\r\\n    <div\\r\\n        *ngIf=\\\"focusedFeedback && focusedFeedbackKey.startsWith('other')\\\"\\r\\n        class=\\\"w-100 feedback-region my-2 justify-content-start\\\">\\r\\n        <div class=\\\"mr-3\\\">\\r\\n            {{ focusedFeedback.comment }}\\r\\n        </div>\\r\\n        <app-resolve-button></app-resolve-button>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex\\\" style=\\\"padding-left: 80px;\\\">\\r\\n        <div *ngFor=\\\"let column of columns; let i = index\\\" class=\\\"column p-2 column-title\\\">\\r\\n            {{ column.title }}\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex\\\">\\r\\n        <div class=\\\"index-cell align-self-center\\\">\\r\\n            Index\\r\\n        </div>\\r\\n        <div *ngFor=\\\"let column of columns; let i = index\\\" class=\\\"column p-2\\\">\\r\\n            <mat-form-field>\\r\\n                <mat-label>Encoding</mat-label>\\r\\n                <select matNativeControl\\r\\n                    [value]=\\\"column.encoding ? column.encoding.value: ''\\\"\\r\\n                    (change)=\\\"onSelectEncoding($event, column)\\\">\\r\\n                    <option value=\\\"x-position\\\">Position (x)</option>\\r\\n                    <option value=\\\"y-position\\\">Position (y)</option>\\r\\n                    <option value=\\\"height\\\">Height</option>\\r\\n                    <option value=\\\"width\\\">Width</option>\\r\\n                    <option value=\\\"area\\\">Area (Ratio)</option>\\r\\n                    <option value=\\\"color\\\">Color(Required)</option>\\r\\n                    <option value=\\\"none\\\">None (Only for custom column)</option>\\r\\n                </select>\\r\\n            </mat-form-field>\\r\\n            <div\\r\\n                *ngIf= \\\"focusedFeedbackKey === column.path\\\"\\r\\n                class=\\\"feedback-region select\\\">\\r\\n                <div>\\r\\n                    {{ focusedFeedback.comment }}\\r\\n                </div>\\r\\n                <app-resolve-button></app-resolve-button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <ng-container *ngIf=\\\"allChannelsEncoded\\\">\\r\\n        <div *ngFor=\\\"let row of rows let i = index\\\">\\r\\n            <div [formGroup]=\\\"row.group\\\" class=\\\"d-flex focus-box\\\"\\r\\n                (click)=\\\"updateFocus(row.markKey)\\\"\\r\\n                [class.focused]=\\\"focusedBoxIndex === row.markKey\\\">\\r\\n                <div class=\\\"index-cell\\\">\\r\\n                    {{ i }}\\r\\n                </div>\\r\\n                <div *ngFor=\\\"let column of columns; let j = index\\\" class=\\\"column content-cell\\\">\\r\\n                    <ng-container\\r\\n                        *ngIf=\\\"!column.labels || column.labels.length == 0\\\">\\r\\n                        <input [formControlName]=\\\"column.title\\\">\\r\\n                    </ng-container>\\r\\n                    <ng-container\\r\\n                        *ngIf=\\\"column.labels && column.labels.length > 0\\\">\\r\\n                        <svg *ngIf=\\\"column.encoding\\r\\n                            && column.encoding.value === 'color'\\\"\\r\\n                            class=\\\"patch\\\"\\r\\n                        >\\r\\n                            <rect\\r\\n                            [attr.fill]=\\\"row.attrs[column.title] || '#000'\\\">\\r\\n                            </rect>\\r\\n                        </svg>\\r\\n                        <app-canvas-patch\\r\\n                            class=\\\"patch\\\"\\r\\n                            *ngIf=\\\"column.encoding\\r\\n                                && column.encoding.value === 'shape'\\\"\\r\\n                            [data]=\\\"row.attrs[column.title]\\\">\\r\\n                        </app-canvas-patch>\\r\\n                        <select [formControlName]=\\\"column.title\\\"\\r\\n                            (change)=\\\"onChangeLabel(column, row, i)\\\"\\r\\n                            class=\\\"w-100\\\">\\r\\n                            <option *ngFor=\\\"let label of column.labels\\\" [value]=\\\"label\\\">\\r\\n                                {{ label }}\\r\\n                            </option>\\r\\n                        </select>\\r\\n                    </ng-container>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div\\r\\n                *ngIf=\\\"row.markKey === focusedFeedbackKey\\\"\\r\\n                class=\\\"feedback-region justify-content-start my-1\\\">\\r\\n                <div class=\\\"mr-3\\\">\\r\\n                    {{ focusedFeedback ? focusedFeedback.comment : '' }}\\r\\n                </div>\\r\\n                <app-resolve-button></app-resolve-button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </ng-container>\\r\\n</div>\\r\\n<div class=\\\"w-100 mt-2 d-flex align-items-center\\\">\\r\\n    <!-- <button mat-stroked-button color=\\\"primary\\\"\\r\\n        class=\\\"mr-2\\\"\\r\\n        (click)=\\\"addRow()\\\">\\r\\n        Add Row\\r\\n    </button> -->\\r\\n    <button mat-stroked-button color=\\\"primary\\\"\\r\\n        class=\\\"mr-2\\\"\\r\\n        (click)=\\\"clear()\\\">\\r\\n        Clear\\r\\n    </button>\\r\\n    <button\\r\\n        mat-flat-button color=\\\"primary\\\" (click)=\\\"runPrediction()\\\">\\r\\n        Predict\\r\\n    </button>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"p-2 w-75\\\" [formGroup]=\\\"formGroup\\\">\\r\\n    <div class=\\\"table styled-scroll\\\">\\r\\n        <div\\r\\n            *ngFor=\\\"let feature of task.features\\\"\\r\\n            class=\\\"w-100 text-center pr-3 py-2\\r\\n                d-flex justify-content-between\\\">\\r\\n                <div class=\\\"w-50 text-left\\\">\\r\\n                    {{ feature }}\\r\\n                </div>\\r\\n                <input\\r\\n                    [formControl]=\\\"getControl(feature)\\\"\\r\\n                    type=\\\"number\\\"\\r\\n                    class=\\\"w-25 text-center answer-input\\\">\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"validate-feedback w-100\\\">\\r\\n        <ng-container *ngFor=\\\"let msg of task.msgs\\\">\\r\\n            *{{ msg }} <br/>\\r\\n        </ng-container>\\r\\n    </div>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"p-2 d-flex flex-wrap table styled-scroll\\\">\\r\\n    <div class=\\\"d-flex w-100 py-1 border-bottom\\\">\\r\\n        <div\\r\\n            *ngFor=\\\"let feature of task.features\\\"\\r\\n            class=\\\"w-10 text-center\\\">\\r\\n            {{feature}}\\r\\n        </div>\\r\\n        <div\\r\\n            *ngIf=\\\"task.labels.length > 1\\\"\\r\\n            class=\\\"w-25 text-center\\\">\\r\\n            Label\\r\\n        </div>\\r\\n        <div\\r\\n            *ngIf=\\\"task.collectContent\\\"\\r\\n            class=\\\"w-20 text-center\\\">\\r\\n            Text\\r\\n        </div>\\r\\n    </div>\\r\\n    <div\\r\\n        *ngFor=\\\"let box of boxes\\\"\\r\\n        class=\\\"d-flex w-100\\\"\\r\\n        [class.focused]=\\\"focusedBoxIndex === box.key\\\">\\r\\n        <div\\r\\n            *ngFor=\\\"let feature of task.features\\\"\\r\\n            class=\\\"w-10 text-center py-1\\\"\\r\\n            (click)=\\\"updateFocus(box.key)\\\">\\r\\n            {{ box.points[feature].value }}\\r\\n        </div>\\r\\n        <div\\r\\n            *ngIf=\\\"task.labels.length > 1\\\"\\r\\n            class=\\\"w-25 text-center px-2 py-1\\\">\\r\\n            <select [formControl]=\\\"box.label\\\"\\r\\n                class=\\\"mat-select\\\">\\r\\n                <option *ngFor=\\\"let label of task.labels\\\" [value]=\\\"label\\\">\\r\\n                        {{ label }}\\r\\n                </option>\\r\\n            </select>\\r\\n        </div>\\r\\n        <div\\r\\n            *ngIf=\\\"task.collectContent\\\"\\r\\n            class=\\\"w-20 text-center px-2 py-1\\\">\\r\\n            <input [formControl]=\\\"box.text\\\">\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"validate-feedback w-100 py-2\\\">\\r\\n        <ng-container *ngFor=\\\"let msg of task.msgs\\\">\\r\\n            *{{ msg }} <br/>\\r\\n        </ng-container>\\r\\n    </div>\\r\\n</div>\\r\\n\"","export default \"<div\\r\\n    [class.focused]=\\\"focused\\\"\\r\\n    (click)=\\\"focus.emit(feedback)\\\">\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"p-3\\\" id=\\\"feedback-container\\\"\\r\\n    *ngIf=\\\"displayModal\\\"\\r\\n    #container>\\r\\n    <div class=\\\"w-100\\r\\n        d-flex align-items-center\\r\\n        position-relative\\\">\\r\\n        <div>\\r\\n            Feedback\\r\\n        </div>\\r\\n        <button mat-icon-button\\r\\n            class=\\\"close\\\"\\r\\n            (click)=\\\"close()\\\">\\r\\n            <mat-icon>clear</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"w-100 my-2\\\">\\r\\n        {{ feedback ? feedback.comment : '' }}\\r\\n    </div>\\r\\n    <div class=\\\"w-100 d-flex justify-content-end\\\">\\r\\n        <button mat-flat-button\\r\\n            (click)=\\\"resolve()\\\">\\r\\n            Resolve\\r\\n        </button>\\r\\n    </div>\\r\\n    <svg></svg>\\r\\n</div>\\r\\n\"","export default \"<button mat-stroked-button\\r\\n    class=\\\"resolve-button\\\"\\r\\n    (click)=\\\"fs.resolve()\\\">\\r\\n    Resolve\\r\\n</button>\\r\\n\"","export default \"<div\\r\\n    *ngIf=\\\"feedbacks\\\"\\r\\n    class=\\\"w-100 ml-3 p-2 d-flex align-items-center flex-wrap\\\">\\r\\n    <app-sub-header title=\\\"Feedback List\\\"></app-sub-header>\\r\\n    <app-feedback-mark\\r\\n        class=\\\"mr-2\\\"\\r\\n        *ngFor=\\\"let feedback of feedbacks let index = i;\\\"\\r\\n        [feedback]=\\\"feedback\\\"\\r\\n        [focused]=\\\"focusedKey === feedback.key\\\"\\r\\n        (focus)=\\\"onFeedbackFocused($event)\\\">\\r\\n    </app-feedback-mark>\\r\\n    <div *ngIf=\\\"!feedbacks || feedbacks.length === 0\\\">\\r\\n        <i>There are no feedbacks.</i>\\r\\n    </div>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"w-100 my-2 sub-header\\\">\\r\\n    {{ title }}\\r\\n</div>\\r\\n<mat-divider class=\\\"mb-3\\\"></mat-divider>\\r\\n\\r\\n\"","export default \"<mat-sidenav-container class=\\\"w-100 h-100\\\">\\r\\n    <mat-sidenav mode=\\\"side\\\" opened id=\\\"side-nav\\\">\\r\\n        <app-side-nav\\r\\n            (remove)=\\\"onRemoveImage()\\\"\\r\\n            [event]=\\\"eventSubject.asObservable()\\\">\\r\\n        </app-side-nav>\\r\\n    </mat-sidenav>\\r\\n    <mat-sidenav-content>\\r\\n        <div\\r\\n            class=\\\"w-100 h-100 d-flex\\\">\\r\\n            <div class=\\\"w-50 h-100\\\">\\r\\n                <div class=\\\"w-100 p-2 d-flex align-items-center edit-header\\\">\\r\\n                    MODE:\\r\\n                    {{ mode.toUpperCase() }}\\r\\n                    <b *ngIf=\\\"config\\\">\\r\\n                        {{ config.service === 'normal'\\r\\n                            ? ''\\r\\n                            : '[' + config.service.toUpperCase() + ']'\\r\\n                        }}\\r\\n                    </b>\\r\\n                </div>\\r\\n                <div id=\\\"image-zone\\\" class=\\\"w-100 h-75\\r\\n            d-flex justify-content-center align-items-center\\r\\n            position-relative\\\"\\r\\n                    [class.selected]=\\\"selectedImage\\\"\\r\\n                    #imgZone>\\r\\n                    <div class=\\\"position-absolute image-region\\\" [class.selected]=\\\"selectedImage\\\">\\r\\n                        <img #img>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"position-absolute image-region\\\" [class.selected]=\\\"selectedImage\\\">\\r\\n                        <svg #svg></svg>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"noImagesLeft\\\"\\r\\n                        class=\\\"position-absolute w-100 h-100\\r\\n                            d-flex flex-column justify-content-center align-items-center\\\">\\r\\n                        <h3 class=\\\"w-100 mb-3 text-center\\\">\\r\\n                            COMPLETE\\r\\n                        </h3>\\r\\n                        <div class=\\\"px-4 desc\\\">\\r\\n                            Congratulations! You have annotated all the images.\\r\\n                            <br/>\\r\\n                            There are no more images left.\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"w-50 h-100 right-panel\\\"\\r\\n                *ngIf=\\\"mode !== 'verification'\\\">\\r\\n                <app-annotation-module\\r\\n                    *ngIf=\\\"formGroup\\\"\\r\\n                    [formGroup]=\\\"formGroup\\\"\\r\\n                    [config]=\\\"config\\\"\\r\\n                    [imgRef]=\\\"imgRef\\\"\\r\\n                    [spacePressed]=\\\"spacePressed\\\"\\r\\n                    [svgS]=\\\"svgS\\\"\\r\\n                    [event]=\\\"eventSubject.asObservable()\\\"\\r\\n                    [mode]=\\\"mode\\\"\\r\\n                    (submitEmitter)=\\\"submit()\\\">\\r\\n                </app-annotation-module>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"mode === 'verification' && config\\\"\\r\\n                class=\\\"w-50 h-100 right-panel\\\" >\\r\\n                <app-verification-module\\r\\n                    [config]=\\\"config\\\"\\r\\n                    [verificationDatas]=\\\"verificationDatas\\\"\\r\\n                    [onImageLoad]=\\\"onImageLoad\\\"\\r\\n                    [imgRef]=\\\"imgRef\\\"\\r\\n                    [svgS]=\\\"svgS\\\"\\r\\n                    (reviewEmitter)=\\\"onReviewSubmitted()\\\"\\r\\n                >\\r\\n                </app-verification-module>\\r\\n            </div>\\r\\n        </div>\\r\\n    </mat-sidenav-content>\\r\\n</mat-sidenav-container>\\r\\n<app-feedback-modal></app-feedback-modal>\\r\\n\"","export default \"<div\\r\\n    class=\\\"d-flex align-items-center justify-content-between w-100\\r\\n        side-panel\\\">\\r\\n\\r\\n</div>\\r\\n<mat-list *ngIf=\\\"progress\\\">\\r\\n    <div mat-list-item mat-subheader class=\\\"p-2 pl-3 progress-info\\\">\\r\\n        Progress:\\r\\n        <span class=\\\"annotated mx-1\\\">{{ progress.approved }}</span>\\r\\n        /\\r\\n        {{ progress.total - progress.ignored}}\\r\\n        <span class=\\\"ignored mx-1\\\">({{progress.ignored}})</span>\\r\\n    </div>\\r\\n    <div mat-list-item mat-subheader class=\\\"p-2 pl-3 progress-info\\\">\\r\\n        USER NAME:\\r\\n        <span class=\\\"mx-1 annotated\\\">\\r\\n            <strong>{{ userName }}</strong>\\r\\n        </span>\\r\\n    </div>\\r\\n</mat-list>\\r\\n<mat-action-list>\\r\\n    <button mat-list-item mat-subheader\\r\\n        (click)=\\\"autoListShow= !autoListShow\\\">\\r\\n        <div class=\\\"w-100 px-1\\r\\n            d-flex justify-content-between align-items-center\\\">\\r\\n            <div>Use Suggestions</div>\\r\\n            <div>\\r\\n                <mat-icon>{{ autoListShow ? 'remove' : 'add_circle_outline'}}</mat-icon>\\r\\n            </div>\\r\\n        </div>\\r\\n    </button>\\r\\n    <ng-container *ngIf=\\\"autoListShow\\\">\\r\\n        <div *ngFor=\\\"let modelInfo of modelInfos\\\" mat-list-item class=\\\"py-2\\\">\\r\\n            <mat-checkbox mat-subheader (change)=\\\"onChangeAutoComplete($event, modelInfo)\\\">{{ modelInfo.name }} ({{ modelInfo.scoreFormat }})</mat-checkbox>\\r\\n        </div>\\r\\n    </ng-container>\\r\\n</mat-action-list>\\r\\n<ng-container *ngIf=\\\"config && config.service === 'normal'\\\">\\r\\n    <div *ngIf=\\\"edit.image\\\"\\r\\n        class=\\\"d-flex align-items-center justify-content-between w-100\\r\\n            side-panel\\\">\\r\\n        <button mat-stroked-button color=\\\"warn\\\" (click)=\\\"removeImage()\\\">\\r\\n            <div class=\\\"d-flex justify-content-between align-items-center\\\">\\r\\n                <mat-icon class=\\\"mr-1\\\">delete_outline</mat-icon>\\r\\n                <div>\\r\\n                REMOVE THIS IMAGE\\r\\n                </div>\\r\\n            </div>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"edit.image\\\"\\r\\n        class=\\\"d-flex align-items-center justify-content-between w-100\\r\\n            side-panel mt-2\\\">\\r\\n        <button mat-stroked-button color=\\\"warn\\\" (click)=\\\"getRandImage()\\\">\\r\\n            SKIP\\r\\n        </button>\\r\\n    </div>\\r\\n</ng-container>\\r\\n\\r\\n<!-- <mat-action-list>\\r\\n    <button mat-list-item mat-subheader\\r\\n        (click)=\\\"imageListShow = !imageListShow\\\">\\r\\n        <div class=\\\"w-100 px-1\\r\\n            d-flex justify-content-between align-items-center\\\">\\r\\n            <div>Image List</div>\\r\\n            <div>\\r\\n                <mat-icon>{{ imageListShow ? 'remove' : 'add_circle_outline'}}</mat-icon>\\r\\n            </div>\\r\\n        </div>\\r\\n    </button>\\r\\n    <ng-container *ngIf=\\\"imageListShow\\\">\\r\\n        <button mat-list-item *ngFor=\\\"let image of edit.images; let i=index\\\"\\r\\n        [class.selected]=\\\"edit.selectedImage && image.path === edit.selectedImage.path\\\"\\r\\n        (click)=\\\"selectImage(image)\\\">\\r\\n\\r\\n        </button>\\r\\n    </ng-container>\\r\\n    <mat-divider></mat-divider>\\r\\n</mat-action-list> -->\\r\\n\"","export default \"<div\\r\\n    [formGroup]=\\\"form\\\"\\r\\n    [class.focused]=\\\"feedback.key === focusedKey\\\"\\r\\n    (click)=\\\"onFocus()\\\"\\r\\n    class=\\\"w-100 wrapper\\\">\\r\\n    <mat-divider class=\\\"w-100 my-1\\\"></mat-divider>\\r\\n    <div class=\\\"w-100 d-flex justify-content-between\\\">\\r\\n        <div class=\\\"w-100 d-flex align-items-center\\\">\\r\\n            <mat-form-field\\r\\n                *ngIf=\\\"!directInput\\\"\\r\\n                class=\\\"w-50\\\">\\r\\n                <mat-label>Comment</mat-label>\\r\\n                <mat-select\\r\\n                    appStopPropagation\\r\\n                    formControlName=\\\"comment\\\">\\r\\n                    <mat-option *ngFor=\\\"let comment of comments\\\" [value]=\\\"comment\\\">\\r\\n                        {{ comment }}\\r\\n                    </mat-option>\\r\\n                </mat-select>\\r\\n            </mat-form-field>\\r\\n            <mat-form-field\\r\\n                *ngIf=\\\"directInput\\\"\\r\\n                class=\\\"w-50\\\">\\r\\n                <input\\r\\n                    appStopPropagation matInput\\r\\n                    formControlName=\\\"comment\\\" placeholder=\\\"Comment\\\" />\\r\\n            </mat-form-field>\\r\\n            <mat-checkbox\\r\\n                appStopPropagation\\r\\n                class=\\\"ml-3\\\"\\r\\n                (change)=\\\"checkWriteMode($event)\\\">\\r\\n                Write directly\\r\\n            </mat-checkbox>\\r\\n        </div>\\r\\n        <button mat-icon-button\\r\\n            (click)=\\\"remove.emit(form)\\\">\\r\\n            <mat-icon>clear</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"w-100 d-flex align-items-center flex-wrap\\\">\\r\\n    <app-sub-header title=\\\"Labels\\\"></app-sub-header>\\r\\n    <ng-container *ngIf=\\\"data\\\">\\r\\n        <button mat-flat-button\\r\\n            *ngFor=\\\"let label of data.labels\\\"\\r\\n            (click)=\\\"clickLabelButton(label)\\\"\\r\\n            class=\\\"mr-2 label-button\\\"\\r\\n            [class.selected]=\\\"label === data.label\\\">\\r\\n            {{ label }}\\r\\n        </button>\\r\\n    </ng-container>\\r\\n    <div\\r\\n        *ngIf=\\\"!feedbackForm\\\"\\r\\n        class=\\\"w-100 my-2 mt-3 d-flex justify-content-end\\\">\\r\\n        <button mat-button (click)=\\\"update('')\\\">\\r\\n            Add Feedback\\r\\n        </button>\\r\\n    </div>\\r\\n</div>\\r\\n<div *ngIf=\\\"feedbackForm\\\"\\r\\n    [formGroup]=\\\"feedbackForm\\\"\\r\\n    class=\\\"my-2\\\">\\r\\n    <mat-divider class=\\\"w-100\\\"></mat-divider>\\r\\n    <div class=\\\"w-100 d-flex justify-content-end\\\">\\r\\n        <button mat-icon-button\\r\\n            (click)=\\\"remove()\\\">\\r\\n            <mat-icon>clear</mat-icon>\\r\\n        </button>\\r\\n    </div>\\r\\n    <mat-form-field class=\\\"w-100\\\">\\r\\n        <input matInput\\r\\n            placeholder=\\\"Comment\\\"\\r\\n            formControlName=\\\"comment\\\"/>\\r\\n    </mat-form-field>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"w-100 mt-2 spec-table\\\">\\r\\n    <div class=\\\"d-flex w-100\\\">\\r\\n        <div class=\\\"focus-unit w-100\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.title.key\\\"\\r\\n            (click)=\\\"emit(data.title)\\\">\\r\\n            <div class=\\\"w-125 p-2 cell-title\\\">\\r\\n                Axis\\r\\n            </div>\\r\\n            <div class=\\\"w-875 p-2\\\">\\r\\n                {{ data.title.value }}\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex w-100\\\">\\r\\n        <div class=\\\"focus-unit w-25\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.dir.key\\\"\\r\\n            (click)=\\\"emit(data.dir)\\\">\\r\\n            <div class=\\\"w-50 p-2 cell-title\\\">\\r\\n                Direction\\r\\n            </div>\\r\\n            <div class=\\\"w-50 p-2\\\">\\r\\n                {{ data.dir.value }}\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"focus-unit w-25\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.type.key\\\"\\r\\n            (click)=\\\"emit(data.type)\\\">\\r\\n            <div class=\\\"w-50 p-2 cell-title\\\">\\r\\n                Type\\r\\n            </div>\\r\\n            <div class=\\\"w-50 p-2\\\">\\r\\n                {{ data.type.value }}\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"focus-unit w-25\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.unit.key\\\"\\r\\n            (click)=\\\"emit(data.unit)\\\">\\r\\n            <div class=\\\"w-50 p-2 cell-title\\\">\\r\\n                Unit\\r\\n            </div>\\r\\n            <div class=\\\"w-50 p-2\\\">\\r\\n                {{ data.unit.value }}\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"focus-unit w-25\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.encoding.key\\\"\\r\\n            (click)=\\\"emit(data.encoding)\\\">\\r\\n            <div class=\\\"w-50 p-2 cell-title\\\">\\r\\n                Encoding\\r\\n            </div>\\r\\n            <div class=\\\"w-50 p-2\\\">\\r\\n                {{ data.encoding.value }}\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex w-100\\\">\\r\\n        <div class=\\\"focus-unit w-100\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.labels.key\\\"\\r\\n            (click)=\\\"emit(data.labels)\\\">\\r\\n            <div class=\\\"w-125 p-2 cell-title\\\">\\r\\n                Labels\\r\\n            </div>\\r\\n            <div class=\\\"w-875 p-2\\\">\\r\\n                {{ labels }}\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex w-100\\\"\\r\\n        *ngIf=\\\"data.markLabels && data.markLabels.value.length > 0\\\">\\r\\n        <div class=\\\"focus-unit w-100\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.markLabels.key\\\"\\r\\n            (click)=\\\"emit(data.markLabels)\\\">\\r\\n            <div class=\\\"w-125 p-2 cell-title\\\">\\r\\n                Mark Labels\\r\\n            </div>\\r\\n            <div class=\\\"w-875 p-2\\\">\\r\\n                {{ markLabels }}\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"w-100 mt-2 spec-table\\\">\\r\\n    <div class=\\\"d-flex w-100\\\">\\r\\n        <div class=\\\"focus-unit w-100\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.title.key\\\"\\r\\n            (click)=\\\"emit(data.title)\\\">\\r\\n            <div class=\\\"w-125 p-2 cell-title\\\">\\r\\n                Custom\\r\\n            </div>\\r\\n            <div class=\\\"w-875 p-2\\\">\\r\\n                {{ data.title.value }}\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex w-100\\\">\\r\\n        <div class=\\\"focus-unit w-25\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.type.key\\\"\\r\\n            (click)=\\\"emit(data.type)\\\">\\r\\n            <div class=\\\"w-50 p-2 cell-title\\\">\\r\\n                Type\\r\\n            </div>\\r\\n            <div class=\\\"w-50 p-2\\\">\\r\\n                {{ data.type.value }}\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"focus-unit w-25\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.unit.key\\\"\\r\\n            (click)=\\\"emit(data.unit)\\\">\\r\\n            <div class=\\\"w-50 p-2 cell-title\\\">\\r\\n                Unit\\r\\n            </div>\\r\\n            <div class=\\\"w-50 p-2\\\">\\r\\n                {{ data.unit.value }}\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"focus-unit w-50\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.encoding.key\\\"\\r\\n            (click)=\\\"emit(data.encoding)\\\">\\r\\n            <div class=\\\"w-25 p-2 cell-title\\\">\\r\\n                Encoding\\r\\n            </div>\\r\\n            <div class=\\\"w-75 p-2\\\">\\r\\n                {{ data.encoding.value }}\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex w-100\\\">\\r\\n        <div class=\\\"focus-unit w-100\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.markLabels.key\\\"\\r\\n            (click)=\\\"emit(data.markLabels)\\\">\\r\\n            <div class=\\\"w-125 p-2 cell-title\\\">\\r\\n                Mark Labels\\r\\n            </div>\\r\\n            <div class=\\\"w-875 p-2\\\">\\r\\n                {{ markLabels }}\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\"","export default \"<div class=\\\"w-100 mt-2 spec-table\\\">\\r\\n    <div class=\\\"d-flex w-100\\\">\\r\\n        <div class=\\\"focus-unit w-100\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.title.key\\\"\\r\\n            (click)=\\\"emit(data.title)\\\">\\r\\n            <div class=\\\"w-125 p-2 cell-title\\\">\\r\\n                Legend\\r\\n            </div>\\r\\n            <div class=\\\"w-875 p-2\\\">\\r\\n                {{ data.title.value }}\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"d-flex w-100\\\">\\r\\n        <div class=\\\"focus-unit w-25\\\"\\r\\n            [class.focused]=\\\"focusedKey === data.encoding.key\\\"\\r\\n            (click)=\\\"emit(data.encoding)\\\">\\r\\n            <div class=\\\"w-50 p-2 cell-title\\\">\\r\\n                Encoding\\r\\n            </div>\\r\\n            <div class=\\\"w-50 p-2\\\">\\r\\n                {{ data.encoding.value }}\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"d-flex w-75\\\">\\r\\n            <div class=\\\"focus-unit w-100\\\"\\r\\n                [class.focused]=\\\"focusedKey === data.labels.key\\\"\\r\\n                (click)=\\\"emit(data.labels)\\\">\\r\\n                <div class=\\\"w-25 p-2 cell-title\\\">\\r\\n                    Labels\\r\\n                </div>\\r\\n                <div class=\\\"w-75 p-2\\\">\\r\\n                    {{ labels }}\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"w-100 styled-scroll wrapper\\\">\\r\\n\\r\\n<div class=\\\"w-100 d-flex align-items-center flex-wrap\\\">\\r\\n    <app-sub-header title=\\\"Marks\\\"></app-sub-header>\\r\\n    <ng-container *ngIf=\\\"data\\\">\\r\\n        <div\\r\\n            *ngFor=\\\"let mark of data.marks; let i = index\\\"\\r\\n            class=\\\"mr-2 mark-label\\\"\\r\\n            [class.focused]=\\\"focusedKey === mark.key\\\"\\r\\n            (click)=\\\"clickMark(mark)\\\">\\r\\n            {{ i }}\\r\\n        </div>\\r\\n    </ng-container>\\r\\n    <div\\r\\n        class=\\\"w-100 my-2 mt-3 d-flex justify-content-end\\\">\\r\\n        <button mat-stroked-button (click)=\\\"addMarkFeedback()\\\">\\r\\n            Add Marks Feedback\\r\\n        </button>\\r\\n    </div>\\r\\n    <app-feedback-card\\r\\n        *ngFor=\\\"let form of markFeedbacks\\\"\\r\\n        [form]=\\\"form\\\"\\r\\n        [focusedKey]=\\\"focusedKey\\\"\\r\\n        [comments]=\\\"markComments\\\"\\r\\n        (focus)=\\\"focus.emit($event)\\\"\\r\\n        (remove)=\\\"removeMarkFeedback($event)\\\">\\r\\n    </app-feedback-card>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"w-100 d-flex align-items-center flex-wrap\\\">\\r\\n    <app-sub-header title=\\\"Texts\\\"></app-sub-header>\\r\\n    <ng-container *ngIf=\\\"data\\\">\\r\\n        <div class=\\\"d-flex w-100 align-items-center text-label title\\\">\\r\\n            <div class=\\\"label-cell px-2\\\">\\r\\n                Label\\r\\n            </div>\\r\\n            <div class=\\\"label-cell px-2\\\">\\r\\n                Text\\r\\n            </div>\\r\\n        </div>\\r\\n        <mat-divider class=\\\"w-100\\\"></mat-divider>\\r\\n        <div\\r\\n            *ngFor=\\\"let text of data.texts; let i = index\\\"\\r\\n            class=\\\"d-flex w-100 align-items-center text-label\\\"\\r\\n            [class.focused]=\\\"focusedKey === text.key\\\"\\r\\n            [class.odd-row]=\\\"i % 2 === 1\\\"\\r\\n            (click)=\\\"clickText(text)\\\">\\r\\n            <div class=\\\"label-cell px-2\\\">\\r\\n                {{ text.label }}\\r\\n            </div>\\r\\n            <div class=\\\"text-cell px-2\\\">\\r\\n                {{ text.text }}\\r\\n            </div>\\r\\n        </div>\\r\\n    </ng-container>\\r\\n    <div\\r\\n        class=\\\"w-100 my-2 mt-3 d-flex justify-content-end\\\">\\r\\n        <button mat-stroked-button (click)=\\\"addTextFeedback()\\\">\\r\\n            Add Texts Feedback\\r\\n        </button>\\r\\n    </div>\\r\\n    <app-feedback-card\\r\\n        *ngFor=\\\"let form of textFeedbacks\\\"\\r\\n        [form]=\\\"form\\\"\\r\\n        [focusedKey]=\\\"focusedKey\\\"\\r\\n        [comments]=\\\"textComments\\\"\\r\\n        (focus)=\\\"focus.emit($event)\\\"\\r\\n        (remove)=\\\"removeTextFeedback($event)\\\">\\r\\n    </app-feedback-card>\\r\\n</div>\\r\\n\\r\\n\\r\\n<div class=\\\"w-100 d-flex align-items-center flex-wrap\\\">\\r\\n    <app-sub-header title=\\\"Spec\\\"></app-sub-header>\\r\\n    <ng-container *ngIf=\\\"data\\\">\\r\\n        <div class=\\\"w-100 spec-table\\\">\\r\\n            <div class=\\\"d-flex w-100 focus-unit\\\"\\r\\n                [class.focused]=\\\"data.spec.title.key === focusedKey\\\"\\r\\n                (click)=\\\"clickCell(data.spec.title.key)\\\">\\r\\n                <div class=\\\"w-125 p-2 cell-title\\\">\\r\\n                    Title\\r\\n                </div>\\r\\n                <div class=\\\"w-875 p-2\\\">\\r\\n                    {{ data.spec.title.value }}\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <app-axis-spec-card\\r\\n            *ngFor=\\\"let axis of data.spec.axes; let i = index\\\"\\r\\n            [data]=\\\"axis\\\"\\r\\n            [index]=\\\"i\\\"\\r\\n            [focusedKey]=\\\"focusedKey\\\"\\r\\n            (focus)=\\\"clickCell($event)\\\">\\r\\n        </app-axis-spec-card>\\r\\n        <app-legend-spec-card\\r\\n            *ngIf=\\\"data.spec.legend\\\"\\r\\n            [data]=\\\"data.spec.legend\\\"\\r\\n            [focusedKey]=\\\"focusedKey\\\"\\r\\n            (focus)=\\\"clickCell($event)\\\">\\r\\n        </app-legend-spec-card>\\r\\n        <app-custom-spec-card\\r\\n            *ngFor=\\\"let custom of data.spec.customs; let i = idnex\\\"\\r\\n            [data]=\\\"custom\\\"\\r\\n            [index]=\\\"i\\\"\\r\\n            [focusedKey]=\\\"focusedKey\\\"\\r\\n            (focus)=\\\"clickCell($event)\\\">\\r\\n        </app-custom-spec-card>\\r\\n    </ng-container>\\r\\n    <div\\r\\n        class=\\\"w-100 my-2 mt-3 d-flex justify-content-end\\\">\\r\\n        <button mat-stroked-button (click)=\\\"addSpecFeedback()\\\">\\r\\n            Add Spec Feedback\\r\\n        </button>\\r\\n    </div>\\r\\n    <app-feedback-card\\r\\n        *ngFor=\\\"let form of specFeedbacks\\\"\\r\\n        [form]=\\\"form\\\"\\r\\n        [focusedKey]=\\\"focusedKey\\\"\\r\\n        [comments]=\\\"specComments\\\"\\r\\n        (focus)=\\\"focus.emit($event)\\\"\\r\\n        (remove)=\\\"removeSpecFeedback($event)\\\">\\r\\n    </app-feedback-card>\\r\\n</div>\\r\\n\\r\\n\\r\\n<div class=\\\"w-100 d-flex align-items-center flex-wrap\\\">\\r\\n    <app-sub-header title=\\\"Raw\\\"></app-sub-header>\\r\\n    <div *ngIf=\\\"data\\\"\\r\\n        class=\\\"w-100 raw-table\\\">\\r\\n        <div class=\\\"d-flex w-100 align-items-center text-label title\\\">\\r\\n            <div *ngFor=\\\"let key of data.raw.keys\\\" class=\\\"label-cell px-2\\\">\\r\\n                {{ key }}\\r\\n            </div>\\r\\n        </div>\\r\\n        <mat-divider class=\\\"w-100\\\"></mat-divider>\\r\\n        <div\\r\\n            *ngFor=\\\"let row of data.raw.rows; let i = index\\\"\\r\\n            class=\\\"d-flex w-100 align-items-center text-label\\\"\\r\\n            [class.focused]=\\\"focusedKey === row.key\\\"\\r\\n            [class.odd-row]=\\\"i % 2 === 1\\\"\\r\\n            (click)=\\\"clickRow(row)\\\">\\r\\n            <div\\r\\n                *ngFor=\\\"let key of data.raw.keys\\\"\\r\\n                class=\\\"label-cell px-2\\\">\\r\\n                {{ row.value[key] }}\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div\\r\\n        class=\\\"w-100 my-2 mt-3 d-flex justify-content-end\\\">\\r\\n        <button mat-stroked-button (click)=\\\"addRawFeedback()\\\">\\r\\n            Add Raw Feedback\\r\\n        </button>\\r\\n    </div>\\r\\n    <app-feedback-card\\r\\n        *ngFor=\\\"let form of rawFeedbacks\\\"\\r\\n        [form]=\\\"form\\\"\\r\\n        [focusedKey]=\\\"focusedKey\\\"\\r\\n        [comments]=\\\"rawComments\\\"\\r\\n        (focus)=\\\"focus.emit($event)\\\"\\r\\n        (remove)=\\\"removeRawFeedback($event)\\\">\\r\\n    </app-feedback-card>\\r\\n</div>\\r\\n\\r\\n</div>\\r\\n\"","export default \"<mat-vertical-stepper linear\\r\\n    #stepper>\\r\\n    <ng-container *ngFor=\\\"let task of config.tasks; let i = index\\\">\\r\\n        <mat-step>\\r\\n            <ng-template matStepLabel>{{ task.command }}</ng-template>\\r\\n            <ng-container [ngSwitch]=\\\"task.taskType\\\">\\r\\n                <ng-container *ngSwitchCase=\\\"'C'\\\">\\r\\n                    <app-v-classification\\r\\n                        [task]=\\\"task\\\"\\r\\n                        [data]=\\\"verificationDatas[i]\\\"\\r\\n                        (addFeedback)=\\\"onAddFeedback($event)\\\"\\r\\n                        (removeFeedback)=\\\"onRemoveFeedback($event)\\\">\\r\\n                    </app-v-classification\\r\\n>\\r\\n                </ng-container>\\r\\n            </ng-container>\\r\\n            <ng-container [ngSwitch]=\\\"task.taskType\\\">\\r\\n                <ng-container *ngSwitchCase=\\\"'O'\\\">\\r\\n                    <app-v-overall\\r\\n                        [task]=\\\"task\\\"\\r\\n                        [data]=\\\"verificationDatas[i]\\\"\\r\\n                        [onImageLoad]=\\\"onImageLoad\\\"\\r\\n                        [imgRef]=\\\"imgRef\\\"\\r\\n                        [svgS]=\\\"svgS\\\"\\r\\n                        [focusedKey]=\\\"focusedKey\\\"\\r\\n                        (add)=\\\"onAddFeedback($event)\\\"\\r\\n                        (remove)=\\\"onRemoveFeedback($event)\\\"\\r\\n                        (focus)=\\\"focusedKey = $event\\\">\\r\\n                    </app-v-overall>\\r\\n                </ng-container>\\r\\n            </ng-container>\\r\\n        </mat-step>\\r\\n    </ng-container>\\r\\n</mat-vertical-stepper>\\r\\n<app-review-panel\\r\\n    [feedbackForms]=\\\"feedbackForms\\\"\\r\\n    [focusedKey]=\\\"focusedKey\\\"\\r\\n    (focus)=\\\"focusedKey = $event\\\">\\r\\n</app-review-panel>\\r\\n<div class=\\\"w-100 d-flex justify-content-end align-items-center pr-3\\\">\\r\\n    <button mat-flat-button\\r\\n        class=\\\"mr-3\\\"\\r\\n        color=\\\"primary\\\"\\r\\n        [disabled]=\\\"feedbackForms.length > 0\\\"\\r\\n        (click)=\\\"sendReview(true)\\\">\\r\\n        Accept\\r\\n    </button>\\r\\n    <button mat-flat-button\\r\\n        color=\\\"primary\\\"\\r\\n        [disabled]=\\\"feedbackForms.length === 0\\\"\\r\\n        (click)=\\\"sendReview(false)\\\">\\r\\n        Reject\\r\\n    </button>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"w-100 p-3 d-flex justify-content-center\\\">\\r\\n    <h1>\\r\\n               .\\r\\n    </h1>\\r\\n</div>\\r\\n<div class=\\\"w-100 mt-3 p-3 d-flex justify-content-center\\\">\\r\\n    <div class=\\\"mr-4 w-20\\\">\\r\\n        <mat-form-field class=\\\"w-100 mb-3\\\">\\r\\n            <input matInput\\r\\n                pattern=\\\"[A-Za-z0-9_]{1,10}\\\"\\r\\n                placeholder=\\\"Name\\\"\\r\\n                [(ngModel)]=\\\"name\\\"/>\\r\\n            <mat-hint>\\r\\n                    .\\r\\n            </mat-hint>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field class=\\\"w-100\\\">\\r\\n            <input matInput\\r\\n                type=\\\"password\\\"\\r\\n                placeholder=\\\"Password\\\"\\r\\n                [(ngModel)]=\\\"password\\\"/>\\r\\n            <mat-hint>\\r\\n                  1      (8  ).\\r\\n            </mat-hint>\\r\\n        </mat-form-field>\\r\\n    </div>\\r\\n\\r\\n    <button mat-flat-button\\r\\n        class=\\\"my-2\\\"\\r\\n        color=\\\"primary\\\"\\r\\n        (click)=\\\"login()\\\" >\\r\\n        LOGIN\\r\\n    </button>\\r\\n</div>\\r\\n<div class=\\\"w-100 mt-3 p-3 d-flex justify-content-center\\\"\\r\\n    color=\\\"warn\\\">\\r\\n    {{ warnMessage }}\\r\\n</div>\\r\\n\"","export default \"<p>\\r\\n    There is no active instance.\\r\\n</p>\\r\\n\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { EditComponent } from './edit/edit.component';\r\nimport { NonActivePageComponent } from './non-active-page/non-active-page.component';\r\nimport { LoginComponent } from './login/login.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: '/login', pathMatch: 'full'},\r\n  { path: 'edit', component: EditComponent },\r\n  { path: 'login', component: LoginComponent },\r\n  { path: 'none', component: NonActivePageComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, {onSameUrlNavigation: 'reload'})],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","export default \"#wrapper {\\n  height: 100vh;\\n  width: 100vw;\\n}\\n\\na {\\n  color: white;\\n  margin-right: 10px;\\n  text-decoration: none;\\n}\\n\\na.menu {\\n  font-size: 15px;\\n  color: #EEE;\\n}\\n\\na.menu:hover {\\n  opacity: 0.7;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvQzpcXFVzZXJzXFxqdW5ob2VcXEhDSUxcXGRldlxcQXV0b3RhdG9yXFxjbGllbnQvc3JjXFxhcHBcXGFwcC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLFlBQUE7QUNDSjs7QURFQTtFQUNJLFlBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0VBQ0EsV0FBQTtBQ0NKOztBREVBO0VBQ0ksWUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI3dyYXBwZXIge1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIHdpZHRoOiAxMDB2dztcclxufVxyXG5cclxuYSB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbmEubWVudSB7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICBjb2xvcjogI0VFRTtcclxufVxyXG5cclxuYS5tZW51OmhvdmVyIHtcclxuICAgIG9wYWNpdHk6IDAuNztcclxufVxyXG4iLCIjd3JhcHBlciB7XG4gIGhlaWdodDogMTAwdmg7XG4gIHdpZHRoOiAxMDB2dztcbn1cblxuYSB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbmEubWVudSB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgY29sb3I6ICNFRUU7XG59XG5cbmEubWVudTpob3ZlciB7XG4gIG9wYWNpdHk6IDAuNztcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { NetworkService } from './network.service';\r\nimport { InstanceStatus } from './common/edit-data';\r\nimport { ConfigService } from './config.service';\r\nimport { Config } from './common/config';\r\nimport { environment } from 'src/environments/environment';\r\n\r\ntype ServiceMode = 'normal' | 'quiz' | 'demo';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit {\r\n\r\n    public status: InstanceStatus;\r\n\r\n    constructor(private network: NetworkService,\r\n                private configService: ConfigService) { }\r\n\r\n    ngOnInit() {\r\n        this.configService.checkInstanceObservable.subscribe(_ => {\r\n            this.checkInstance();\r\n        });\r\n    }\r\n\r\n    private checkInstance() {\r\n        this.network.checkInstance(environment.mode)\r\n            .then((status: InstanceStatus) => {\r\n                this.status = status;\r\n                if (this.status.active) {\r\n                    this.configService\r\n                        .setConfig(new Config(this.status.config));\r\n                }\r\n            });\r\n    }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { EditComponent } from './edit/edit.component';\r\nimport { FileDropDirective } from './edit/file-drop.directive';\r\n\r\nimport { MatSidenavModule, MatListModule, MatDividerModule,\r\n    MatIconModule, MatStepperModule, MatRadioModule, MatFormFieldModule,\r\n     MatButtonModule, MatInputModule, MatCheckboxModule, MatToolbarModule,\r\n    MatSelectModule, MatButtonToggleModule, MatChipsModule, MatSliderModule, MatDialogModule } from '@angular/material';\r\n\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nimport {\r\n    ClassificationComponent, RegressionComponent, TextComponent,\r\n    BoundingBoxComponent, OverallComponent, AxisSpecComponent, RawTableComponent, ColumnAdditionDialogComponent, LegendSpecComponent,\r\n    CanvasPatchComponent, AnnotationModuleComponent } from './edit/annotation-module';\r\n\r\nimport {\r\n    VClassificationComponent,\r\n    VOverallComponent,\r\n    VerificationModuleComponent } from './edit/verification-module';\r\n\r\nimport {\r\n    VSubTitleComponent,\r\n    FeedbackMarkComponent,\r\n    FeedbackModalComponent,\r\n    ReviewPanelComponent } from './edit/common';\r\n\r\nimport { SideNavComponent } from './edit/side-nav/side-nav.component';\r\nimport { NonActivePageComponent } from './non-active-page/non-active-page.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { CustomSpecComponent } from './edit/annotation-module/overall/custom-spec/custom-spec.component';\r\nimport { LabelChipListComponent } from './edit/annotation-module/overall/label-chip-list/label-chip-list.component';\r\nimport { FeedbackCardComponent } from './edit/verification-module/feedback-card/feedback-card.component';\r\nimport { AxisSpecCardComponent } from './edit/verification-module/v-overall/axis-spec-card/axis-spec-card.component';\r\nimport { LegendSpecCardComponent } from './edit/verification-module/v-overall/legend-spec-card/legend-spec-card.component';\r\nimport { CustomSpecCardComponent } from './edit/verification-module/v-overall/custom-spec-card/custom-spec-card.component';\r\nimport { StopPropagationDirective } from './edit/common/stop-propagtion.directive';\r\nimport { ResolveButtonComponent } from './edit/common/resolve-button/resolve-button.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent,\r\n        EditComponent,\r\n        FileDropDirective,\r\n        StopPropagationDirective,\r\n        SideNavComponent,\r\n        ClassificationComponent,\r\n        RegressionComponent,\r\n        BoundingBoxComponent,\r\n        NonActivePageComponent,\r\n        LoginComponent,\r\n        TextComponent,\r\n        OverallComponent,\r\n        AxisSpecComponent,\r\n        RawTableComponent,\r\n        LegendSpecComponent,\r\n        ColumnAdditionDialogComponent,\r\n        CanvasPatchComponent,\r\n        VerificationModuleComponent,\r\n        VClassificationComponent,\r\n        VSubTitleComponent,\r\n        FeedbackMarkComponent,\r\n        AnnotationModuleComponent,\r\n        ReviewPanelComponent,\r\n        FeedbackModalComponent,\r\n        VOverallComponent,\r\n        CustomSpecComponent,\r\n        LabelChipListComponent,\r\n        FeedbackCardComponent,\r\n        AxisSpecCardComponent,\r\n        LegendSpecCardComponent,\r\n        CustomSpecCardComponent,\r\n        ResolveButtonComponent,\r\n    ],\r\n    entryComponents: [\r\n        ColumnAdditionDialogComponent,\r\n    ],\r\n    imports: [\r\n        BrowserModule,\r\n        AppRoutingModule,\r\n        BrowserAnimationsModule,\r\n        FormsModule, ReactiveFormsModule,\r\n        HttpClientModule,\r\n\r\n        MatSidenavModule, MatListModule,\r\n        MatDividerModule, MatIconModule,\r\n        MatStepperModule, MatRadioModule,\r\n        MatFormFieldModule, MatRadioModule,\r\n        MatButtonModule, MatInputModule,\r\n        MatCheckboxModule, MatToolbarModule,\r\n        MatSelectModule, MatButtonToggleModule,\r\n        MatChipsModule, MatSliderModule,\r\n        MatDialogModule\r\n    ],\r\n    providers: [],\r\n    bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { PredictData, AnnotatedImageData } from 'src/app/common/edit-data';\r\n\r\nimport { VerificationData } from './verification-data';\r\nimport { Task, TASK_CLASSIFICATION, TASK_REGRESSION, TASK_BBOX, TASK_TEXT, TASK_OVERALL } from './task/task';\r\nimport { Classification, Regression, BoundingBox, Overall } from './task';\r\nimport { environment } from 'src/environments/environment';\r\n\r\ntype ServiceMode = 'normal' | 'demo' | 'quiz';\r\n\r\nexport class Config {\r\n    public key: string;\r\n    public sharedDataset: boolean;\r\n    public verification: boolean;\r\n    public tasks: Task[];\r\n    public service: ServiceMode;\r\n\r\n    constructor(raw: any) {\r\n        this.key = raw['key'];\r\n        this.sharedDataset = raw['shared_dataset'] || false;\r\n        this.verification = raw['verification'] || false;\r\n        this.service = raw['service'];\r\n        this.tasks = raw['tasks']\r\n            .map((task: any) => {\r\n                switch (task['task_type']) {\r\n                    case TASK_CLASSIFICATION:\r\n                        return new Classification(task);\r\n                    case TASK_REGRESSION:\r\n                        return new Regression(task);\r\n                    case TASK_BBOX:\r\n                        return new BoundingBox(task);\r\n                    case TASK_TEXT:\r\n                        return new Text(task);\r\n                    case TASK_OVERALL:\r\n                        return new Overall(task);\r\n                }\r\n            });\r\n    }\r\n\r\n    static getDemo(): Config {\r\n        return new Config({\r\n            key: 'demo',\r\n            shared_dataset: true,\r\n            verification: true,\r\n            service: 'demo',\r\n            tasks: [{\r\n                key: 'key_0',\r\n                name: 'demo',\r\n                task_type: 'O',\r\n                command: '[]     ',\r\n                msgs: [\r\n                    '   Annotation, Verification, Revision    .',\r\n                    '   2  6    .'\r\n                ],\r\n                input_type: 'rect',\r\n                predictionScore: {\r\n                    Text: 0.92,\r\n                    Mark: 0.878,\r\n                    TextRole: 0.973\r\n                }\r\n            }],\r\n        });\r\n    }\r\n\r\n    parsePrediction(predictData: PredictData) {\r\n        this.tasks.forEach(task => {\r\n            task.parsePrediction(predictData.labels[task.key]);\r\n        });\r\n    }\r\n\r\n    parsePrevAnnotation(formGroup: FormGroup,\r\n                        annotation: {[key: string]: any},\r\n                        fb: FormBuilder) {\r\n        this.tasks.forEach(task => {\r\n            task.parsePrevAnnotation(formGroup, annotation[task.key], fb);\r\n        });\r\n    }\r\n\r\n    parseVerificationData(data: AnnotatedImageData): VerificationData[] {\r\n        return this.tasks.map(task => {\r\n            return task.parseForVerification(data.annotation[task.key]);\r\n        });\r\n    }\r\n}\r\n","import { Config } from './config';\r\nimport { Feedback } from './verification-data';\r\n\r\nexport interface MResponse<T> {\r\n    message: string;\r\n    code: number;\r\n    data: T;\r\n}\r\n\r\nexport interface Progress {\r\n    total: number;\r\n    approved: number;\r\n    ignored: number;\r\n}\r\n\r\nexport class ModelInfo {\r\n    public key: string;\r\n    public score: number | {[key: string]: number};\r\n    public name: string;\r\n\r\n    constructor(raw: any) {\r\n        this.key = raw['key'];\r\n        this.name = raw['name'];\r\n        this.score = raw['score'];\r\n    }\r\n\r\n    get scoreFormat(): string {\r\n        if (typeof this.score === 'number') {\r\n            return (this.score as number).toFixed(2);\r\n        } else {\r\n            return Object.values(this.score)\r\n                .map(d => d.toFixed(2))\r\n                .join(' / ');\r\n        }\r\n    }\r\n}\r\n\r\nexport interface AutoCompleteMap {\r\n    [key: string]: boolean;\r\n}\r\n\r\nexport class ImageElem {\r\n\r\n    public path: string;\r\n    public meta: AnnotationMeta;\r\n    public blob: Blob;\r\n    public index: number;\r\n    public src: string;\r\n    public semi: boolean;\r\n    public name: string;\r\n\r\n    constructor(path: string, blob?: Blob, src?: string,\r\n                meta?: AnnotationMeta) {\r\n        this.path = path;\r\n        this.blob = blob;\r\n        this.src = src;\r\n        this.meta = meta;\r\n        this.semi = false;\r\n        const splited = this.path.split('/');\r\n        this.name = splited[splited.length - 1];\r\n    }\r\n\r\n    get hasPrevAnnotation(): boolean {\r\n        return !!this.meta && !!this.meta.annotation;\r\n    }\r\n}\r\n\r\nexport class PredictData {\r\n    public semi: boolean;\r\n    public labels: { [key: string]: any };\r\n\r\n    constructor(raw: any) {\r\n        this.semi = raw['semi'];\r\n        this.labels = raw['labels'];\r\n    }\r\n\r\n    getBoundingBox(key: string, width: number, height: number): number[] | void {\r\n        if (this.labels[key][0] < 0.5) {\r\n            return null;\r\n        } else {\r\n            const label = this.labels[key].slice(1);\r\n            label[0] *= width;\r\n            label[2] *= width;\r\n            label[1] *= height;\r\n            label[1] *= height;\r\n            return label;\r\n        }\r\n    }\r\n}\r\n\r\nexport class AnnotatedImageData {\r\n    public path: string;\r\n    public annotation: {[key: string]: any };\r\n\r\n    constructor(raw: any) {\r\n        this.path = raw['path'];\r\n        this.annotation = raw['annotation'];\r\n    }\r\n}\r\n\r\nexport interface Attr {\r\n    value: number | string;\r\n    viewValue: string;\r\n}\r\n\r\nexport interface InstanceStatus {\r\n    config?: Config;\r\n    active: boolean;\r\n}\r\n\r\nexport class AnnotationMeta {\r\n    path: string;\r\n    feedbacks: Feedback[];\r\n    annotation?: { [key: string]: any };\r\n\r\n    constructor(raw: any) {\r\n        this.path = raw['path'];\r\n        this.feedbacks = raw['feedbacks'];\r\n        this.annotation = raw['annotation'] || null;\r\n    }\r\n}\r\n","import { Task, TASK_BBOX } from './task';\r\nimport { FormGroup, FormBuilder, FormControl } from '@angular/forms';\r\n\r\nexport class BoundingBox extends Task {\r\n\r\n    public labels: string[];\r\n    public features: string[];\r\n\r\n    constructor(raw: any) {\r\n        super(raw);\r\n        this.taskType = TASK_BBOX;\r\n        this.labels = raw['labels'].slice(1);\r\n        this.features = ['x0', 'y0', 'x1', 'y1'];\r\n    }\r\n\r\n    registerControl(formGroup: FormGroup, fb: FormBuilder) {\r\n        formGroup.addControl(this.key, fb.group({}));\r\n    }\r\n\r\n    updateBox(formGroup: FormGroup, raw: any) {\r\n        const group = formGroup.get(this.key) as FormGroup;\r\n        const num = (value: number) => +value.toFixed(3);\r\n        if (group.get(raw.key) === null) {\r\n            const newControl = this.features.reduce((acc, curr) => {\r\n                acc[curr] = new FormControl(num(raw[curr]));\r\n                return acc;\r\n            }, {});\r\n            newControl['label'] = new FormControl(raw.label || this.labels[0]);\r\n\r\n            group.addControl(raw.key, new FormGroup(newControl));\r\n        } else {\r\n            this.features.forEach(feature => {\r\n                if (raw[feature] !== null) {\r\n                    group.get(raw.key).get(feature).setValue(num(raw[feature]));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    parsePrediction(raw: any) {\r\n        const predicts = raw as any[];\r\n        this.prediction = predicts.map((d, i) => {\r\n            const [x0, y0, x1, y1] = d['bound'];\r\n            const label = d['label'];\r\n            return ({\r\n                key: i.toString(),\r\n                x0, y0, x1, y1,\r\n                label: label\r\n            });\r\n        });\r\n    }\r\n\r\n    applyPrediction(formGroup: FormGroup) {\r\n        if (this.prediction) {\r\n            this.prediction.forEach(raw => {\r\n                this.updateBox(formGroup, raw);\r\n            });\r\n        }\r\n    }\r\n\r\n    deleteBox(formGroup: FormGroup, key: string) {\r\n        const group = formGroup.get(this.key) as FormGroup;\r\n        group.removeControl(key);\r\n    }\r\n\r\n    getFormValue(formGroup: FormGroup) {\r\n        const group = formGroup.get(this.key) as FormGroup;\r\n        return Object.values(group.controls).map(boxControl => {\r\n            return ({\r\n                bound: this.features.map(feature => boxControl.get(feature).value),\r\n                label: boxControl.get('label').value\r\n            });\r\n        });\r\n    }\r\n}\r\n","import { Task, TASK_CLASSIFICATION } from './task';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { VClassificationData } from '../verification-data';\r\n\r\nexport class Classification extends Task {\r\n\r\n    public labels: string[];\r\n\r\n    constructor(raw: any) {\r\n        super(raw);\r\n        this.taskType = TASK_CLASSIFICATION;\r\n        this.labels = raw['labels'];\r\n    }\r\n\r\n    registerControl(formGroup: FormGroup, fb: FormBuilder) {\r\n        formGroup.addControl(this.key, fb.control(this.labels[0]));\r\n    }\r\n\r\n    parsePrediction(raw: any) {\r\n        this.prediction = raw;\r\n    }\r\n\r\n    parseForVerification(raw: any): VClassificationData {\r\n        return new VClassificationData(this.key, raw['label'], this.labels);\r\n    }\r\n\r\n    parsePrevAnnotation(formGroup: FormGroup, raw: any, fb: FormBuilder) {\r\n        formGroup.get(this.key).setValue(raw['label']);\r\n    }\r\n\r\n    updateBox(formGroup: FormGroup, raw: any) {\r\n        formGroup.get(this.key).setValue(raw);\r\n    }\r\n\r\n    getFormValue(formGroup: FormGroup): {label: string} {\r\n        return {\r\n            label: formGroup.get(this.key).value\r\n        };\r\n    }\r\n}\r\n","import * as tslib_1 from \"tslib\";\nexport * from './task';\nexport * from './classification';\nexport * from './regression';\nexport * from './overall';\nexport * from './text';\nexport * from './bounding-box';\n//# sourceMappingURL=index.js.map","export * from './task';\r\nexport * from './classification';\r\nexport * from './regression';\r\nexport * from './overall';\r\nexport * from './text';\r\nexport * from './bounding-box';\r\n","import { Task, TASK_OVERALL } from './task';\r\nimport { FormGroup, FormBuilder, FormControl, FormArray } from '@angular/forms';\r\n\r\nimport * as d3 from 'd3';\r\nimport { VerificationData, VOverallData, TextAnnotation } from '../verification-data';\r\n\r\nexport interface BoxData {\r\n    key?: string;\r\n    x0: number;\r\n    y0: number;\r\n    x1: number;\r\n    y1: number;\r\n    label?: string;\r\n    text?: string;\r\n}\r\n\r\nexport const KEY_TITLE = 'title';\r\nexport const KEY_X_AXIS_TITLE = 'x-axis-title';\r\nexport const KEY_Y_AXIS_TITLE = 'y-axis-title';\r\nexport const KEY_X_AXIS_LABEL = 'x-axis-label';\r\nexport const KEY_Y_AXIS_LABEL = 'y-axis-label';\r\nexport const KEY_LEGEND_TITLE = 'legend-title';\r\nexport const KEY_LEGEND_LABEL = 'legend-label';\r\nexport const KEY_MARK_LABEL = 'mark-label';\r\nexport const LABEL_PRIORITY = {\r\n    [KEY_TITLE]: 0,\r\n    [KEY_LEGEND_TITLE]: 1,\r\n    [KEY_LEGEND_LABEL]: 2,\r\n    [KEY_Y_AXIS_TITLE]: 3,\r\n    [KEY_Y_AXIS_LABEL]: 4,\r\n    [KEY_X_AXIS_TITLE]: 5,\r\n    [KEY_X_AXIS_LABEL]: 6,\r\n    [KEY_MARK_LABEL]: 7,\r\n};\r\nexport class Overall extends Task {\r\n\r\n    public textLabels: string[];\r\n    public features: string[];\r\n    public collectContent: boolean;\r\n    public inputType: 'rect' | 'point';\r\n    public prediction: BoxData[] = [];\r\n\r\n    constructor(raw: any) {\r\n        super(raw);\r\n        this.taskType = TASK_OVERALL;\r\n        this.textLabels = [\r\n            KEY_Y_AXIS_LABEL,\r\n            KEY_X_AXIS_LABEL,\r\n            KEY_LEGEND_LABEL,\r\n            KEY_MARK_LABEL,\r\n            KEY_TITLE,\r\n            KEY_Y_AXIS_TITLE,\r\n            KEY_X_AXIS_TITLE,\r\n            KEY_LEGEND_TITLE\r\n        ];\r\n        this.features = ['x0', 'y0', 'x1', 'y1'];\r\n        this.inputType = raw['input_type'];\r\n        this.submitReady = false;\r\n    }\r\n\r\n    static legendDefaultForm(fb: FormBuilder): FormGroup {\r\n        return fb.group({\r\n            title: fb.control(''),\r\n            labels: fb.array([])\r\n        });\r\n    }\r\n\r\n    registerControl(formGroup: FormGroup, fb: FormBuilder) {\r\n        formGroup.removeControl(this.key);\r\n        const container = fb.group({});\r\n        container.addControl('boxes', fb.group({}));\r\n        container.addControl('spec', fb.group({\r\n            title: fb.control(''),\r\n            axis: fb.array([]),\r\n            custom: fb.array([])\r\n        }));\r\n        container.addControl('raw', fb.array([]));\r\n        formGroup.addControl(this.key, container);\r\n    }\r\n\r\n    getDefaultSpecForm(fb: FormBuilder) {\r\n        return fb.group({\r\n            title: fb.control(''),\r\n            axis: fb.array([]),\r\n            custom: fb.array([])\r\n        });\r\n    }\r\n\r\n    updateBox(formGroup: FormGroup, raw: any) {\r\n\r\n        const group = formGroup.get(this.key).get('boxes') as FormGroup;\r\n        const num = (value: number) => +value.toFixed(3);\r\n\r\n        const center = (box: any) => {\r\n            return [\r\n                (num(box['x0']) + num(box['x1'])) / 2,\r\n                (num(box['y0']) + num(box['y1'])) / 2\r\n            ];\r\n        };\r\n        const findAdjLabel = () => {\r\n\r\n            const targetCenter = center(raw);\r\n            const texts = Object.values(group.controls)\r\n                .filter((d: FormGroup) => d.contains('text'));\r\n\r\n            if (texts.length === 0) {\r\n                return this.textLabels[0];\r\n            }\r\n\r\n            const dists = texts\r\n                .map(d => {\r\n                    const other = center(d.value);\r\n                    return Math.pow(targetCenter[0] - other[0], 2)\r\n                        + Math.pow(targetCenter[1] - other[1], 2);\r\n                });\r\n\r\n            const minIndex = dists.indexOf(d3.min(dists));\r\n            return texts[minIndex].get('label').value;\r\n        };\r\n\r\n        if (!group.contains(raw.key)) {\r\n            const newControl = this.features.reduce((acc, curr) => {\r\n                acc[curr] = new FormControl(num(raw[curr]));\r\n                return acc;\r\n            }, {});\r\n\r\n            if (raw.text !== undefined) {\r\n                newControl['text'] = new FormControl(raw.text || '');\r\n                newControl['label'] = new FormControl(raw.label || findAdjLabel());\r\n            } else {\r\n                newControl['label'] = new FormControl('');\r\n            }\r\n            group.addControl(raw.key, new FormGroup(newControl));\r\n        } else {\r\n            this.features.forEach(feature => {\r\n                if (raw[feature]) {\r\n                    group.get(raw.key).get(feature).setValue(num(raw[feature]));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private convertToBox(raw: any[]) {\r\n        return raw.map(d => {\r\n            const [ x0, y0, x1, y1 ] = d['bound'];\r\n            const label = d['label'];\r\n            const text = d['text'];\r\n            return {\r\n                x0, y0, x1, y1,\r\n                label,\r\n                text\r\n            };\r\n        });\r\n    }\r\n\r\n    parsePrediction(raw: any) {\r\n        this.prediction = this.convertToBox(raw as any[]);\r\n    }\r\n\r\n    parsePrevAnnotation(formGroup: FormGroup, raw: any, fb: FormBuilder) {\r\n        this.registerControl(formGroup, fb);\r\n        const marks = this.convertToBox(raw['marks']);\r\n        const texts = this.convertToBox(raw['texts']);\r\n        marks.concat(texts)\r\n                .map((d, i) => ({...d, key: i.toString()}))\r\n                .forEach(d => {\r\n                    this.updateBox(formGroup, d);\r\n                });\r\n        const spec = raw['spec'];\r\n        formGroup.get(`${this.key}.spec.title`).setValue(spec['title']);\r\n        (spec['axis'] as any[]).forEach(axis => {\r\n            (formGroup.get(`${this.key}.spec.axis`) as FormArray)\r\n                .push(this.convertToForm(axis, fb));\r\n        });\r\n        const legend = spec['legend'];\r\n        if (legend) {\r\n            (formGroup.get(`${this.key}.spec`) as FormGroup)\r\n                .addControl('legend', this.convertToForm(legend, fb));\r\n        }\r\n        (spec['custom'] as any[]).forEach(axis => {\r\n            (formGroup.get(`${this.key}.spec.custom`) as FormArray)\r\n                .push(this.convertToForm(axis, fb));\r\n        });\r\n        const rawGroup = fb.array([]);\r\n        (raw['raw'] as any[]).forEach(d => {\r\n            rawGroup.push(this.convertToForm(d, fb));\r\n        });\r\n        (formGroup.get(this.key) as FormGroup).setControl('raw', rawGroup);\r\n    }\r\n\r\n    parseForVerification(raw: any): VerificationData {\r\n        return new VOverallData(this.key, raw);\r\n    }\r\n\r\n    applyPrediction(formGroup: FormGroup) {\r\n        if (this.prediction) {\r\n            const texts = this.prediction.filter(d => d.text !== undefined);\r\n            const marks = this.prediction.filter(d => d.text === undefined)\r\n                .filter(mark => {\r\n                    const fp = texts.find(text => {\r\n                        const xCenter = (mark.x0 + mark.x1) / 2;\r\n                        const yCenter = (mark.y0 + mark.y1) / 2;\r\n                        return text.x0 < xCenter\r\n                            && text.x1 > xCenter\r\n                            && text.y0 < yCenter\r\n                            && text.y1 > yCenter;\r\n                    });\r\n                    return !fp;\r\n                });\r\n            marks.concat(texts)\r\n                .map((d, i) => ({...d, key: i.toString()}))\r\n                .forEach(raw => {\r\n                    this.updateBox(formGroup, raw);\r\n                });\r\n        }\r\n    }\r\n\r\n    deleteBox(formGroup: FormGroup, key: string) {\r\n        const group = formGroup.get(this.key).get('boxes') as FormGroup;\r\n        group.removeControl(key);\r\n    }\r\n\r\n    getFormValue(formGroup: FormGroup) {\r\n        const group = formGroup.get(this.key) as FormGroup;\r\n        const marks = Object.values((group.get('boxes') as FormGroup).controls)\r\n            .filter((d: FormGroup) => !d.contains('text'));\r\n\r\n        const texts = Object.values((group.get('boxes') as FormGroup).controls)\r\n            .filter((d: FormGroup) => d.contains('text'));\r\n\r\n        const result = {\r\n            marks: marks.map(d => ({\r\n                bound: this.features.map(f => +d.get(f).value),\r\n                label: 'object'\r\n            })),\r\n            texts: texts.map(d => ({\r\n                bound: this.features.map(f => +d.get(f).value),\r\n                label: d.get('label').value,\r\n                text: d.get('text').value\r\n            })).sort(textComparator),\r\n            spec: group.get('spec').value,\r\n            raw: group.get('raw').value\r\n        };\r\n        return result;\r\n    }\r\n\r\n    isEmptyBoxes(formGroup: FormGroup): boolean {\r\n        const group = formGroup.get(this.key) as FormGroup;\r\n        return Object.keys(group.controls).length === 0;\r\n    }\r\n\r\n    private convertToForm(elem: any, fb: FormBuilder): FormGroup {\r\n        const formGroup = fb.group({});\r\n        Object.entries(elem).forEach(([key, value]) => {\r\n            if (Array.isArray(value)) {\r\n                if ((value as any[]).length > 0) {\r\n                    formGroup.addControl(key, fb.array(value));\r\n                }\r\n            } else {\r\n                formGroup.addControl(key, fb.control(value));\r\n            }\r\n        });\r\n        return formGroup;\r\n    }\r\n\r\n}\r\n\r\nexport function textComparator(a: TextAnnotation, b: TextAnnotation) {\r\n    const aScore = LABEL_PRIORITY[a.label];\r\n    const bScore = LABEL_PRIORITY[b.label];\r\n    const aCenter = [\r\n        (a.bound[0] + a.bound[2]) / 2,\r\n        (a.bound[1] + a.bound[3]) / 2\r\n    ];\r\n    const bCenter = [\r\n        (b.bound[0] + b.bound[2]) / 2,\r\n        (b.bound[1] + b.bound[3]) / 2\r\n    ];\r\n\r\n    const comp = aScore - bScore;\r\n\r\n    if (comp === 0) {\r\n        if (a.label === KEY_X_AXIS_LABEL) {\r\n            return aCenter[0] - bCenter[0];\r\n        } else {\r\n            return aCenter[1] - bCenter[1];\r\n        }\r\n    }\r\n    return comp;\r\n}\r\n","import { Task, TASK_REGRESSION } from './task';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n\r\nexport class Regression extends Task {\r\n\r\n    public features: string[];\r\n    public dtypes: string[];\r\n\r\n    constructor(raw: any) {\r\n        super(raw);\r\n        this.taskType = TASK_REGRESSION;\r\n        this.features = raw['features'];\r\n        this.dtypes = raw['dtypes'];\r\n    }\r\n\r\n    registerControl(formGroup: FormGroup, fb: FormBuilder) {\r\n        const group = fb.group({});\r\n        this.features.forEach(feature => {\r\n            group.addControl(feature, fb.control(0));\r\n        });\r\n        formGroup.addControl(this.key, group);\r\n    }\r\n\r\n    parsePrediction(raw: any) {\r\n        this.prediction = this.features.reduce((acc, curr, i) => {\r\n            acc[curr] = raw[i];\r\n            return acc;\r\n        }, {});\r\n    }\r\n\r\n    updateBox(formGroup: FormGroup, raw: any) {\r\n        this.features.forEach((feature, i) => {\r\n            let value = +raw[feature];\r\n            if (this.dtypes[i] === 'int') {\r\n                value = Math.round(value);\r\n            }\r\n            formGroup.get(this.key).get(feature)\r\n                .setValue(value);\r\n        });\r\n    }\r\n\r\n    getFormValue(formGroup: FormGroup) {\r\n        const group = formGroup.get(this.key);\r\n        return this.features.map(feature => +group.get(feature).value);\r\n    }\r\n}\r\n","import { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { VerificationData } from '../verification-data';\r\n\r\nexport const TASK_CLASSIFICATION = 'C';\r\nexport const TASK_REGRESSION = 'R';\r\nexport const TASK_BBOX = 'B';\r\nexport const TASK_TEXT = 'T';\r\nexport const TASK_OVERALL = 'O';\r\n\r\nexport class Task {\r\n\r\n    public key: string;\r\n    public name: string;\r\n    public taskType: string;\r\n    public command: string;\r\n    public msgs: string[];\r\n    public prediction: any;\r\n    public submitReady: boolean;\r\n\r\n    constructor(raw: any) {\r\n        this.key = raw['key'];\r\n        this.name = raw['name'];\r\n        this.taskType = raw['task_type'];\r\n        this.command = raw['command'];\r\n        this.msgs = raw['msgs'];\r\n        this.submitReady = true;\r\n        this.prediction = null;\r\n    }\r\n\r\n    registerControl(formGroup: FormGroup, fb: FormBuilder) {\r\n        throw new Error('Not Implemented!!');\r\n    }\r\n\r\n    updateBox(raw: any, predict = false) {\r\n        throw new Error('Not Implemented!!');\r\n    }\r\n\r\n    parsePrediction(raw: any) {\r\n        throw new Error('Not Implemented!!');\r\n    }\r\n\r\n    parsePrevAnnotation(formGroup: FormGroup, raw: any, fb: FormBuilder) {\r\n        throw new Error('Not Implemented!!');\r\n    }\r\n\r\n    parseForVerification(raw: any): VerificationData {\r\n        throw new Error('Not Implemented!!');\r\n    }\r\n\r\n    applyPrediction(formGroup: FormGroup) {\r\n        if (this.prediction) {\r\n            this.updateBox(formGroup, this.prediction);\r\n        }\r\n    }\r\n\r\n    getFormValue(formGroup: FormGroup) {\r\n        throw new Error('Not Implemented!!');\r\n    }\r\n\r\n}\r\n","import { Task, TASK_TEXT } from './task';\r\nimport { FormGroup, FormBuilder, FormControl } from '@angular/forms';\r\n\r\nexport class Text extends Task {\r\n\r\n    public labels: string[];\r\n    public features: string[];\r\n    public collectContent: boolean;\r\n\r\n    constructor(raw: any) {\r\n        super(raw);\r\n        this.taskType = TASK_TEXT;\r\n        this.labels = raw['labels'];\r\n        this.features = ['x0', 'y0', 'x1', 'y1'];\r\n        this.collectContent = raw['collectContent'];\r\n    }\r\n\r\n    registerControl(formGroup: FormGroup, fb: FormBuilder) {\r\n        formGroup.addControl(this.key, fb.group({}));\r\n    }\r\n\r\n    updateBox(formGroup: FormGroup, raw: any) {\r\n        const group = formGroup.get(this.key) as FormGroup;\r\n        const num = (value: number) => +value.toFixed(3);\r\n        if (group.get(raw.key) === null) {\r\n            const newControl = this.features.reduce((acc, curr) => {\r\n                acc[curr] = new FormControl(num(raw[curr]));\r\n                return acc;\r\n            }, {});\r\n            newControl['label'] = new FormControl(raw.label || this.labels[0]);\r\n            newControl['text'] = new FormControl(raw.text || '');\r\n            group.addControl(raw.key, new FormGroup(newControl));\r\n        } else {\r\n            this.features.forEach(feature => {\r\n                if (raw[feature]) {\r\n                    group.get(raw.key).get(feature).setValue(num(raw[feature]));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    parsePrediction(raw: any) {\r\n        const predicts = raw as any[];\r\n        this.prediction = predicts.map((d, i) => {\r\n            const [x0, y0, x1, y1] = d['bound'];\r\n            const label = d['label'];\r\n            const text = d['text'];\r\n            return ({\r\n                key: i.toString(),\r\n                x0, y0, x1, y1,\r\n                label,\r\n                text\r\n            });\r\n        });\r\n    }\r\n\r\n    applyPrediction(formGroup: FormGroup) {\r\n        if (this.prediction) {\r\n            this.prediction.forEach(raw => {\r\n                this.updateBox(formGroup, raw);\r\n            });\r\n        }\r\n    }\r\n\r\n    deleteBox(formGroup: FormGroup, key: string) {\r\n        const group = formGroup.get(this.key) as FormGroup;\r\n        group.removeControl(key);\r\n    }\r\n\r\n    getFormValue(formGroup: FormGroup) {\r\n        const group = formGroup.get(this.key) as FormGroup;\r\n        return Object.values(group.controls).map(boxControl => {\r\n            return ({\r\n                bound: this.features.map(feature => boxControl.get(feature).value),\r\n                label: boxControl.get('label').value,\r\n                text: boxControl.get('text').value\r\n            });\r\n        });\r\n    }\r\n\r\n    isEmptyBoxes(formGroup: FormGroup): boolean {\r\n        const group = formGroup.get(this.key) as FormGroup;\r\n        return Object.keys(group.controls).length === 0;\r\n    }\r\n}\r\n","import * as tslib_1 from \"tslib\";\nexport class VerificationData {\n    constructor(taskKey) {\n        this.taskKey = taskKey;\n    }\n}\nexport class VClassificationData extends VerificationData {\n    constructor(taskKey, label, labels) {\n        super(taskKey);\n        this.label = label;\n        this.labels = labels;\n    }\n}\nexport class KV {\n    constructor(key, value) {\n        this.key = key;\n        this.value = value;\n    }\n    contains(key) {\n        return this.key === key;\n    }\n}\nexport class MarkAnnotation {\n    constructor(raw, taskKey, index) {\n        this.bound = raw;\n        this.key = `${taskKey}.mark.${index}`;\n    }\n    contains(key) {\n        return this.key === key;\n    }\n}\nexport class TextAnnotation {\n    constructor(raw, taskKey, index) {\n        this.bound = raw['bound'];\n        this.label = raw['label'];\n        this.text = raw['text'];\n        this.key = `${taskKey}.text.${index}`;\n    }\n    contains(key) {\n        return this.key === key;\n    }\n}\nexport class AxisAnnotation {\n    constructor(raw, taskKey, index) {\n        this.dir = new KV(`${taskKey}.spec.axis.${index}.dir`, raw['dir']);\n        this.title = new KV(`${taskKey}.spec.axis.${index}.title`, raw['title']);\n        this.type = new KV(`${taskKey}.spec.axis.${index}.type`, raw['type']);\n        this.labels = new KV(`${taskKey}.spec.axis.${index}.labels`, raw['labels']);\n        this.markLabels = raw['markLabels']\n            ? new KV(`${taskKey}.spec.axis.${index}.markLabels`, raw['markLabels'])\n            : null;\n        this.encoding = new KV(`${taskKey}.spec.axis.${index}.encoding`, raw['encoding']);\n        this.unit = new KV(`${taskKey}.spec.axis.${index}.unit`, raw['unit']);\n        this.labeled = raw['labeled'];\n    }\n    contains(key) {\n        let ret = this.dir.contains(key) ||\n            this.title.contains(key) ||\n            this.type.contains(key) ||\n            this.labels.contains(key) ||\n            this.encoding.contains(key) ||\n            this.unit.contains(key);\n        if (this.markLabels) {\n            ret = ret || this.markLabels.contains(key);\n        }\n        return ret;\n    }\n}\nexport class LegendAnnotation {\n    constructor(raw, taskKey) {\n        this.title = new KV(`${taskKey}.spec.legend.title`, raw['title']);\n        this.labels = new KV(`${taskKey}.spec.legend.labels`, raw['labels']);\n        this.encoding = new KV(`${taskKey}.spec.legend.encoding`, raw['encoding']);\n    }\n    contains(key) {\n        return this.title.contains(key) ||\n            this.labels.contains(key) ||\n            this.encoding.contains(key);\n    }\n}\nexport class CustomAnnotation {\n    constructor(raw, taskKey, index) {\n        this.title = new KV(this.keyOf(taskKey, index, 'title'), raw['title']);\n        this.type = new KV(this.keyOf(taskKey, index, 'type'), raw['type']);\n        this.markLabels = new KV(this.keyOf(taskKey, index, 'labels'), raw['markLabels']);\n        this.encoding = new KV(this.keyOf(taskKey, index, 'encoding'), raw['encoding']);\n        this.unit = new KV(this.keyOf(taskKey, index, 'unit'), raw['unit']);\n        this.labeled = raw['labeled'];\n    }\n    keyOf(taskKey, index, name) {\n        return `${taskKey}.spec.custom.${index}.${name}`;\n    }\n    contains(key) {\n        return this.title.contains(key) ||\n            this.type.contains(key) ||\n            this.markLabels.contains(key) ||\n            this.encoding.contains(key) ||\n            this.unit.contains(key);\n    }\n}\nexport class SpecAnnotation {\n    constructor(raw, taskKey) {\n        this.title = new KV(`${taskKey}.spec.title`, raw['title']);\n        this.axes = raw['axis']\n            .map((axis, i) => new AxisAnnotation(axis, taskKey, i));\n        this.legend = raw['legend']\n            ? new LegendAnnotation(raw['legend'], taskKey)\n            : null;\n        this.customs = raw['custom']\n            .map((custom, i) => new CustomAnnotation(custom, taskKey, i));\n    }\n    contains(key) {\n        return this.title.contains(key) ||\n            this.axes.reduce((acc, curr) => {\n                return acc || curr.contains(key);\n            }, false) ||\n            this.customs.reduce((acc, curr) => {\n                return acc || curr.contains(key);\n            }, false) ||\n            (this.legend ? this.legend.contains(key) : false);\n    }\n}\nexport class RawAnnotation {\n    constructor(raw, taskKey) {\n        this.keys = [];\n        this.rows = raw.map((row, i) => {\n            return new KV(`${taskKey}.raw.${i}`, row);\n        });\n        if (this.rows.length > 0) {\n            this.keys = Object.keys(this.rows[0].value);\n        }\n    }\n    contains(key) {\n        return this.rows.reduce((acc, curr) => {\n            return acc || curr.contains(key);\n        }, false);\n    }\n}\nexport class VOverallData extends VerificationData {\n    constructor(taskKey, raw) {\n        super(taskKey);\n        this.marks = raw['marks']\n            .map((d, i) => new MarkAnnotation(d['bound'], taskKey, i));\n        this.texts = raw['texts']\n            .map((d, i) => new TextAnnotation(d, taskKey, i));\n        this.spec = new SpecAnnotation(raw['spec'], taskKey);\n        this.raw = new RawAnnotation(raw['raw'], taskKey);\n    }\n}\nexport class Feedback {\n    constructor(raw) {\n        this.taskKey = raw['taskKey'];\n        this.annotationKey = raw['annotationKey'];\n        this.comment = raw['comment'];\n    }\n    static from(form) {\n        return new Feedback(form.value);\n    }\n    static dummy() {\n        return new Feedback({\n            taskKey: '',\n            annotationKey: ''\n        });\n    }\n    get key() {\n        return `${this.taskKey}.${this.annotationKey}`;\n    }\n}\nexport class Review {\n    constructor(raw) {\n        this.path = raw['path'];\n        this.approved = raw['approved'];\n        this.feedbacks = raw['feedbacks']\n            .map(feedback => new Feedback(feedback));\n    }\n}\n//# sourceMappingURL=verification-data.js.map","import { FormGroup } from '@angular/forms';\r\n\r\nexport class VerificationData {\r\n    taskKey: string;\r\n\r\n    constructor(taskKey: string) {\r\n        this.taskKey = taskKey;\r\n    }\r\n}\r\n\r\nexport class VClassificationData extends VerificationData {\r\n\r\n    public labels: string[];\r\n    public label: string;\r\n\r\n    constructor(taskKey: string, label: string, labels: string[]) {\r\n        super(taskKey);\r\n        this.label = label;\r\n        this.labels = labels;\r\n    }\r\n}\r\n\r\nexport interface HasKey {\r\n    contains(key: string): boolean;\r\n}\r\n\r\nexport class KV<T> implements HasKey {\r\n    key: string;\r\n    value: T;\r\n\r\n    constructor(key: string, value: T) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n\r\n    contains(key: string): boolean {\r\n        return this.key === key;\r\n    }\r\n}\r\n\r\nexport class MarkAnnotation implements HasKey {\r\n\r\n    bound: number[];\r\n    key: string;\r\n\r\n    constructor(raw: number[], taskKey: string, index: number) {\r\n        this.bound = raw;\r\n        this.key = `${taskKey}.mark.${index}`;\r\n    }\r\n\r\n    contains(key: string): boolean {\r\n        return this.key === key;\r\n    }\r\n}\r\n\r\nexport class TextAnnotation implements HasKey {\r\n    bound: number[];\r\n    label: string;\r\n    text: string;\r\n    key: string;\r\n\r\n    constructor(raw: any, taskKey: string, index: number) {\r\n        this.bound = raw['bound'];\r\n        this.label = raw['label'];\r\n        this.text = raw['text'];\r\n        this.key = `${taskKey}.text.${index}`;\r\n    }\r\n\r\n    contains(key: string): boolean {\r\n        return this.key === key;\r\n    }\r\n}\r\n\r\nexport class AxisAnnotation implements HasKey {\r\n    dir: KV<string>;\r\n    title: KV<string>;\r\n    type: KV<string>;\r\n    labels: KV<string[]>;\r\n    markLabels?: KV<string[]>;\r\n    encoding: KV<string>;\r\n    unit: KV<string>;\r\n    labeled: boolean;\r\n\r\n    constructor(raw: any, taskKey: string, index: number) {\r\n        this.dir = new KV(`${taskKey}.spec.axis.${index}.dir`, raw['dir']);\r\n        this.title = new KV(`${taskKey}.spec.axis.${index}.title`, raw['title']);\r\n        this.type = new KV(`${taskKey}.spec.axis.${index}.type`, raw['type']);\r\n        this.labels = new KV(`${taskKey}.spec.axis.${index}.labels`, raw['labels']);\r\n        this.markLabels = raw['markLabels']\r\n            ? new KV(`${taskKey}.spec.axis.${index}.markLabels`, raw['markLabels'])\r\n            : null;\r\n        this.encoding = new KV(`${taskKey}.spec.axis.${index}.encoding`, raw['encoding']);\r\n        this.unit = new KV(`${taskKey}.spec.axis.${index}.unit`, raw['unit']);\r\n        this.labeled = raw['labeled'];\r\n    }\r\n\r\n    contains(key: string): boolean {\r\n        let ret = this.dir.contains(key) ||\r\n            this.title.contains(key) ||\r\n            this.type.contains(key) ||\r\n            this.labels.contains(key) ||\r\n            this.encoding.contains(key) ||\r\n            this.unit.contains(key);\r\n        if (this.markLabels) {\r\n            ret = ret || this.markLabels.contains(key);\r\n        }\r\n        return ret;\r\n    }\r\n}\r\n\r\nexport class LegendAnnotation implements HasKey {\r\n    title: KV<string>;\r\n    labels: KV<string[]>;\r\n    encoding: KV<string>;\r\n\r\n    constructor(raw: any, taskKey: string) {\r\n        this.title = new KV(`${taskKey}.spec.legend.title`, raw['title']);\r\n        this.labels = new KV(`${taskKey}.spec.legend.labels`, raw['labels']);\r\n        this.encoding = new KV(`${taskKey}.spec.legend.encoding`, raw['encoding']);\r\n    }\r\n\r\n    contains(key: string): boolean {\r\n        return this.title.contains(key) ||\r\n            this.labels.contains(key) ||\r\n            this.encoding.contains(key);\r\n    }\r\n}\r\n\r\nexport class CustomAnnotation implements HasKey {\r\n    title: KV<string>;\r\n    type: KV<string>;\r\n    markLabels: KV<string[]>;\r\n    unit: KV<string>;\r\n    encoding: KV<string>;\r\n    labeled: boolean;\r\n\r\n    constructor(raw: any, taskKey: string, index: number) {\r\n        this.title = new KV(this.keyOf(taskKey, index, 'title'), raw['title']);\r\n        this.type = new KV(this.keyOf(taskKey, index, 'type'), raw['type']);\r\n        this.markLabels = new KV(this.keyOf(taskKey, index, 'labels'), raw['markLabels']);\r\n        this.encoding = new KV(this.keyOf(taskKey, index, 'encoding'), raw['encoding']);\r\n        this.unit = new KV(this.keyOf(taskKey, index, 'unit'), raw['unit']);\r\n        this.labeled = raw['labeled'];\r\n    }\r\n\r\n    keyOf(taskKey: string, index: number, name: string) {\r\n        return `${taskKey}.spec.custom.${index}.${name}`;\r\n    }\r\n\r\n    contains(key: string): boolean {\r\n        return this.title.contains(key) ||\r\n            this.type.contains(key) ||\r\n            this.markLabels.contains(key) ||\r\n            this.encoding.contains(key) ||\r\n            this.unit.contains(key);\r\n    }\r\n}\r\n\r\nexport class SpecAnnotation {\r\n    title: KV<string>;\r\n    axes: AxisAnnotation[];\r\n    legend?: LegendAnnotation;\r\n    customs: CustomAnnotation[];\r\n\r\n    constructor(raw: any, taskKey: string) {\r\n        this.title = new KV(`${taskKey}.spec.title`, raw['title']);\r\n        this.axes = (raw['axis'] as any[])\r\n            .map((axis, i) => new AxisAnnotation(axis, taskKey, i));\r\n        this.legend = raw['legend']\r\n            ? new LegendAnnotation(raw['legend'], taskKey)\r\n            : null;\r\n        this.customs = (raw['custom'] as any[])\r\n            .map((custom, i) => new CustomAnnotation(custom, taskKey, i));\r\n    }\r\n\r\n    contains(key: string): boolean {\r\n        return this.title.contains(key) ||\r\n            this.axes.reduce((acc, curr) => {\r\n                return acc || curr.contains(key);\r\n            }, false) ||\r\n            this.customs.reduce((acc, curr) => {\r\n                return acc || curr.contains(key);\r\n            }, false) ||\r\n            (this.legend ? this.legend.contains(key) : false)\r\n    }\r\n}\r\n\r\nexport class RawAnnotation implements HasKey {\r\n\r\n    rows: KV<{[key: string]: string}>[];\r\n    keys: string[] = [];\r\n\r\n    constructor(raw: any, taskKey: string) {\r\n        this.rows = (raw as any[]).map((row, i) => {\r\n            return new KV(`${taskKey}.raw.${i}`, row);\r\n        });\r\n\r\n        if (this.rows.length > 0) {\r\n            this.keys = Object.keys(this.rows[0].value);\r\n        }\r\n    }\r\n\r\n    contains(key: string): boolean {\r\n        return this.rows.reduce((acc, curr) => {\r\n            return acc || curr.contains(key);\r\n        }, false);\r\n    }\r\n}\r\n\r\nexport class VOverallData extends VerificationData {\r\n\r\n    public marks: MarkAnnotation[];\r\n    public texts: TextAnnotation[];\r\n    public spec: SpecAnnotation;\r\n    public raw: RawAnnotation;\r\n    constructor(taskKey: string, raw: any) {\r\n        super(taskKey);\r\n        this.marks = (raw['marks'] as number[][])\r\n            .map((d, i) => new MarkAnnotation(d['bound'], taskKey, i));\r\n        this.texts = (raw['texts'] as any[])\r\n            .map((d, i) => new TextAnnotation(d, taskKey, i));\r\n        this.spec = new SpecAnnotation(raw['spec'], taskKey);\r\n        this.raw = new RawAnnotation(raw['raw'], taskKey);\r\n    }\r\n}\r\n\r\nexport class Feedback {\r\n    index?: number;\r\n    taskKey: string;\r\n    annotationKey: string;\r\n    comment?: string;\r\n\r\n    constructor(raw: any) {\r\n        this.taskKey = raw['taskKey'];\r\n        this.annotationKey = raw['annotationKey'];\r\n        this.comment = raw['comment'];\r\n    }\r\n\r\n    static from(form: FormGroup): Feedback {\r\n        return new Feedback(form.value);\r\n    }\r\n\r\n    static dummy(): Feedback {\r\n        return new Feedback({\r\n            taskKey: '',\r\n            annotationKey: ''\r\n        });\r\n    }\r\n\r\n    get key() {\r\n        return `${this.taskKey}.${this.annotationKey}`;\r\n    }\r\n}\r\n\r\nexport class Review {\r\n    path: string;\r\n    approved: boolean;\r\n    feedbacks: Feedback[];\r\n\r\n    constructor(raw: any) {\r\n        this.path = raw['path'];\r\n        this.approved = raw['approved'];\r\n        this.feedbacks = (raw['feedbacks'] as any[])\r\n            .map(feedback => new Feedback(feedback));\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, ReplaySubject } from 'rxjs';\r\nimport { Config } from './common/config';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ConfigService {\r\n\r\n    private configSubject = new ReplaySubject<Config>();\r\n    private userNameSubject = new BehaviorSubject<string>(null);\r\n    private checkInstanceSubject = new BehaviorSubject<void>(null);\r\n    constructor() {\r\n\r\n    }\r\n\r\n    get configObservable() {\r\n        return this.configSubject.asObservable();\r\n    }\r\n\r\n    get userNameObservable() {\r\n        return this.userNameSubject.asObservable();\r\n    }\r\n\r\n    get checkInstanceObservable() {\r\n        return this.checkInstanceSubject.asObservable();\r\n    }\r\n\r\n    get userName() {\r\n        return this.userNameSubject.getValue();\r\n    }\r\n\r\n    public setConfig(config: Config) {\r\n        this.configSubject.next(config);\r\n    }\r\n\r\n    public setUserName(user: string) {\r\n        this.userNameSubject.next(user);\r\n    }\r\n\r\n    public checkInstance() {\r\n        this.checkInstanceSubject.next(null);\r\n    }\r\n}\r\n","import { ElementRef } from '@angular/core';\r\nimport * as d3 from 'd3';\r\n\r\nexport type SA = S<any, any>;\r\nexport type SB = S<d3.BaseType, {}>;\r\nexport type S<T extends d3.BaseType, D> = d3.Selection<T, D, Element, {}>;\r\nexport type TScale = d3.ScaleTime<number, number>;\r\nexport type LScale = d3.ScaleLinear<number, number>;\r\nexport type Range = [number, number];\r\n\r\nexport interface Mergeable {\r\n    merge(other: Mergeable): any;\r\n}\r\n\r\nexport interface LegendInfoMap {\r\n    [key: string]: LegendInfo;\r\n}\r\n\r\nexport interface LegendInfo {\r\n    attr: DataAttribute;\r\n    color: string;\r\n}\r\n\r\nexport interface DataAttribute {\r\n    value: string;\r\n    viewValue: string;\r\n}\r\n\r\nexport interface Margin {\r\n    left: number;\r\n    right: number;\r\n    top: number;\r\n    bottom: number;\r\n}\r\n\r\nexport interface Point {\r\n    x: number;\r\n    y: number;\r\n}\r\n\r\nexport class Transform {\r\n    totalHeight: number;\r\n    totalWidth: number;\r\n    height: number;\r\n    width: number;\r\n    left: number;\r\n    bottom: number;\r\n    right: number;\r\n    top: number;\r\n\r\n    constructor(totalWidth: number, totalHeight: number, margin: Margin) {\r\n        this.totalWidth = totalWidth;\r\n        this.totalHeight = totalHeight;\r\n        this.height = this.totalHeight - margin.top - margin.bottom;\r\n        this.width = this.totalWidth - margin.left - margin.right;\r\n        this.left = margin.left;\r\n        this.right = margin.right;\r\n        this.bottom = margin.bottom;\r\n        this.top = margin.top;\r\n    }\r\n\r\n    createSVG(svgRef: ElementRef): S<d3.BaseType, {}> {\r\n        return d3.select(svgRef.nativeElement)\r\n            .attr('width', this.totalWidth)\r\n            .attr('height', this.totalHeight);\r\n    }\r\n\r\n    createG(svgRef: ElementRef): S<d3.BaseType, {}> {\r\n        return this.createSVG(svgRef).append('g')\r\n            .attr('transform', translate(this.left, this.top));\r\n    }\r\n\r\n    appendG(g: S<d3.BaseType, {}>) {\r\n        return g.append('g')\r\n            .attr('transform', translate(this.left, this.top));\r\n    }\r\n\r\n    xLinear(maxValue?: number): LScale {\r\n        const scale = d3.scaleLinear().range([0, this.width]);\r\n        return maxValue ? scale.domain([0, maxValue]) : scale;\r\n    }\r\n\r\n    yLinear(maxValue?: number): LScale {\r\n        const scale = d3.scaleLinear().range([this.height, 0]);\r\n        return maxValue ? scale.domain([0, maxValue]) : scale;\r\n    }\r\n}\r\n\r\nexport function log10TickFormat(d: number) {\r\n    const superscript = '';\r\n    const power = Math.round(Math.log10(d));\r\n    return 10 + (power + '').split('').map(c => superscript[c]).join('');\r\n}\r\n\r\nexport function translate(x: number, y: number) {\r\n    return `translate(${x}, ${y})`;\r\n}\r\n\r\nexport function scale(x: number, y: number) {\r\n    return `scale(${x}, ${y})`;\r\n}\r\n\r\nexport function transform(sx: number, sy: number, tx: number, ty: number) {\r\n    return `scale(${sx}, ${sy}) translate(${tx}px, ${ty}px)`;\r\n}\r\n\r\nexport function getMinIndex<T>(arr: T[], func: (v: T, i?: number) => number): number {\r\n    if (arr.length === 0) {\r\n        return -1;\r\n    }\r\n    let minRet = -1;\r\n    let minValue = Number.POSITIVE_INFINITY;\r\n    arr.forEach((el, i) => {\r\n        const comp = func(el, i);\r\n        if (comp < minValue) {\r\n            minValue = comp;\r\n            minRet = i;\r\n        }\r\n    });\r\n    return minRet;\r\n}\r\n\r\nexport function getMaxIndex<T>(arr: T[], func: (v: T, i?: number) => number): number {\r\n    if (arr.length === 0) {\r\n        return -1;\r\n    }\r\n    let maxRet = -1;\r\n    let maxValue = Number.POSITIVE_INFINITY;\r\n    arr.forEach((el, i) => {\r\n        const comp = func(el, i);\r\n        if (comp > maxValue) {\r\n            maxValue = comp;\r\n            maxRet = i;\r\n        }\r\n    });\r\n    return maxRet;\r\n}\r\n\r\nexport function getMinElem<T>(arr: T[], func: (v: T, i?: number) => number): T {\r\n    if (arr.length === 0) {\r\n        return null;\r\n    }\r\n    let minEl = arr[0];\r\n    let minValue = Number.POSITIVE_INFINITY;\r\n    arr.forEach((el, i) => {\r\n        const comp = func(el, i);\r\n        if (comp < minValue) {\r\n            minValue = comp;\r\n            minEl = el;\r\n        }\r\n    });\r\n    return minEl;\r\n}\r\n\r\nexport function invertTransform(s: string) {\r\n    const re = /scale\\((\\d+[.]*\\d*)[,]\\ *(\\d+[.]*\\d*)\\) translate\\(([-]*\\d+[.]*\\d*)px[,]\\ *([-]*\\d+[.]*\\d*)px\\)/gi;\r\n    const result = re.exec(s);\r\n    if (!result || result.length !== 5) {\r\n        return {\r\n            sx: 1,\r\n            sy: 1,\r\n            tx: 0,\r\n            ty: 0\r\n        };\r\n    } else {\r\n        const [sx, sy, tx, ty] = result.slice(1).map(d => +d);\r\n        return { sx, sy, tx, ty };\r\n    }\r\n}\r\n\r\nexport function addLegends(svg: S<any, {}>, width = 500, height = 40, legendData: LegendInfoMap, margin = 15, horizontal = true) {\r\n    let data = Object.values(legendData).slice();\r\n    if (horizontal) {\r\n        data = data.reverse();\r\n    }\r\n    const g = svg.append('g')\r\n        .selectAll('g')\r\n        .data(data)\r\n        .enter().append('g');\r\n\r\n    g.append('circle')\r\n        .attr('r', 3)\r\n        .attr('cx', 2)\r\n        .attr('cy', 11)\r\n        .attr('fill', d => d.color);\r\n\r\n    g.append('text')\r\n        .attr('dx', 10)\r\n        .attr('dy', 14)\r\n        .style('font-size', '0.8em')\r\n        .text(d => d.attr.viewValue);\r\n\r\n    let hOffset = 0;\r\n    g.attr('transform', (_, i, nodes) => {\r\n        hOffset += nodes[i].getBoundingClientRect().width;\r\n        if (i > 0) {\r\n            hOffset += margin;\r\n        }\r\n        if (!horizontal) {\r\n            hOffset = width;\r\n        }\r\n        const vOffset = horizontal ? height / 2 - 10 : i * 30;\r\n        return translate(width - hOffset, vOffset);\r\n    });\r\n}\r\n\r\nexport function binData<T extends Mergeable>(data: T[],\r\n    xKey: string,\r\n    yKey: string,\r\n    width: number): T[] {\r\n\r\n    const aggregateSize = Math.ceil(data.length / width);\r\n    if (aggregateSize <= 1) {\r\n        return data;\r\n    }\r\n    let aggCount = 0;\r\n    let binnedData = [];\r\n    let aggSizeData = [];\r\n\r\n    let newElem: T = null;\r\n\r\n    for (let elem of data) {\r\n\r\n        if (aggCount == 0) {\r\n            newElem = elem;\r\n            aggCount += 1;\r\n        } else if (aggCount < aggregateSize) {\r\n            newElem = newElem.merge(elem);\r\n            aggCount += 1;\r\n        } else {\r\n            newElem = newElem.merge(elem);\r\n            aggCount += 1\r\n            binnedData.push(newElem);\r\n            aggSizeData.push(aggCount);\r\n            aggCount = 0;\r\n        }\r\n    }\r\n\r\n    if (aggCount != 0) {\r\n        binnedData.push(newElem);\r\n        aggSizeData.push(aggCount);\r\n    }\r\n\r\n    binnedData.forEach((data, index) => data[xKey] /= aggSizeData[index]);\r\n    return binnedData;\r\n}\r\n\r\nexport function rgb2Hex(rgb: number[]) {\r\n    const [r, g, b, a = 255] = rgb;\r\n    const toHex = (c: number) => {\r\n        const hex = c.toString(16);\r\n        return hex.length === 1 ? `0${hex}` : hex;\r\n    };\r\n    return `#${toHex(r)}${toHex(g)}${toHex(b)}${toHex(a)}`;\r\n}\r\n\r\nexport function rgb2hsi(rgb: number[]) {\r\n    let [r, g, b, _ = 255] = rgb;\r\n    r /= 255;\r\n    g /= 255;\r\n    b /= 255;\r\n    const i = (r + g + b) / 3;\r\n    let s = 0, h = 0;\r\n\r\n    if (r === g && g === b) {\r\n        s = h = 0;\r\n    } else {\r\n        const w = (r - g + r - b) / Math.sqrt((r - g) * (r - g) + (r - b) * (g - b)) / 2;\r\n        h = Math.acos(w) * 180 / Math.PI;\r\n\r\n        if (b > g) {\r\n            h = 360 - h;\r\n        }\r\n        s = 1 - Math.min(r, g, b) / i;\r\n    }\r\n    return [h, s, i];\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { ImageElem, AutoCompleteMap, ModelInfo, AnnotationMeta } from './common/edit-data';\r\nimport { NetworkService } from './network.service';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class EditService {\r\n\r\n    public imageSubject = new BehaviorSubject<ImageElem>(null);\r\n    public autoCompleteSubject = new BehaviorSubject<AutoCompleteMap>({});\r\n\r\n    constructor(private network: NetworkService) {\r\n\r\n    }\r\n\r\n    parseImage(image: Blob, path: string, meta: AnnotationMeta = null, init = false) {\r\n        const reader = new FileReader();\r\n        reader.onload = (_: Event) => {\r\n            const imgElem = new ImageElem(path, image, reader.result as string, meta);\r\n            this.imageSubject.next(imgElem);\r\n        };\r\n        reader.readAsDataURL(image);\r\n    }\r\n\r\n    removeImage() {\r\n        this.imageSubject.next(null);\r\n    }\r\n\r\n    ignoreImage() {\r\n        return this.network.ignoreImage(this.image);\r\n    }\r\n\r\n    updateAutoComplete(modelInfo: ModelInfo, checked: boolean) {\r\n        const map = this.autoCompleteSubject.getValue();\r\n        map[modelInfo.key] = checked;\r\n        this.autoCompleteSubject.next(map);\r\n    }\r\n\r\n    get image() {\r\n        return this.imageSubject.getValue();\r\n    }\r\n}\r\n","export default \".validate-feedback {\\n  color: #f44336;\\n  font-size: 12px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9hbm5vdGF0aW9uLW1vZHVsZS9DOlxcVXNlcnNcXGp1bmhvZVxcSENJTFxcZGV2XFxBdXRvdGF0b3JcXGNsaWVudC9zcmNcXGFwcFxcZWRpdFxcYW5ub3RhdGlvbi1tb2R1bGVcXGFubm90YXRpb24tbW9kdWxlLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9lZGl0L2Fubm90YXRpb24tbW9kdWxlL2Fubm90YXRpb24tbW9kdWxlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtFQUNBLGVBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2VkaXQvYW5ub3RhdGlvbi1tb2R1bGUvYW5ub3RhdGlvbi1tb2R1bGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudmFsaWRhdGUtZmVlZGJhY2sge1xyXG4gICAgY29sb3I6ICNmNDQzMzY7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbn1cclxuIiwiLnZhbGlkYXRlLWZlZWRiYWNrIHtcbiAgY29sb3I6ICNmNDQzMzY7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, ElementRef, HostListener, Renderer2, Input, Output, EventEmitter, OnChanges, SimpleChanges, OnDestroy } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { MatStepper } from '@angular/material';\r\nimport { Config } from 'src/app/common/config';\r\nimport { SA } from 'src/app/d3-utils';\r\nimport { Observable, Subject, Subscription } from 'rxjs';\r\nimport { StepperSelectionEvent } from '@angular/cdk/stepper';\r\nimport { Review, Feedback } from 'src/app/common/verification-data';\r\nimport { EditService } from 'src/app/edit.service';\r\nimport { NetworkService } from 'src/app/network.service';\r\nimport { FeedbackService } from '../common/feedback.service';\r\nimport { DemoService } from '../demo/demo.service';\r\nimport { QuizService } from '../demo/quiz.service';\r\n\r\n@Component({\r\n    selector: 'app-annotation-module',\r\n    templateUrl: './annotation-module.component.html',\r\n    styleUrls: ['./annotation-module.component.scss']\r\n})\r\nexport class AnnotationModuleComponent implements OnInit, OnChanges, OnDestroy {\r\n\r\n    @Input() formGroup: FormGroup;\r\n    @Input() config: Config;\r\n    @Input() imgRef: ElementRef;\r\n    @Input() spacePressed: boolean;\r\n    @Input() svgS: SA;\r\n    @Input() event: Observable<string>;\r\n    @Input() mode: 'annotation' | 'verification' | 'revision';\r\n\r\n    @Output() submitEmitter = new EventEmitter();\r\n\r\n    @ViewChild('stepper', { static: true }) stepper: MatStepper;\r\n\r\n    public currIndex = 0;\r\n    public submitReady = false;\r\n    public review: Review;\r\n    public focusedFeedbackKey = '';\r\n\r\n    public sub1: Subscription;\r\n    public sub2: Subscription;\r\n\r\n    constructor(private network: NetworkService,\r\n                private edit: EditService,\r\n                private fs: FeedbackService,\r\n                private demo: DemoService,\r\n                private quiz: QuizService) { }\r\n\r\n    ngOnInit() {\r\n        this.resetSubmitReady();\r\n        this.sub1 = this.event.subscribe(async key => {\r\n            if (key === 'review') {\r\n                const path = this.edit.image.path;\r\n                switch (this.config.service) {\r\n                    case 'normal':\r\n                        this.review = await this.network.getReview(path);\r\n                        break;\r\n                    case 'demo':\r\n                        this.review = await this.demo.getReview(path);\r\n                        break;\r\n                    case 'quiz':\r\n                        this.review = this.quiz.currReview;\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n\r\n        this.sub2 = this.fs.resolveObservable.subscribe((feedback: Feedback) => {\r\n\r\n            const findIndex = this.review.feedbacks.findIndex(d => {\r\n                console.log(d.annotationKey, d.taskKey);\r\n                return d.annotationKey === feedback.annotationKey &&\r\n                d.taskKey === feedback.taskKey;\r\n            });\r\n            this.review.feedbacks.splice(findIndex, 1);\r\n        });\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.mode) {\r\n            this.resetSubmitReady();\r\n        }\r\n    }\r\n\r\n    displayFeedback(key: string) {\r\n        if (this.focusedFeedbackKey === key) {\r\n            this.focusedFeedbackKey = '';\r\n            this.fs.feedbackSubject.next(Feedback.dummy());\r\n            return;\r\n        }\r\n        this.currIndex = this.config.tasks\r\n            .findIndex(d => d.key === key.split('.')[0]);\r\n        this.stepper.selectedIndex = this.currIndex;\r\n\r\n        this.fs.feedbackSubject\r\n            .next(this.review.feedbacks.find(d => d.key === key));\r\n        this.focusedFeedbackKey = key;\r\n    }\r\n\r\n    onSubmitReady() {\r\n        setTimeout(() => {\r\n            this.submitReady = true;\r\n        }, 0);\r\n    }\r\n\r\n    submit() {\r\n        this.submitEmitter.emit();\r\n        this.currIndex = 0;\r\n        this.resetSubmitReady();\r\n        if (this.focusedFeedbackKey !== '') {\r\n            this.focusedFeedbackKey = '';\r\n            this.fs.resolve();\r\n        }\r\n    }\r\n\r\n    onStepChange(change: StepperSelectionEvent) {\r\n        this.currIndex = change.selectedIndex;\r\n    }\r\n\r\n    private resetSubmitReady() {\r\n        if (this.config.tasks.length === 1\r\n            && this.config.tasks[0].submitReady) {\r\n            this.submitReady = true;\r\n        } else {\r\n            this.submitReady = false;\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.sub1) {\r\n            this.sub1.unsubscribe();\r\n        }\r\n\r\n        if (this.sub2) {\r\n            this.sub2.unsubscribe();\r\n        }\r\n    }\r\n}\r\n","import * as d3 from 'd3';\r\nimport { SB, SA, S, rgb2hsi } from 'src/app/d3-utils';\r\nimport { TextComponent } from './text/text.component';\r\nimport { BoundingBoxComponent } from './bounding-box/bounding-box.component';\r\nimport { AbstractControl, FormGroup } from '@angular/forms';\r\nimport { ContainerElement } from 'd3';\r\nimport { OverallComponent } from './overall/overall.component';\r\nimport { KEY_TITLE, KEY_X_AXIS_TITLE, KEY_X_AXIS_LABEL,\r\n    KEY_Y_AXIS_LABEL, KEY_Y_AXIS_TITLE, KEY_LEGEND_TITLE,\r\n    KEY_LEGEND_LABEL, KEY_MARK_LABEL, LABEL_PRIORITY } from 'src/app/common/task';\r\nimport { TextAnnotation } from 'src/app/common/verification-data';\r\n\r\ntype BC = BoundingBoxComponent;\r\ntype TC = TextComponent;\r\ntype OC = OverallComponent;\r\n\r\nexport const NUM_REG = /[m|mm|km|s|g|kg|K|M|%|$|,]/g;\r\n\r\nexport interface Handle {\r\n    cx: number;\r\n    cy: number;\r\n    pivotX: number;\r\n    pivotY: number;\r\n}\r\n\r\nexport class AnnotationBox {\r\n    key: string;\r\n    points: { [key: string]: AbstractControl };\r\n    label: AbstractControl;\r\n    text?: AbstractControl;\r\n\r\n    constructor(key: string, formGroup: FormGroup) {\r\n        this.key = key;\r\n        this.points = {\r\n            x0: formGroup.get('x0'),\r\n            x1: formGroup.get('x1'),\r\n            y0: formGroup.get('y0'),\r\n            y1: formGroup.get('y1')\r\n        };\r\n        this.label = formGroup.get('label');\r\n        this.text = formGroup.get('text');\r\n    }\r\n\r\n    get pointValues(): number[] {\r\n        return [\r\n            this.points['x0'].value,\r\n            this.points['y0'].value,\r\n            this.points['x1'].value,\r\n            this.points['y1'].value,\r\n        ];\r\n    }\r\n\r\n    get width(): number {\r\n        return +this.points.x1.value - +this.points.x0.value;\r\n    }\r\n\r\n    get height(): number {\r\n        return +this.points.y1.value - +this.points.y0.value;\r\n    }\r\n\r\n    get center(): [number, number] {\r\n        return [\r\n            (+this.points.x0.value + +this.points.x1.value) / 2,\r\n            (+this.points.y0.value + +this.points.y1.value) / 2\r\n        ];\r\n    }\r\n\r\n    get isText() {\r\n        return this.text !== null;\r\n    }\r\n\r\n    get centerDist() {\r\n        const center = this.center;\r\n        return center[0] * center[0] + center[1] * center[1];\r\n    }\r\n}\r\n\r\nfunction getRectHandles(x: number, y: number, width: number, height: number): Handle[] {\r\n    return [\r\n        { cx: x, cy: y, pivotX: x + width, pivotY: y + height, },\r\n        { cx: x + width, cy: y, pivotX: x, pivotY: y + height, },\r\n        { cx: x, cy: y + height, pivotX: x + width, pivotY: y },\r\n        { cx: x + width, cy: y + height, pivotX: x, pivotY: y }\r\n    ];\r\n}\r\n\r\nexport function isNumberTexts(boxes: AnnotationBox[]) {\r\n    const numNumbers = d3.sum(boxes\r\n        .map(d => d.text.value)\r\n        .map(d => {\r\n        return isNumberText(d)\r\n        ? 1\r\n        : 0;\r\n    }));\r\n    return numNumbers === boxes.length;\r\n}\r\n\r\nexport function isNumberText(v: string) {\r\n    return !isNaN(+(v.replace(NUM_REG, '')));\r\n}\r\n\r\nexport function removeEventArea(comp: BC | TC | OC) {\r\n    comp.svgS.selectAll('g').remove();\r\n}\r\n\r\nexport function createEventArea(comp: BC | TC | OC,\r\n                                mergeEvent: boolean,\r\n                                inputMode = 'rect') {\r\n\r\n    const svg = comp.svgS;\r\n    const key = comp.task.key;\r\n    let pivotX = 0;\r\n    let pivotY = 0;\r\n    comp.g = svg.append('g').attr('class', key);\r\n    let newBoxIndex = (comp.autoIncBoxIndex + 1).toString();\r\n\r\n    const horLine = comp.g.append('line')\r\n        .attr('class', 'guide-horizontal')\r\n        .attr('x1', 0)\r\n        .attr('x2', 1000)\r\n        .attr('y1', 0)\r\n        .attr('y2', 0)\r\n        .attr('stroke-width', 1)\r\n        .attr('stroke', 'rgba(0, 0, 0, 0.3)')\r\n        .style('pointer-events', 'none');\r\n\r\n    const verLine = comp.g.append('line')\r\n        .attr('class', 'guide-vertical')\r\n        .attr('y1', 0)\r\n        .attr('y2', 1000)\r\n        .attr('x1', 0)\r\n        .attr('x2', 0)\r\n        .attr('stroke-width', 1)\r\n        .attr('stroke', 'rgba(0, 0, 0, 0.3)')\r\n        .style('pointer-events', 'none');\r\n\r\n    const initRect = () => {\r\n        newBoxIndex = (comp.autoIncBoxIndex + 1).toString();\r\n        const x = d3.event.offsetX;\r\n        const y = d3.event.offsetY;\r\n\r\n        comp.g.append('rect')\r\n            .attr('class', `rect-${newBoxIndex}`)\r\n            .attr('x', x).attr('y', y)\r\n            .attr('stroke-width', 2)\r\n            .attr('stroke', 'red')\r\n            .attr('fill', 'rgba(255, 0, 0, 0)');\r\n\r\n        pivotX = x;\r\n        pivotY = y;\r\n        comp.isDrawing = true;\r\n    };\r\n\r\n    const drawRect = () => {\r\n        const eventX = d3.event.offsetX;\r\n        const eventY = d3.event.offsetY;\r\n        const x = eventX > pivotX ? pivotX : eventX;\r\n        const y = eventY > pivotY ? pivotY : eventY;\r\n        const width = Math.abs(eventX - pivotX);\r\n        const height = Math.abs(eventY - pivotY);\r\n\r\n        svg.select(`.${key}`).select(`.rect-${newBoxIndex}`)\r\n            .attr('x', x)\r\n            .attr('y', y)\r\n            .attr('width', width)\r\n            .attr('height', height);\r\n\r\n        comp.writeForm(newBoxIndex, x, y, width, height);\r\n    };\r\n\r\n    const drawPoint = () => {\r\n        newBoxIndex = (comp.autoIncBoxIndex + 1).toString();\r\n        const x = d3.event.offsetX;\r\n        const y = d3.event.offsetY;\r\n        const r = (comp as OC).pointRadius;\r\n\r\n        const circleS = comp.g.append('circle')\r\n            .attr('class', `rect-${newBoxIndex}`)\r\n            .attr('cx', x).attr('cy', y)\r\n            .attr('r', r)\r\n            .attr('fill-opacity', 0)\r\n            .attr('stroke-width', 2)\r\n            .attr('stroke', 'darkorange');\r\n\r\n        comp.writeForm(newBoxIndex, x - r, y - r, 2 * r, 2 * r);\r\n        comp.updateFocus(newBoxIndex);\r\n        addCircleDragEvent(comp as OC, newBoxIndex, circleS);\r\n    };\r\n\r\n    const drawCircles = () => {\r\n        const g = svg.select(`.${key}`);\r\n        const rectS = g.select(`.rect-${newBoxIndex}`);\r\n        const x = +rectS.attr('x');\r\n        const y = +rectS.attr('y');\r\n        const width = +rectS.attr('width');\r\n        const height = +rectS.attr('height');\r\n        const handles = getRectHandles(x, y, width, height);\r\n        const circleS = g.selectAll(`.circle-${newBoxIndex}`)\r\n            .data(handles).enter()\r\n            .append('circle').attr('class', `circle-${newBoxIndex} handle`)\r\n            .classed('focused', comp.focusedBoxIndex === newBoxIndex)\r\n            .attr('cx', d => d.cx)\r\n            .attr('cy', d => d.cy)\r\n            .attr('r', 3).attr('fill', 'darkorange');\r\n\r\n        comp.updateFocus(newBoxIndex);\r\n        addCircleEvent(comp, newBoxIndex, rectS, circleS as SA);\r\n        comp.addRectEvent(newBoxIndex, rectS, circleS as SA);\r\n        comp.isDrawing = false;\r\n    };\r\n\r\n    const updateLine = () => {\r\n        comp.g.select('#merge-line')\r\n            .attr('x2', d3.event.offsetX)\r\n            .attr('y2', d3.event.offsetY)\r\n            .attr('stroke-width', 3)\r\n            .attr('stroke', 'rgb(51, 153, 102)')\r\n            .attr('stroke-opacity', 0.6);\r\n    };\r\n\r\n    svg.on('click', () => {\r\n        if (comp.spacePressed || (comp as OC).stage !== 0) {\r\n            return;\r\n        }\r\n        if (!comp.isDrawing && comp.index === comp.currIndex) {\r\n            if (inputMode === 'point'\r\n                       && (comp as OC).boxMode === 'mark') {\r\n                drawPoint();\r\n                comp.autoIncBoxIndex = +newBoxIndex;\r\n            } else {\r\n                initRect();\r\n            }\r\n        } else if (comp.isDrawing) {\r\n            drawCircles();\r\n            comp.autoIncBoxIndex = +newBoxIndex;\r\n        }\r\n    }).on('mouseenter', () => {\r\n        horLine.attr('visibility', 'visible');\r\n        verLine.attr('visibility', 'visible');\r\n    }).on('mousemove', () => {\r\n        if (comp.isDrawing) {\r\n            drawRect();\r\n        }\r\n\r\n        if (mergeEvent && (comp as TC).isMerging) {\r\n            updateLine();\r\n        }\r\n        moveGuides(horLine, verLine, d3.event.offsetX, d3.event.offsetY);\r\n    }).on('mouseleave', () => {\r\n        horLine.attr('visibility', 'hidden');\r\n        verLine.attr('visibility', 'hidden');\r\n    });\r\n\r\n    if (comp.boxes.length > 0) {\r\n        comp.isDrawing = false;\r\n        if (mergeEvent) {\r\n            (comp as TC).isMerging = false;\r\n        }\r\n        comp.autoIncBoxIndex = comp.boxes.length;\r\n        comp.boxes.forEach(box => {\r\n            if ((comp as OC).task.inputType === 'point'\r\n                && box.text === null) {\r\n                drawPointMark(comp as OC, box);\r\n            } else {\r\n                drawBoxMark(comp, box);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function removeTempBox(comp: BC | TC | OC) {\r\n    const tempIndex = (comp.autoIncBoxIndex + 1).toString();\r\n    comp.deleteBox(tempIndex);\r\n    comp.isDrawing = false;\r\n}\r\n\r\nexport function removeMergeLine(comp: TC | OC) {\r\n    comp.g.select('#merge-line').remove();\r\n    comp.isMerging = false;\r\n}\r\n\r\nexport function drawBoxMark(comp: BC | TC | OC, box: AnnotationBox) {\r\n    const imgElem = comp.imgRef.nativeElement as HTMLImageElement;\r\n    const [x0, y0, x1, y1] = box.pointValues;\r\n    const boxIndex = box.key;\r\n    const x = x0 * imgElem.width + 10;\r\n    const y = y0 * imgElem.height + 10;\r\n    const width = (x1 - x0) * imgElem.width;\r\n    const height = (y1 - y0) * imgElem.height;\r\n    const rectS = comp.g.append('rect')\r\n        .attr('class', `rect-${boxIndex}`)\r\n        .classed('focused', comp.focusedBoxIndex === boxIndex)\r\n        .attr('x', x)\r\n        .attr('y', y)\r\n        .attr('width', width)\r\n        .attr('height', height)\r\n        .attr('stroke-width', 2)\r\n        .attr('stroke', 'red')\r\n        .attr('fill', 'rgba(255, 0, 0, 0)');\r\n\r\n    const handles = getRectHandles(x, y, width, height);\r\n    const circleS = comp.g.selectAll(`.circle-${boxIndex}`)\r\n        .data(handles).enter()\r\n        .append('circle')\r\n        .attr('class', `circle-${boxIndex} handle`)\r\n        .classed('focused', comp.focusedBoxIndex === boxIndex)\r\n        .attr('cx', (d: Handle) => d.cx)\r\n        .attr('cy', (d: Handle) => d.cy)\r\n        .attr('r', 3).attr('fill', 'darkorange');\r\n\r\n    comp.addRectEvent(boxIndex, rectS, circleS as SA);\r\n    addCircleEvent(comp, boxIndex, rectS, circleS as SA);\r\n}\r\n\r\nexport function drawPointMark(comp: OC, box: AnnotationBox) {\r\n    const r = comp.pointRadius;\r\n    const imgElem = comp.imgRef.nativeElement as HTMLImageElement;\r\n    const [x0, y0, x1, y1] = box.pointValues;\r\n    const boxIndex = box.key;\r\n    const x = (x0 + x1) * imgElem.width / 2 + 10;\r\n    const y = (y0 + y1) * imgElem.height / 2 + 10;\r\n    const circleS = comp.g.append('circle')\r\n        .attr('class', `rect-${boxIndex}`)\r\n        .classed('focused', comp.focusedBoxIndex === boxIndex)\r\n        .attr('cx', x).attr('cy', y)\r\n        .attr('r', r)\r\n        .attr('fill-opacity', 0)\r\n        .attr('stroke-width', 2)\r\n        .attr('stroke', 'darkorange');\r\n\r\n    addCircleDragEvent(comp as OC, boxIndex, circleS);\r\n}\r\n\r\nexport function addRectDragEvent(comp: BC | TC | OC,\r\n    boxIndex: string, rectS: SB, circleS: SA) {\r\n\r\n    let dragStartX = 0;\r\n    let dragStartY = 0;\r\n    let pivotX = 0;\r\n    let pivotY = 0;\r\n    let width = +rectS.attr('width');\r\n    let height = +rectS.attr('height');\r\n    const horLine = comp.g.select('.guide-horizontal');\r\n    const verLine = comp.g.select('.guide-vertical');\r\n\r\n    rectS.on('click', () => {\r\n        if (comp.spacePressed) {\r\n            return;\r\n        }\r\n        comp.updateFocus(boxIndex);\r\n        d3.event.stopPropagation();\r\n        return false;\r\n    }).on('contextmenu', () => {\r\n        d3.event.preventDefault();\r\n        d3.event.stopPropagation();\r\n        if ((comp as OC).isMerging) {\r\n            removeMergeLine(comp as OC);\r\n        }\r\n    });\r\n\r\n    rectS.call(d3.drag()\r\n        .on('start', () => {\r\n\r\n            if (comp.spacePressed || (comp as OC).stage !== 0) {\r\n                return;\r\n            }\r\n            dragStartX = d3.event.x;\r\n            dragStartY = d3.event.y;\r\n            pivotX = +rectS.attr('x');\r\n            pivotY = +rectS.attr('y');\r\n            width = +rectS.attr('width');\r\n            height = +rectS.attr('height');\r\n            comp.updateFocus(boxIndex);\r\n        })\r\n        .on('drag', () => {\r\n            if (comp.spacePressed || (comp as OC).stage !== 0) {\r\n                return;\r\n            }\r\n            const eventX = d3.event.x;\r\n            const eventY = d3.event.y;\r\n            const moveX = eventX - dragStartX;\r\n            const moveY = eventY - dragStartY;\r\n            const x = pivotX + moveX;\r\n            const y = pivotY + moveY;\r\n\r\n            rectS.attr('x', x).attr('y', y);\r\n            moveGuides(horLine, verLine, eventX, eventY);\r\n\r\n            const points = getRectHandles(x, y, width, height);\r\n            circleS.data(points)\r\n                .attr('cx', d => d.cx)\r\n                .attr('cy', d => d.cy);\r\n\r\n            comp.writeForm(boxIndex, x, y, width, height);\r\n        }));\r\n}\r\n\r\nfunction addCircleEvent(comp: BC | TC | OC, boxIndex: string, rectS: SB, circleS: SA) {\r\n    const horLine = comp.g.select('.guide-horizontal');\r\n    const verLine = comp.g.select('.guide-vertical');\r\n    circleS.call(d3.drag()\r\n        .on('start', () => {\r\n\r\n            if (comp.spacePressed || (comp as OC).stage !== 0) {\r\n                return;\r\n            }\r\n            comp.updateFocus(boxIndex);\r\n        })\r\n        .on('drag', (d: Handle) => {\r\n\r\n            if (comp.spacePressed || (comp as OC).stage !== 0) {\r\n                return;\r\n            }\r\n\r\n            const pivotX = d.pivotX;\r\n            const pivotY = d.pivotY;\r\n            const eventX = d3.event.x;\r\n            const eventY = d3.event.y;\r\n            const x = eventX > pivotX ? pivotX : eventX;\r\n            const y = eventY > pivotY ? pivotY : eventY;\r\n            const width = Math.abs(eventX - pivotX);\r\n            const height = Math.abs(eventY - pivotY);\r\n            moveGuides(horLine, verLine, eventX, eventY);\r\n\r\n            rectS\r\n                .attr('x', x)\r\n                .attr('y', y)\r\n                .attr('width', width)\r\n                .attr('height', height);\r\n\r\n            const handles = getRectHandles(x, y, width, height);\r\n\r\n            circleS.data(handles)\r\n                .attr('cx', (handle: Handle) => handle.cx)\r\n                .attr('cy', (handle: Handle) => handle.cy);\r\n\r\n            comp.writeForm(boxIndex, x, y, width, height);\r\n    }));\r\n}\r\n\r\nfunction addCircleDragEvent(comp: OC, boxIndex: string, circleS: SA) {\r\n    const horLine = comp.g.select('.guide-horizontal');\r\n    const verLine = comp.g.select('.guide-vertical');\r\n    const r = (comp as OC).pointRadius;\r\n\r\n    circleS.on('click', () => {\r\n        if (comp.spacePressed) {\r\n            return;\r\n        }\r\n        comp.updateFocus(boxIndex);\r\n        d3.event.stopPropagation();\r\n        return false;\r\n    });\r\n\r\n    circleS.call(d3.drag()\r\n        .on('start', () => {\r\n            if (comp.spacePressed || (comp as OC).stage !== 0) {\r\n                return;\r\n            }\r\n            comp.updateFocus(boxIndex);\r\n        }).on('drag', (d: Handle) => {\r\n\r\n            if (comp.spacePressed || (comp as OC).stage !== 0) {\r\n                return;\r\n            }\r\n            const x = d3.event.x;\r\n            const y = d3.event.y;\r\n            moveGuides(horLine, verLine, x, y);\r\n            circleS.attr('cx', x).attr('cy', y);\r\n            comp.writeForm(boxIndex, x - r, y - r, 2 * r, 2 * r);\r\n        })\r\n    );\r\n}\r\n\r\nexport function addMergeEvent(comp: TC | OC, boxIndex: string, rectS: SB) {\r\n    const img = comp.imgRef.nativeElement as HTMLImageElement;\r\n    const imgWidth = img.width;\r\n    const imgHeight = img.height;\r\n\r\n    const initLine = () => {\r\n        const initX = d3.event.offsetX;\r\n        const initY = d3.event.offsetY;\r\n        comp.g.append('line')\r\n            .attr('id', 'merge-line')\r\n            .attr('x1', initX)\r\n            .attr('y1', initY)\r\n            .attr('x2', initX)\r\n            .attr('y2', initY)\r\n            .attr('stroke-width', 5)\r\n            .attr('stroke', 'gray')\r\n            .style('pointer-events', 'none');\r\n    };\r\n\r\n    const merge = () => {\r\n        const line = comp.g.select('#merge-line');\r\n        const x1 = +line.attr('x1');\r\n        const x2 = +line.attr('x2');\r\n        const y1 = +line.attr('y1');\r\n        const y2 = +line.attr('y2');\r\n        const points = d3.range(0, 1.1, 0.04).map(t => {\r\n            return {\r\n                x: x1 + (x2 - x1) * t,\r\n                y: y1 + (y2 - y1) * t\r\n            };\r\n        });\r\n        let mergedBoxes = comp.boxes\r\n            .filter((box: AnnotationBox) => box.text !== null)\r\n            .filter((box: AnnotationBox) => {\r\n            const rx0 = box.points.x0.value * imgWidth + 10;\r\n            const ry0 = box.points.y0.value * imgHeight + 10;\r\n            const rx1 = box.points.x1.value * imgWidth + 10;\r\n            const ry1 = box.points.y1.value * imgHeight + 10;\r\n\r\n            return points.findIndex(p => {\r\n                return p.x >= rx0\r\n                    && p.x <= rx1\r\n                    && p.y >= ry0\r\n                    && p.y <= ry1;\r\n            }) !== -1;\r\n\r\n        });\r\n        if (mergedBoxes.length === 0) {\r\n            return;\r\n        }\r\n        const labelCounter: {[label: string]: number} = {};\r\n        mergedBoxes.forEach(box => {\r\n            const label = box.label.value;\r\n            const count = labelCounter[label];\r\n            if (count === undefined) {\r\n                labelCounter[label] = 1;\r\n            } else {\r\n                labelCounter[label] += 1;\r\n            }\r\n        });\r\n\r\n        const maxLabel = Object.entries(labelCounter).sort((a, b) => b[1] - a[1])[0][0];\r\n\r\n        const xMin = d3.min(mergedBoxes, d => d.points.x0.value);\r\n        const xMax = d3.max(mergedBoxes, d => d.points.x1.value);\r\n        const yMin = d3.min(mergedBoxes, d => d.points.y0.value);\r\n        const yMax = d3.max(mergedBoxes, d => d.points.y1.value);\r\n\r\n        const alignHorizontal = 1.5 * (xMax - xMin) > (yMax - yMin);\r\n        const lineTan = Math.atan2(y2 - y1, x2 - x1);\r\n        const perpendicularMerge = alignHorizontal\r\n            ? Math.abs(lineTan) > 1\r\n            : Math.abs(lineTan) <= 1;\r\n        mergedBoxes = mergedBoxes.sort((a, b) => {\r\n            if (alignHorizontal) {\r\n                return perpendicularMerge\r\n                    ? a.points.y0.value - b.points.y0.value\r\n                    : a.points.x0.value - b.points.x0.value;\r\n            } else {\r\n                return perpendicularMerge\r\n                    ? a.points.x0.value - b.points.x0.value\r\n                    : b.points.y0.value - a.points.y0.value;\r\n            }\r\n        });\r\n        const mergedText = mergedBoxes.map(d => d.text.value).join(' ');\r\n        mergedBoxes.forEach(d => {\r\n            const deletedBoxIndex = d.key;\r\n            if (comp.focusedBoxIndex === boxIndex) {\r\n                comp.focusedBoxIndex = null;\r\n            }\r\n\r\n            comp.g.select(`.rect-${deletedBoxIndex}`).remove();\r\n            comp.g.selectAll(`.circle-${deletedBoxIndex}`).remove();\r\n            comp.task.deleteBox(comp.formGroup, deletedBoxIndex);\r\n        });\r\n        const newBoxIndex = (comp.autoIncBoxIndex + 1).toString();\r\n        const raw = {\r\n            key: newBoxIndex,\r\n            x0: xMin,\r\n            x1: xMax,\r\n            y0: yMin,\r\n            y1: yMax,\r\n            label: maxLabel,\r\n            text: mergedText\r\n        };\r\n        comp.autoIncBoxIndex += 1;\r\n        comp.task.updateBox(comp.formGroup, raw);\r\n        comp.updateBoxes();\r\n        drawBoxMark(comp, comp.boxes.find(d => d.key === newBoxIndex));\r\n        comp.updateFocus(newBoxIndex);\r\n    };\r\n\r\n    rectS.on('contextmenu', () => {\r\n        d3.event.preventDefault();\r\n        d3.event.stopPropagation();\r\n\r\n        if (comp.spacePressed || (comp as OC).stage !== 0) {\r\n            return;\r\n        }\r\n\r\n        if (!comp.isMerging && comp.index === comp.currIndex) {\r\n            initLine();\r\n        } else if (comp.isMerging) {\r\n            merge();\r\n            comp.g.select('#merge-line').remove();\r\n        }\r\n        comp.isMerging = !comp.isMerging;\r\n    });\r\n}\r\n\r\nexport function getImageData(imgElem: HTMLImageElement) {\r\n    const canvas = document.createElement('canvas');\r\n    const context = canvas.getContext('2d');\r\n    const { width, height } = imgElem;\r\n    canvas.height = height;\r\n    canvas.width = width;\r\n    context.drawImage(imgElem, 0, 0, width, height);\r\n    return Array.from(context.getImageData(0, 0, width, height).data);\r\n}\r\n\r\nexport function drawBoxBySelectedPixel(comp: BC | OC) {\r\n    d3.event.preventDefault();\r\n    const container = comp.svgS as S<ContainerElement, {}>;\r\n    const [x, y] = d3.mouse(container.node()).map(d => Math.floor(d - 10));\r\n    const imgElem = comp.imgRef.nativeElement as HTMLImageElement;\r\n    const { width, height } = imgElem;\r\n    const imgData = getImageData(imgElem);\r\n    drawBoxByPoint(comp, imgData, width, height, x, y);\r\n}\r\n\r\nexport function regressBoxesByColor(comp: BC | OC) {\r\n    const imgElem = comp.imgRef.nativeElement as HTMLImageElement;\r\n    const { width, height } = imgElem;\r\n    const marks = comp.boxes.filter(box => box.text === null);\r\n    const imgData = getImageData(imgElem);\r\n    const markCenters = marks.map(mark => {\r\n        return [\r\n            Math.round(mark.center[0] * width),\r\n            Math.round(mark.center[1] * height)\r\n        ];\r\n    });\r\n    marks.forEach(mark => {\r\n        comp.removeBox(mark.key);\r\n    });\r\n    comp.updateBoxes();\r\n    markCenters.forEach(center => {\r\n        const [x, y] = center;\r\n        drawBoxByPoint(comp, imgData, width, height, x, y);\r\n    });\r\n}\r\n\r\nexport function regressArea(imgData: number[], width: number, height: number, x: number, y: number): any[] {\r\n    interface ColorValue {\r\n        type: string;\r\n        r?: number;\r\n        g?: number;\r\n        b?: number;\r\n        h?: number;\r\n        s?: number;\r\n        i?: number;\r\n    }\r\n\r\n    const color = (p: number[]): ColorValue => {\r\n        const [px, py] = p;\r\n        const start = (py * width + px) * 4;\r\n        const rgb = imgData.slice(start, start + 4);\r\n        const hsi = rgb2hsi(rgb).slice(0, 3);\r\n        const result = { type: 'rgb', r: rgb[0], g: rgb[1], b: rgb[2] };\r\n        if (hsi[0] > 2) {\r\n            result.type = 'hsi';\r\n            return { ...result, h: hsi[0], s: hsi[1], i: hsi[2] };\r\n        } else {\r\n            return result;\r\n        }\r\n    };\r\n\r\n    const point = (index: number) => {\r\n        return [index % width, Math.floor(index / width)];\r\n    };\r\n\r\n    const isSameColor = (a: ColorValue, b: ColorValue) => {\r\n        const sameRGB = Math.abs(a.r - b.r) < 10\r\n            && Math.abs(a.g - b.g) < 10\r\n            && Math.abs(a.b - b.b) < 10;\r\n        if (a.type === 'hsi' && b.type === 'hsi') {\r\n            return Math.abs(a.h - b.h) < 5\r\n                && Math.abs(a.s - b.s) < 0.15\r\n                && sameRGB;\r\n        } else {\r\n            return sameRGB;\r\n        }\r\n    };\r\n\r\n    const startColor = color([x, y]);\r\n    const startIndex = y * width + x;\r\n    const marks = new Array(width * height).fill(false);\r\n    const queue = [];\r\n    const points = [];\r\n    queue.push(startIndex);\r\n    marks[startIndex] = true;\r\n    points.push({x, y});\r\n    const directions = [[-1, 0], [1, 0], [0, 1], [0, -1]];\r\n    while (queue.length > 0) {\r\n        const currIndex = queue[0];\r\n        queue.shift();\r\n        const [px, py] = point(currIndex);\r\n        directions.forEach(dir => {\r\n            const nextPoint = [px + dir[0], py + dir[1]];\r\n            const [npx, npy] = nextPoint;\r\n            const nextIndex = npy * width + npx;\r\n            if (npx < 0 || npx >= width || npy < 0 || npy >= height) {\r\n                return;\r\n            }\r\n            const notMarked = !marks[nextIndex];\r\n            if (notMarked && isSameColor(startColor, color([npx, npy]))) {\r\n                queue.push(nextIndex);\r\n                marks[nextIndex] = true;\r\n                points.push({x: npx, y: npy});\r\n            }\r\n\r\n        });\r\n    }\r\n    return points;\r\n}\r\n\r\nexport function drawBoxByPoint(comp: BC | OC,\r\n    imgData: number[], width: number, height: number, x: number, y: number) {\r\n    const points = regressArea(imgData, width, height, x, y);\r\n    const x0 = Math.max(0, d3.min(points, d => d.x) - 1) + 10;\r\n    const y0 = Math.max(0, d3.min(points, d => d.y) - 1) + 10;\r\n    const x1 = Math.min(d3.max(points, d => d.x) + 1, width) + 10;\r\n    const y1 = Math.min(d3.max(points, d => d.y) + 1, height) + 10;\r\n\r\n    if ((y1 - y0) * (x1 - x0) > width * height * 0.9) {\r\n        return;\r\n    }\r\n    const boxIndex = (comp.autoIncBoxIndex + 1).toString();\r\n    comp.autoIncBoxIndex += 1;\r\n    comp.writeForm(boxIndex, x0, y0, x1 - x0, y1 - y0);\r\n    const box = new AnnotationBox(boxIndex, comp.box(boxIndex));\r\n    drawBoxMark(comp, box);\r\n    comp.updateFocus(boxIndex);\r\n}\r\n\r\nexport function boxComparator(a: AnnotationBox, b: AnnotationBox) {\r\n    if (a.isText && b.isText) {\r\n        const aLabel = a.label.value as string;\r\n        const bLabel = b.label.value as string;\r\n        const comp = LABEL_PRIORITY[aLabel] - LABEL_PRIORITY[bLabel];\r\n\r\n        if (comp === 0) {\r\n            if (aLabel === KEY_X_AXIS_LABEL) {\r\n                return a.center[0] - b.center[0];\r\n            } else {\r\n                return a.center[1] - b.center[1];\r\n            }\r\n        }\r\n\r\n        return comp;\r\n    } else if (a.isText) {\r\n        return -1;\r\n    } else if (b.isText) {\r\n        return 1;\r\n    } else {\r\n        return 0;\r\n    }\r\n}\r\n\r\n\r\nexport function moveGuides(horLine: SA, verLine: SA, x: number, y: number) {\r\n    horLine.attr('y1', y).attr('y2', y);\r\n    verLine.attr('x1', x).attr('x2', x);\r\n}\r\n","export default \".w-20 {\\n  width: 20% !important;\\n}\\n\\n.w-15 {\\n  width: 15% !important;\\n}\\n\\n.focused {\\n  background-color: rgba(51, 153, 102, 0.4);\\n}\\n\\n.mat-select {\\n  padding-left: 5px;\\n  width: 100%;\\n  border-radius: 4px;\\n  border: 1px solid #aaa;\\n}\\n\\n.table {\\n  max-height: 400px;\\n  overflow-y: scroll;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9hbm5vdGF0aW9uLW1vZHVsZS9ib3VuZGluZy1ib3gvQzpcXFVzZXJzXFxqdW5ob2VcXEhDSUxcXGRldlxcQXV0b3RhdG9yXFxjbGllbnQvc3JjXFxhcHBcXGVkaXRcXGFubm90YXRpb24tbW9kdWxlXFxib3VuZGluZy1ib3hcXGJvdW5kaW5nLWJveC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZWRpdC9hbm5vdGF0aW9uLW1vZHVsZS9ib3VuZGluZy1ib3gvYm91bmRpbmctYm94LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUJBQUE7QUNDSjs7QURFQTtFQUNJLHFCQUFBO0FDQ0o7O0FERUE7RUFDSSx5Q0FBQTtBQ0NKOztBREVBO0VBQ0ksaUJBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtBQ0NKOztBREVBO0VBQ0ksaUJBQUE7RUFDQSxrQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvZWRpdC9hbm5vdGF0aW9uLW1vZHVsZS9ib3VuZGluZy1ib3gvYm91bmRpbmctYm94LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnctMjAge1xyXG4gICAgd2lkdGg6IDIwJSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4udy0xNSB7XHJcbiAgICB3aWR0aDogMTUlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5mb2N1c2VkIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNTEsIDE1MywgMTAyLCAwLjQpO1xyXG59XHJcblxyXG4ubWF0LXNlbGVjdCB7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDVweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2FhYTtcclxufVxyXG5cclxuLnRhYmxlIHtcclxuICAgIG1heC1oZWlnaHQ6IDQwMHB4O1xyXG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xyXG59XHJcbiIsIi53LTIwIHtcbiAgd2lkdGg6IDIwJSAhaW1wb3J0YW50O1xufVxuXG4udy0xNSB7XG4gIHdpZHRoOiAxNSUgIWltcG9ydGFudDtcbn1cblxuLmZvY3VzZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDUxLCAxNTMsIDEwMiwgMC40KTtcbn1cblxuLm1hdC1zZWxlY3Qge1xuICBwYWRkaW5nLWxlZnQ6IDVweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2FhYTtcbn1cblxuLnRhYmxlIHtcbiAgbWF4LWhlaWdodDogNDAwcHg7XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbn0iXX0= */\"","import { Component, OnInit, Input, OnChanges, SimpleChanges, ElementRef,  HostListener, Output, EventEmitter } from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { BoundingBox } from 'src/app/common/task';\r\nimport { SB, SA } from 'src/app/d3-utils';\r\n\r\nimport * as d3 from 'd3';\r\nimport { Observable } from 'rxjs';\r\nimport { EditService } from 'src/app/edit.service';\r\nimport { removeEventArea, createEventArea,\r\n    addRectDragEvent, AnnotationBox,\r\n    drawBoxBySelectedPixel,\r\n    removeTempBox} from '../annotation-util';\r\n\r\n@Component({\r\n    selector: 'app-bounding-box',\r\n    templateUrl: './bounding-box.component.html',\r\n    styleUrls: [\r\n        './bounding-box.component.scss',\r\n        '../../edit-module.scss',\r\n    ]\r\n})\r\nexport class BoundingBoxComponent implements OnInit, OnChanges {\r\n\r\n    @Input() formGroup: FormGroup;\r\n    @Input() task: BoundingBox;\r\n    @Input() index: number;\r\n    @Input() svgS: SB;\r\n    @Input() imgRef: ElementRef;\r\n    @Input() currIndex: number;\r\n    @Input() event: Observable<string>;\r\n    @Input() spacePressed: boolean;\r\n    @Output() submitEmitter = new EventEmitter<void>();\r\n\r\n    public focusedBoxIndex: string = null;\r\n    public autoIncBoxIndex = 0;\r\n    public boxes: AnnotationBox[] = [];\r\n    public isDrawing = false;\r\n    public g: SB;\r\n\r\n    constructor(private edit: EditService, private fb: FormBuilder) { }\r\n\r\n    ngOnInit() {\r\n        this.event.subscribe(key => {\r\n            this.isDrawing = false;\r\n            if (key === 'predict' && this.edit.autoCompleteSubject.getValue()[this.task.key]) {\r\n                this.task.registerControl(this.formGroup, this.fb);\r\n                this.task.applyPrediction(this.formGroup);\r\n                this.updateBoxes();\r\n                if (this.currIndex === this.index) {\r\n                    this.createEventArea();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.currIndex || changes.formGroup) {\r\n            if (this.currIndex === this.index) {\r\n                this.createEventArea();\r\n                this.autoIncBoxIndex = d3.max(this.boxes.map(box => +box.key)) || 0;\r\n            } else {\r\n                removeEventArea(this);\r\n            }\r\n        }\r\n    }\r\n\r\n    @HostListener('window:keyup', ['$event'])\r\n    onKey(event: KeyboardEvent) {\r\n        if (document.activeElement.tagName === 'INPUT') {\r\n            return;\r\n        }\r\n\r\n        if (event.key === 'Escape' && this.isDrawing) {\r\n            removeTempBox(this);\r\n        }\r\n\r\n        if ((event.key === 'd' || event.key === 'Delete')\r\n            && this.focusedBoxIndex) {\r\n            this.deleteBox(this.focusedBoxIndex);\r\n        }\r\n    }\r\n\r\n    deleteBox(boxIndex: string) {\r\n        this.g.select(`.rect-${boxIndex}`).remove();\r\n        this.g.selectAll(`.circle-${boxIndex}`).remove();\r\n        this.task.deleteBox(this.formGroup, boxIndex);\r\n        if (boxIndex === this.focusedBoxIndex) {\r\n            this.focusedBoxIndex = null;\r\n        }\r\n        this.updateBoxes();\r\n    }\r\n\r\n    private createEventArea() {\r\n\r\n        removeEventArea(this);\r\n        createEventArea(this, false);\r\n        this.svgS.on('contextmenu', () => {\r\n            drawBoxBySelectedPixel(this);\r\n        });\r\n    }\r\n\r\n    writeForm(boxIndex: string, x: number, y: number, width: number, height: number) {\r\n        const imgElem = this.imgRef.nativeElement;\r\n        const clamp = (value: number, min: number, max: number) => {\r\n            return Math.min(max, Math.max(min, value));\r\n        };\r\n        const raw = {\r\n            key: boxIndex,\r\n            x0: clamp(x - 10, 0, imgElem.width) / imgElem.width,\r\n            y0: clamp(y - 10, 0, imgElem.height) / imgElem.height,\r\n            x1: clamp((x + width) - 10, 0, imgElem.width) / imgElem.width,\r\n            y1: clamp((y + height) - 10, 0, imgElem.height) / imgElem.height,\r\n        };\r\n\r\n        const addNewBox = !this.formGroup\r\n            .get(this.task.key)\r\n            .get(raw.key);\r\n        this.task.updateBox(this.formGroup, raw);\r\n        if (addNewBox) {\r\n            this.updateBoxes();\r\n        }\r\n    }\r\n\r\n    addRectEvent(boxIndex: string, rectS: SB, circleS: SA) {\r\n        addRectDragEvent(this, boxIndex, rectS, circleS);\r\n    }\r\n\r\n    updateFocus(boxIndex: string) {\r\n        this.g.selectAll('rect').classed('focused', false);\r\n        this.g.selectAll('circle').classed('focused', false);\r\n        this.g.select(`.rect-${boxIndex}`).classed('focused', true);\r\n        this.focusedBoxIndex = boxIndex;\r\n    }\r\n\r\n    updateBoxes() {\r\n        const formGroup = this.formGroup.get(this.task.key) as FormGroup;\r\n        this.boxes = Object\r\n            .entries(formGroup.controls)\r\n            .map(entry => {\r\n                const [key, value] = entry;\r\n                return new AnnotationBox(key, value as FormGroup);\r\n            });\r\n    }\r\n\r\n    box(boxIndex: string): FormGroup {\r\n        return this.formGroup.get(this.task.key).get(boxIndex) as FormGroup;\r\n    }\r\n\r\n    removeBox(boxIndex: string) {\r\n        this.g.select(`.rect-${boxIndex}`).remove();\r\n        this.g.selectAll(`.circle-${boxIndex}`).remove();\r\n        this.task.deleteBox(this.formGroup, boxIndex);\r\n        this.focusedBoxIndex = null;\r\n    }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2VkaXQvYW5ub3RhdGlvbi1tb2R1bGUvY2xhc3NpZmljYXRpb24vY2xhc3NpZmljYXRpb24uY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input, ViewChild, SimpleChanges, OnChanges, Output, EventEmitter, ElementRef } from '@angular/core';\r\nimport { MatStepper, MatRadioChange, MatRadioGroup } from '@angular/material';\r\nimport { Classification } from 'src/app/common/task';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { EditService } from 'src/app/edit.service';\r\nimport { Observable } from 'rxjs';\r\nimport { FeedbackService } from '../../common/feedback.service';\r\n\r\n@Component({\r\n    selector: 'app-classification',\r\n    templateUrl: './classification.component.html',\r\n    styleUrls: [\r\n        './classification.component.scss',\r\n        '../../edit-module.scss',\r\n    ]\r\n})\r\nexport class ClassificationComponent implements OnInit, OnChanges {\r\n\r\n    @Input() formGroup: FormGroup;\r\n    @Input() stepper: MatStepper;\r\n    @Input() index: number;\r\n    @Input() task: Classification;\r\n    @Input() currIndex: number;\r\n    @Input() event: Observable<string>;\r\n    @Input() spacePressed: boolean;\r\n    @Output() submitEmitter = new EventEmitter<void>();\r\n\r\n    @ViewChild(MatRadioGroup, { static: true }) group: MatRadioGroup;\r\n    @ViewChild('radioGroup', { static: true }) radioGroupRef: ElementRef;\r\n\r\n    constructor(private edit: EditService, private fs: FeedbackService) { }\r\n\r\n    ngOnInit() {\r\n        this.event.subscribe(key => {\r\n            if (key === 'predict' && this.edit.autoCompleteSubject.getValue()[this.task.key]) {\r\n                this.task.applyPrediction(this.formGroup);\r\n            }\r\n        });\r\n\r\n        this.fs.feedbackObservable.subscribe(feedback => {\r\n            if (feedback.taskKey === this.task.key) {\r\n                const el = this.radioGroupRef.nativeElement as HTMLElement;\r\n                const { left, top } = el.getBoundingClientRect() as ClientRect;\r\n                this.fs.showFeedback(left, top, feedback);\r\n            }\r\n        })\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.currIndex\r\n            && !changes.currIndex.isFirstChange()\r\n            && this.index > 0 && changes.currIndex.currentValue === this.index) {\r\n            const annotationLength = Object.keys(this.formGroup.value).length;\r\n            if (annotationLength - 1 === this.index) {\r\n                this.submitEmitter.emit();\r\n            }\r\n        }\r\n    }\r\n\r\n    onChange(change: MatRadioChange) {\r\n        this.formGroup.get(this.task.key).setValue(change.value);\r\n        if (this.index < this.stepper.steps.length - 1) {\r\n            this.stepper.next();\r\n        }\r\n    }\r\n\r\n}\r\n","export * from './bounding-box/bounding-box.component';\r\nexport * from './classification/classification.component';\r\nexport * from './overall';\r\nexport * from './regression/regression.component';\r\nexport * from './text/text.component';\r\nexport * from './annotation-module.component';\r\n","export default \"div {\\n  color: #212529;\\n}\\n\\n.key {\\n  color: #777;\\n  min-width: 100px;\\n  margin-right: 0.5rem;\\n  border-right: 1px solid #dee2e6;\\n  padding: 0rem 0.5rem !important;\\n}\\n\\n.readonly {\\n  cursor: not-allowed;\\n}\\n\\n.readonly .readonly-block {\\n  pointer-events: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9hbm5vdGF0aW9uLW1vZHVsZS9vdmVyYWxsL2F4aXMtc3BlYy9DOlxcVXNlcnNcXGp1bmhvZVxcSENJTFxcZGV2XFxBdXRvdGF0b3JcXGNsaWVudC9zcmNcXGFwcFxcZWRpdFxcYW5ub3RhdGlvbi1tb2R1bGVcXG92ZXJhbGxcXGF4aXMtc3BlY1xcYXhpcy1zcGVjLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9lZGl0L2Fubm90YXRpb24tbW9kdWxlL292ZXJhbGwvYXhpcy1zcGVjL2F4aXMtc3BlYy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7QUNDSjs7QURFQTtFQUNJLFdBQUE7RUFDQSxnQkFBQTtFQUNBLG9CQUFBO0VBQ0EsK0JBQUE7RUFDQSwrQkFBQTtBQ0NKOztBREVBO0VBQ0ksbUJBQUE7QUNDSjs7QURBSTtFQUNJLG9CQUFBO0FDRVIiLCJmaWxlIjoic3JjL2FwcC9lZGl0L2Fubm90YXRpb24tbW9kdWxlL292ZXJhbGwvYXhpcy1zcGVjL2F4aXMtc3BlYy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImRpdiB7XHJcbiAgICBjb2xvcjogIzIxMjUyOTtcclxufVxyXG5cclxuLmtleSB7XHJcbiAgICBjb2xvcjogIzc3NztcclxuICAgIG1pbi13aWR0aDogMTAwcHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcclxuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZWUyZTY7XHJcbiAgICBwYWRkaW5nOiAwcmVtIDAuNXJlbSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ucmVhZG9ubHkge1xyXG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxuICAgIC5yZWFkb25seS1ibG9jayB7XHJcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICB9XHJcbn1cclxuIiwiZGl2IHtcbiAgY29sb3I6ICMyMTI1Mjk7XG59XG5cbi5rZXkge1xuICBjb2xvcjogIzc3NztcbiAgbWluLXdpZHRoOiAxMDBweDtcbiAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZWUyZTY7XG4gIHBhZGRpbmc6IDByZW0gMC41cmVtICFpbXBvcnRhbnQ7XG59XG5cbi5yZWFkb25seSB7XG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XG59XG4ucmVhZG9ubHkgLnJlYWRvbmx5LWJsb2NrIHtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59Il19 */\"","import { Component, OnInit, Input, ViewChild, ElementRef, AfterViewInit, OnDestroy, Output, EventEmitter } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { AnnotationBox } from '../../annotation-util';\r\nimport { KEY_MARK_LABEL, Overall } from 'src/app/common/task';\r\nimport { MatSelectChange } from '@angular/material';\r\nimport { FeedbackService } from 'src/app/edit/common/feedback.service';\r\nimport { Feedback } from 'src/app/common/verification-data';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'app-axis-spec',\r\n    templateUrl: './axis-spec.component.html',\r\n    styleUrls: [\r\n        './axis-spec.component.scss',\r\n        '../overall.component.scss'\r\n    ]\r\n})\r\nexport class AxisSpecComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n    @Input() auto: boolean;\r\n    @Input() index: number;\r\n    @Input() group: FormGroup;\r\n    @Input() task: Overall;\r\n    @Input() texts: AnnotationBox[] = [];\r\n\r\n    @ViewChild('title', { static: false }) titleRef: ElementRef;\r\n    @ViewChild('dir', { static: false }) dirRef: ElementRef;\r\n    @ViewChild('type', { static: false }) typeRef: ElementRef;\r\n    @ViewChild('unit', { static: false }) unitRef: ElementRef;\r\n    @ViewChild('labels', { static: false }) labelsRef: ElementRef;\r\n    @ViewChild('markLabels', { static: false }) markLabelsRef: ElementRef;\r\n    @ViewChild('wrapper', { static: false }) wrapper: ElementRef;\r\n\r\n    @Output() scroll = new EventEmitter<number>();\r\n\r\n    public hasMarkLabels = false;\r\n    public focusedFeedbackKey = '';\r\n    public focusedFeedback: Feedback;\r\n    private refMap: { [key: string]: ElementRef };\r\n\r\n    private sub: Subscription;\r\n\r\n    constructor(private fs: FeedbackService) { }\r\n\r\n    ngOnInit() {\r\n        this.sub = this.fs.feedbackObservable.subscribe(feedback => {\r\n            this.focusedFeedbackKey = '';\r\n            this.focusedFeedback = null;\r\n            if (feedback.taskKey !== this.task.key) {\r\n                return;\r\n            }\r\n            const splited = feedback.annotationKey.split('.');\r\n            if (splited[0] !== 'spec' ||\r\n                splited[1] !== 'axis' ||\r\n                +splited[2] !== this.index) {\r\n                return;\r\n            }\r\n\r\n            this.focusedFeedbackKey = splited[3];\r\n            this.focusedFeedback = feedback;\r\n            setTimeout(() => {\r\n                this.scrollEvent();\r\n            }, 0);\r\n        });\r\n\r\n        this.hasMarkLabels = this.texts\r\n            .filter(d => d.label.value === KEY_MARK_LABEL).length > 0;\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.refMap = {\r\n            'title': this.titleRef,\r\n            'dir': this.dirRef,\r\n            'type': this.typeRef,\r\n            'unit': this.unitRef,\r\n            'labels': this.labelsRef,\r\n            'markLabels': this.markLabelsRef,\r\n        };\r\n    }\r\n\r\n    onValueTypeChange(change: MatSelectChange) {\r\n        if (change.value === 'quantitative') {\r\n            this.group.get('unit').setValue('integer');\r\n        } else {\r\n            this.group.get('unit').setValue('');\r\n        }\r\n    }\r\n\r\n    scrollEvent() {\r\n        const ref = this.refMap[this.focusedFeedbackKey];\r\n        if (!ref) {\r\n            return;\r\n        }\r\n        const el = ref.nativeElement as HTMLElement;\r\n        const top = el.getBoundingClientRect().top;\r\n        this.scroll.emit(top);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.sub) {\r\n            this.sub.unsubscribe();\r\n        }\r\n    }\r\n\r\n    focusedElemWithKey(key: string): boolean {\r\n        return !!this.focusedFeedback && this.focusedFeedbackKey === key;\r\n    }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2VkaXQvYW5ub3RhdGlvbi1tb2R1bGUvb3ZlcmFsbC9jYW52YXMtcGF0Y2gvY2FudmFzLXBhdGNoLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, ViewChild, ElementRef, Input, OnChanges, SimpleChanges } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-canvas-patch',\r\n    templateUrl: './canvas-patch.component.html',\r\n    styleUrls: ['./canvas-patch.component.scss']\r\n})\r\nexport class CanvasPatchComponent implements OnInit, OnChanges {\r\n\r\n    @Input() data: number[][];\r\n    @ViewChild('canvas', { static: true }) canvas: ElementRef;\r\n    constructor() { }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.data && changes.data.currentValue) {\r\n            const data = changes.data.currentValue as number[][];\r\n            if (data.length === 0) {\r\n                return;\r\n            }\r\n            const el = this.canvas.nativeElement as HTMLCanvasElement;\r\n            const ctx = el.getContext('2d');\r\n            const imgData = ctx.createImageData(15, 15);\r\n            data.forEach((pixel, i) => {\r\n                for (let j = 0; j < 3; j++) {\r\n                    imgData.data[i * 4 + j] = pixel[j];\r\n                }\r\n                imgData.data[i * 4 + 3] = 255;\r\n            });\r\n            ctx.putImageData(imgData, 0, 0);\r\n        }\r\n    }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2VkaXQvYW5ub3RhdGlvbi1tb2R1bGUvb3ZlcmFsbC9jdXN0b20tc3BlYy9jdXN0b20tc3BlYy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input, Output, EventEmitter, AfterViewInit, OnDestroy, ElementRef, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormArray, FormControl } from '@angular/forms';\r\nimport { AnnotationBox, isNumberText } from '../../annotation-util';\r\nimport { KEY_MARK_LABEL, Overall } from 'src/app/common/task';\r\nimport { MatCheckboxChange, MatSelectChange } from '@angular/material';\r\nimport { Subscription } from 'rxjs';\r\nimport { FeedbackService } from 'src/app/edit/common/feedback.service';\r\nimport { Feedback } from 'src/app/common/verification-data';\r\n\r\n@Component({\r\n    selector: 'app-custom-spec',\r\n    templateUrl: './custom-spec.component.html',\r\n    styleUrls: [\r\n        './custom-spec.component.scss',\r\n        '../../../edit-module.scss',\r\n        '../overall.component.scss'\r\n    ]\r\n})\r\nexport class CustomSpecComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n    @Input() index: number;\r\n    @Input() group: FormGroup;\r\n    @Input() task: Overall;\r\n    @Input() texts: AnnotationBox[];\r\n\r\n    @Output() closed = new EventEmitter<number>();\r\n    @Output() scroll = new EventEmitter<number>();\r\n\r\n    @ViewChild('titleRef', { static: false }) titleRef: ElementRef;\r\n    @ViewChild('type', { static: false }) typeRef: ElementRef;\r\n    @ViewChild('unit', { static: false }) unitRef: ElementRef;\r\n    @ViewChild('markLabels', { static: false }) markLabelsRef: ElementRef;\r\n\r\n    public markLabels: AnnotationBox[] = [];\r\n    public focusedFeedbackKey = '';\r\n    public focusedFeedback: Feedback;\r\n    private refMap: { [key: string]: ElementRef };\r\n\r\n    private sub: Subscription;\r\n\r\n    constructor(private fs: FeedbackService) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.sub = this.fs.feedbackObservable.subscribe(feedback => {\r\n            this.focusedFeedbackKey = '';\r\n            this.focusedFeedback = null;\r\n            if (feedback.taskKey !== this.task.key) {\r\n                return;\r\n            }\r\n\r\n            const splited = feedback.annotationKey.split('.');\r\n            if (splited[0] !== 'spec' ||\r\n                splited[1] !== 'custom' ||\r\n                +splited[2] !== this.index) {\r\n                    return;\r\n            }\r\n\r\n            this.focusedFeedbackKey = splited[3];\r\n            this.focusedFeedback = feedback;\r\n            setTimeout(() => {\r\n                this.scrollEvent();\r\n            }, 0);\r\n        });\r\n\r\n        this.markLabels = this.texts\r\n            .filter(d => d.label.value === KEY_MARK_LABEL);\r\n\r\n        const labelForms = (this.group.get('markLabels') as FormArray);\r\n        if (labelForms.length === 0) {\r\n            this.resetMarkLabels();\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.refMap = {\r\n            title: this.titleRef,\r\n            type: this.typeRef,\r\n            unit: this.unitRef,\r\n            markLabels: this.markLabelsRef\r\n        };\r\n    }\r\n\r\n    close() {\r\n        this.closed.emit(this.index);\r\n    }\r\n\r\n    checkLabeledByMarks(_: MatCheckboxChange) {\r\n        this.resetMarkLabels();\r\n    }\r\n\r\n    private resetMarkLabels() {\r\n        const labelForms = (this.group.get('markLabels') as FormArray);\r\n        if (!this.labeledByMarks) {\r\n            while (labelForms.length) {\r\n                labelForms.removeAt(0);\r\n            }\r\n            return;\r\n        }\r\n        this.markLabels.forEach(label => {\r\n            if (this.valueType === 'nominal' || isNumberText(label.text.value)) {\r\n                labelForms.push(new FormControl(label.text.value));\r\n            }\r\n        });\r\n    }\r\n\r\n    onValueTypeChange(change: MatSelectChange) {\r\n        if (change.value === 'quantitative') {\r\n            this.group.get('unit').setValue('integer');\r\n        } else {\r\n            this.group.get('unit').setValue('');\r\n        }\r\n    }\r\n\r\n    scrollEvent() {\r\n        const ref = this.refMap[this.focusedFeedbackKey];\r\n        if (!ref) {\r\n            return;\r\n        }\r\n        const el = ref.nativeElement as HTMLElement;\r\n        const top = el.getBoundingClientRect().top;\r\n        this.scroll.emit(top);\r\n    }\r\n\r\n    focusedElemWithKey(key: string): boolean {\r\n        return !!this.focusedFeedback && this.focusedFeedbackKey === key;\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.sub) {\r\n            this.sub.unsubscribe();\r\n        }\r\n    }\r\n\r\n    get hasMarkLabels() {\r\n        return this.markLabels.length > 0;\r\n    }\r\n\r\n    get title() {\r\n        return `Custom Column ${this.index + 1}`;\r\n    }\r\n\r\n    get valueType() {\r\n        return this.group.get('type').value;\r\n    }\r\n\r\n    get labeledByMarks() {\r\n        return this.group.get('labeled').value;\r\n    }\r\n}\r\n","export * from './axis-spec/axis-spec.component';\r\nexport * from './canvas-patch/canvas-patch.component';\r\nexport * from './legend-spec/legend-spec.component';\r\nexport * from './raw-table/raw-table.component';\r\nexport * from './overall.component';\r\n","export default \":host {\\n  width: 100% !important;\\n}\\n\\n.feedback-region {\\n  width: 100% !important;\\n  margin-top: -1.3rem !important;\\n  border-top: 2px solid #f44336;\\n}\\n\\n.feedback-region button {\\n  height: 20px !important;\\n}\\n\\n::ng-deep input.mat-chip-input {\\n  min-width: 50px !important;\\n  -webkit-box-flex: 1 !important;\\n          flex: 1 0 50px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9hbm5vdGF0aW9uLW1vZHVsZS9vdmVyYWxsL2xhYmVsLWNoaXAtbGlzdC9DOlxcVXNlcnNcXGp1bmhvZVxcSENJTFxcZGV2XFxBdXRvdGF0b3JcXGNsaWVudC9zcmNcXGFwcFxcZWRpdFxcYW5ub3RhdGlvbi1tb2R1bGVcXG92ZXJhbGxcXGxhYmVsLWNoaXAtbGlzdFxcbGFiZWwtY2hpcC1saXN0LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9lZGl0L2Fubm90YXRpb24tbW9kdWxlL292ZXJhbGwvbGFiZWwtY2hpcC1saXN0L2xhYmVsLWNoaXAtbGlzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHNCQUFBO0FDQ0o7O0FERUE7RUFDSSxzQkFBQTtFQUNBLDhCQUFBO0VBQ0EsNkJBQUE7QUNDSjs7QURDSTtFQUNJLHVCQUFBO0FDQ1I7O0FESUk7RUFDSSwwQkFBQTtFQUNBLDhCQUFBO1VBQUEseUJBQUE7QUNEUiIsImZpbGUiOiJzcmMvYXBwL2VkaXQvYW5ub3RhdGlvbi1tb2R1bGUvb3ZlcmFsbC9sYWJlbC1jaGlwLWxpc3QvbGFiZWwtY2hpcC1saXN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmZlZWRiYWNrLXJlZ2lvbiB7XHJcbiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gICAgbWFyZ2luLXRvcDogLTEuM3JlbSAhaW1wb3J0YW50O1xyXG4gICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICNmNDQzMzY7XHJcblxyXG4gICAgYnV0dG9uIHtcclxuICAgICAgICBoZWlnaHQ6IDIwcHggIWltcG9ydGFudDtcclxuICAgIH1cclxufVxyXG5cclxuOjpuZy1kZWVwIHtcclxuICAgIGlucHV0Lm1hdC1jaGlwLWlucHV0IHtcclxuICAgICAgICBtaW4td2lkdGg6IDUwcHggIWltcG9ydGFudDtcclxuICAgICAgICBmbGV4OiAxIDAgNTBweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG59XHJcbiIsIjpob3N0IHtcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbn1cblxuLmZlZWRiYWNrLXJlZ2lvbiB7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi10b3A6IC0xLjNyZW0gIWltcG9ydGFudDtcbiAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICNmNDQzMzY7XG59XG4uZmVlZGJhY2stcmVnaW9uIGJ1dHRvbiB7XG4gIGhlaWdodDogMjBweCAhaW1wb3J0YW50O1xufVxuXG46Om5nLWRlZXAgaW5wdXQubWF0LWNoaXAtaW5wdXQge1xuICBtaW4td2lkdGg6IDUwcHggIWltcG9ydGFudDtcbiAgZmxleDogMSAwIDUwcHggIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component, OnInit, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { TAB, COMMA, ENTER } from '@angular/cdk/keycodes';\r\nimport { MatChipInputEvent } from '@angular/material';\r\nimport { FormArray, FormControl, FormGroup } from '@angular/forms';\r\nimport { Feedback } from 'src/app/common/verification-data';\r\nimport { FeedbackService } from 'src/app/edit/common/feedback.service';\r\n\r\n@Component({\r\n    selector: 'app-label-chip-list',\r\n    templateUrl: './label-chip-list.component.html',\r\n    styleUrls: [\r\n        './label-chip-list.component.scss',\r\n        '../overall.component.scss'\r\n    ]\r\n})\r\nexport class LabelChipListComponent implements OnInit {\r\n\r\n    @Input() editable: boolean;\r\n    @Input() formGroup: FormGroup;\r\n    @Input() formKey: string;\r\n    @Input() focusedFeedback: Feedback;\r\n    @Input() focusedFeedbackKey: string;\r\n\r\n    public readonly separatorKeyCodes = [ENTER, COMMA, TAB];\r\n    public labelForms: FormArray;\r\n\r\n    constructor(public fs: FeedbackService) { }\r\n\r\n    ngOnInit() {\r\n        this.labelForms = this.formGroup.get(this.formKey) as FormArray;\r\n    }\r\n\r\n    add(event: MatChipInputEvent) {\r\n        const input = event.input;\r\n        const value = event.value;\r\n\r\n        if ((value || '').trim()) {\r\n            this.labelForms.push(new FormControl(value));\r\n        }\r\n\r\n        if (input) {\r\n            input.value = '';\r\n        }\r\n    }\r\n\r\n    remove(label: string) {\r\n        const index = this.labels.indexOf(label);\r\n        this.labelForms.removeAt(index);\r\n    }\r\n\r\n    get labels() {\r\n        return this.labelForms.value;\r\n    }\r\n\r\n}\r\n","export default \"div {\\n  color: #212529;\\n}\\n\\n.key {\\n  color: #777;\\n  min-width: 100px;\\n  margin-right: 0.5rem;\\n  border-right: 1px solid #dee2e6;\\n  padding: 0rem 0.5rem !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9hbm5vdGF0aW9uLW1vZHVsZS9vdmVyYWxsL2xlZ2VuZC1zcGVjL0M6XFxVc2Vyc1xcanVuaG9lXFxIQ0lMXFxkZXZcXEF1dG90YXRvclxcY2xpZW50L3NyY1xcYXBwXFxlZGl0XFxhbm5vdGF0aW9uLW1vZHVsZVxcb3ZlcmFsbFxcbGVnZW5kLXNwZWNcXGxlZ2VuZC1zcGVjLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9lZGl0L2Fubm90YXRpb24tbW9kdWxlL292ZXJhbGwvbGVnZW5kLXNwZWMvbGVnZW5kLXNwZWMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFBO0FDQ0o7O0FERUE7RUFDSSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtFQUNBLCtCQUFBO0VBQ0EsK0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2VkaXQvYW5ub3RhdGlvbi1tb2R1bGUvb3ZlcmFsbC9sZWdlbmQtc3BlYy9sZWdlbmQtc3BlYy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImRpdiB7XHJcbiAgICBjb2xvcjogIzIxMjUyOTtcclxufVxyXG5cclxuLmtleSB7XHJcbiAgICBjb2xvcjogIzc3NztcclxuICAgIG1pbi13aWR0aDogMTAwcHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcclxuICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZWUyZTY7XHJcbiAgICBwYWRkaW5nOiAwcmVtIDAuNXJlbSAhaW1wb3J0YW50O1xyXG59XHJcbiIsImRpdiB7XG4gIGNvbG9yOiAjMjEyNTI5O1xufVxuXG4ua2V5IHtcbiAgY29sb3I6ICM3Nzc7XG4gIG1pbi13aWR0aDogMTAwcHg7XG4gIG1hcmdpbi1yaWdodDogMC41cmVtO1xuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZGVlMmU2O1xuICBwYWRkaW5nOiAwcmVtIDAuNXJlbSAhaW1wb3J0YW50O1xufSJdfQ== */\"","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter, AfterViewInit, OnDestroy } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { Overall } from 'src/app/common/task';\r\nimport { Feedback } from 'src/app/common/verification-data';\r\nimport { Subscription } from 'rxjs';\r\nimport { FeedbackService } from 'src/app/edit/common/feedback.service';\r\n\r\n@Component({\r\n    selector: 'app-legend-spec',\r\n    templateUrl: './legend-spec.component.html',\r\n    styleUrls: [\r\n        './legend-spec.component.scss',\r\n        '../overall.component.scss'\r\n    ]\r\n})\r\nexport class LegendSpecComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n    @Input() auto: boolean;\r\n    @Input() group: FormGroup;\r\n    @Input() task: Overall;\r\n\r\n    @ViewChild('title', { static: false }) titleRef: ElementRef;\r\n    @ViewChild('labels', { static: false }) labelsRef: ElementRef;\r\n\r\n    @Output() scroll = new EventEmitter<number>();\r\n\r\n    public focusedFeedbackKey: string;\r\n    public focusedFeedback: Feedback;\r\n\r\n    private refMap: { [key: string]: ElementRef };\r\n    private sub: Subscription;\r\n\r\n    constructor(private fs: FeedbackService) { }\r\n\r\n    ngOnInit() {\r\n        this.sub = this.fs.feedbackObservable.subscribe(feedback => {\r\n            this.focusedFeedbackKey = '';\r\n            this.focusedFeedback = null;\r\n            if (feedback.taskKey !== this.task.key) {\r\n                return;\r\n            }\r\n            const splited = feedback.annotationKey.split('.');\r\n            if (splited[0] !== 'spec' ||\r\n                splited[1] !== 'legend') {\r\n                return;\r\n            }\r\n\r\n            this.focusedFeedbackKey = splited[2];\r\n            this.focusedFeedback = feedback;\r\n            setTimeout(() => {\r\n                this.scrollEvent();\r\n            }, 0);\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.refMap = {\r\n            'title': this.titleRef,\r\n            'labels': this.labelsRef\r\n        };\r\n    }\r\n\r\n    scrollEvent() {\r\n        const ref = this.refMap[this.focusedFeedbackKey];\r\n        if (!ref) {\r\n            return;\r\n        }\r\n        const el = ref.nativeElement as HTMLElement;\r\n        const top = el.getBoundingClientRect().top;\r\n        this.scroll.emit(top);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.sub) {\r\n            this.sub.unsubscribe();\r\n        }\r\n    }\r\n\r\n    focusedElemWithKey(key: string): boolean {\r\n        return !!this.focusedFeedback && this.focusedFeedbackKey === key;\r\n    }\r\n\r\n}\r\n","export default \".subtitle {\\n  color: #777;\\n  font-size: 1.2rem;\\n  width: 120px;\\n}\\n\\n.spec {\\n  color: #212529;\\n  padding: 0.2rem;\\n}\\n\\n.spec div {\\n  padding: 0rem 0.3rem !important;\\n}\\n\\n.key {\\n  font-size: 1.1rem;\\n  color: rgba(0, 0, 0, 0.54);\\n  min-width: 100px;\\n  margin-bottom: 0.3rem;\\n}\\n\\n.feature-cell {\\n  width: 7% !important;\\n  text-align: center;\\n  font-size: 0.85rem;\\n  line-height: 24px;\\n}\\n\\n.input-cell {\\n  width: 47% !important;\\n  text-align: center;\\n  line-height: 24px;\\n}\\n\\n.input-cell input {\\n  font-size: 1rem;\\n  width: 100%;\\n}\\n\\n.even {\\n  background-color: #F5F5F5;\\n}\\n\\n.w-20 {\\n  width: 20% !important;\\n}\\n\\n.feedback-region {\\n  display: -webkit-box;\\n  display: flex;\\n  flex-wrap: wrap;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: end;\\n          justify-content: flex-end;\\n  margin-top: -0.4rem;\\n  padding: 0.2rem;\\n  color: #f44336;\\n  background-color: rgba(0, 0, 0, 0);\\n  font-size: 0.9rem;\\n}\\n\\n.feedback-region div {\\n  margin: 0.2rem;\\n  color: #f44336;\\n}\\n\\n.feedback-region.title {\\n  width: 100%;\\n  border-top: 2px solid #f44336;\\n  margin-top: -1.3rem;\\n  max-width: 100%;\\n}\\n\\n.feedback-region.select {\\n  border-top: 2px solid #f44336;\\n  margin-top: -1.3rem;\\n  max-width: 180px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9hbm5vdGF0aW9uLW1vZHVsZS9vdmVyYWxsL0M6XFxVc2Vyc1xcanVuaG9lXFxIQ0lMXFxkZXZcXEF1dG90YXRvclxcY2xpZW50L3NyY1xcYXBwXFxlZGl0XFxhbm5vdGF0aW9uLW1vZHVsZVxcb3ZlcmFsbFxcb3ZlcmFsbC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZWRpdC9hbm5vdGF0aW9uLW1vZHVsZS9vdmVyYWxsL292ZXJhbGwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxjQUFBO0VBQ0EsZUFBQTtBQ0NKOztBREFJO0VBQ0ksK0JBQUE7QUNFUjs7QURFQTtFQUNJLGlCQUFBO0VBQ0EsMEJBQUE7RUFDQSxnQkFBQTtFQUNBLHFCQUFBO0FDQ0o7O0FERUE7RUFDSSxvQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0kscUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FDQ0o7O0FEQ0k7RUFDSSxlQUFBO0VBQ0EsV0FBQTtBQ0NSOztBREdBO0VBQ0kseUJBQUE7QUNBSjs7QURHQTtFQUNJLHFCQUFBO0FDQUo7O0FER0E7RUFDSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSxlQUFBO0VBQ0EseUJBQUE7VUFBQSxtQkFBQTtFQUNBLHFCQUFBO1VBQUEseUJBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0Esa0NBQUE7RUFDQSxpQkFBQTtBQ0FKOztBREVJO0VBQ0ksY0FBQTtFQUNBLGNBQUE7QUNBUjs7QURHSTtFQUNJLFdBQUE7RUFDQSw2QkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtBQ0RSOztBRElJO0VBQ0ksNkJBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0FDRlIiLCJmaWxlIjoic3JjL2FwcC9lZGl0L2Fubm90YXRpb24tbW9kdWxlL292ZXJhbGwvb3ZlcmFsbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zdWJ0aXRsZSB7XHJcbiAgICBjb2xvcjogIzc3NztcclxuICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xyXG4gICAgd2lkdGg6IDEyMHB4O1xyXG59XHJcblxyXG4uc3BlYyB7XHJcbiAgICBjb2xvcjogIzIxMjUyOTtcclxuICAgIHBhZGRpbmc6IDAuMnJlbTtcclxuICAgIGRpdiB7XHJcbiAgICAgICAgcGFkZGluZzogMHJlbSAwLjNyZW0gIWltcG9ydGFudDtcclxuICAgIH1cclxufVxyXG5cclxuLmtleSB7XHJcbiAgICBmb250LXNpemU6IDEuMXJlbTtcclxuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNTQpO1xyXG4gICAgbWluLXdpZHRoOiAxMDBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDAuM3JlbTtcclxufVxyXG5cclxuLmZlYXR1cmUtY2VsbCB7XHJcbiAgICB3aWR0aDogNyUgIWltcG9ydGFudDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMC44NXJlbTtcclxuICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xyXG59XHJcblxyXG4uaW5wdXQtY2VsbCB7XHJcbiAgICB3aWR0aDogNDclICFpbXBvcnRhbnQ7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBsaW5lLWhlaWdodDogMjRweDtcclxuXHJcbiAgICBpbnB1dCB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgfVxyXG59XHJcblxyXG4uZXZlbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjVGNUY1O1xyXG59XHJcblxyXG4udy0yMCB7XHJcbiAgICB3aWR0aDogMjAlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5mZWVkYmFjay1yZWdpb24ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gICAgbWFyZ2luLXRvcDogLTAuNHJlbTtcclxuICAgIHBhZGRpbmc6IDAuMnJlbTtcclxuICAgIGNvbG9yOiAjZjQ0MzM2O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcclxuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xyXG5cclxuICAgIGRpdiB7XHJcbiAgICAgICAgbWFyZ2luOiAwLjJyZW07XHJcbiAgICAgICAgY29sb3I6ICNmNDQzMzY7XHJcbiAgICB9XHJcblxyXG4gICAgJi50aXRsZSB7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICNmNDQzMzY7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogLTEuM3JlbTtcclxuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICB9XHJcblxyXG4gICAgJi5zZWxlY3Qge1xyXG4gICAgICAgIGJvcmRlci10b3A6IDJweCBzb2xpZCAjZjQ0MzM2O1xyXG4gICAgICAgIG1hcmdpbi10b3A6IC0xLjNyZW07XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxODBweDtcclxuICAgIH1cclxufVxyXG4iLCIuc3VidGl0bGUge1xuICBjb2xvcjogIzc3NztcbiAgZm9udC1zaXplOiAxLjJyZW07XG4gIHdpZHRoOiAxMjBweDtcbn1cblxuLnNwZWMge1xuICBjb2xvcjogIzIxMjUyOTtcbiAgcGFkZGluZzogMC4ycmVtO1xufVxuLnNwZWMgZGl2IHtcbiAgcGFkZGluZzogMHJlbSAwLjNyZW0gIWltcG9ydGFudDtcbn1cblxuLmtleSB7XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjU0KTtcbiAgbWluLXdpZHRoOiAxMDBweDtcbiAgbWFyZ2luLWJvdHRvbTogMC4zcmVtO1xufVxuXG4uZmVhdHVyZS1jZWxsIHtcbiAgd2lkdGg6IDclICFpbXBvcnRhbnQ7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiAwLjg1cmVtO1xuICBsaW5lLWhlaWdodDogMjRweDtcbn1cblxuLmlucHV0LWNlbGwge1xuICB3aWR0aDogNDclICFpbXBvcnRhbnQ7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XG59XG4uaW5wdXQtY2VsbCBpbnB1dCB7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5ldmVuIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0Y1RjVGNTtcbn1cblxuLnctMjAge1xuICB3aWR0aDogMjAlICFpbXBvcnRhbnQ7XG59XG5cbi5mZWVkYmFjay1yZWdpb24ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIG1hcmdpbi10b3A6IC0wLjRyZW07XG4gIHBhZGRpbmc6IDAuMnJlbTtcbiAgY29sb3I6ICNmNDQzMzY7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XG4gIGZvbnQtc2l6ZTogMC45cmVtO1xufVxuLmZlZWRiYWNrLXJlZ2lvbiBkaXYge1xuICBtYXJnaW46IDAuMnJlbTtcbiAgY29sb3I6ICNmNDQzMzY7XG59XG4uZmVlZGJhY2stcmVnaW9uLnRpdGxlIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci10b3A6IDJweCBzb2xpZCAjZjQ0MzM2O1xuICBtYXJnaW4tdG9wOiAtMS4zcmVtO1xuICBtYXgtd2lkdGg6IDEwMCU7XG59XG4uZmVlZGJhY2stcmVnaW9uLnNlbGVjdCB7XG4gIGJvcmRlci10b3A6IDJweCBzb2xpZCAjZjQ0MzM2O1xuICBtYXJnaW4tdG9wOiAtMS4zcmVtO1xuICBtYXgtd2lkdGg6IDE4MHB4O1xufSJdfQ== */\"","import { Component, OnInit, Input, ElementRef,\r\n    OnChanges, SimpleChanges, HostListener, ViewChild, Output,\r\n    EventEmitter, ViewChildren, QueryList, ChangeDetectorRef, OnDestroy } from '@angular/core';\r\nimport { FormGroup, FormBuilder, FormArray } from '@angular/forms';\r\nimport { SB, SA } from 'src/app/d3-utils';\r\nimport { Overall, BoxData, KEY_LEGEND_TITLE, KEY_LEGEND_LABEL, KEY_TITLE, KEY_MARK_LABEL } from 'src/app/common/task';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { AnnotationBox, removeEventArea, createEventArea,\r\n    addRectDragEvent, addMergeEvent, regressBoxesByColor, drawBoxBySelectedPixel,\r\n    boxComparator, isNumberTexts, NUM_REG, removeTempBox, removeMergeLine } from '../annotation-util';\r\nimport { EditService } from 'src/app/edit.service';\r\n\r\nimport * as d3 from 'd3';\r\nimport { MatButtonToggleChange, MatCheckboxChange, MatSliderChange } from '@angular/material';\r\nimport { FeedbackService } from '../../common/feedback.service';\r\nimport { Feedback } from 'src/app/common/verification-data';\r\nimport { isNumber } from 'util';\r\nimport { EditMode } from '../../edit.component';\r\n\r\n@Component({\r\n    selector: 'app-overall',\r\n    templateUrl: './overall.component.html',\r\n    styleUrls: [\r\n        './overall.component.scss',\r\n        '../../edit-module.scss'\r\n    ]\r\n})\r\nexport class OverallComponent implements OnInit, OnChanges, OnDestroy {\r\n\r\n    @Input() formGroup: FormGroup;\r\n    @Input() task: Overall;\r\n    @Input() index: number;\r\n    @Input() svgS: SB;\r\n    @Input() imgRef: ElementRef;\r\n    @Input() currIndex: number;\r\n    @Input() event: Observable<string>;\r\n    @Input() spacePressed: boolean;\r\n    @Input() mode: EditMode;\r\n    @Output() submitEmitter = new EventEmitter<void>();\r\n\r\n    @ViewChild('pointMark', { static: false }) pointMark: ElementRef;\r\n    @ViewChild('textScroll', { static: false }) textScrollRef: ElementRef;\r\n    @ViewChild('markScroll', { static: false }) markScrollRef: ElementRef;\r\n    @ViewChild('specScroll', { static: false }) specScrollRef: ElementRef;\r\n\r\n    @ViewChildren('markRows') markRowsRef: QueryList<ElementRef>;\r\n    @ViewChildren('textRows') textRowsRef: QueryList<ElementRef>;\r\n\r\n    // common\r\n    public auto = false;\r\n    public visited = [true, false, false];\r\n    public focusedFeedbackKey = '';\r\n    public focusedFeedback: Feedback = null;\r\n\r\n    // Stage 1\r\n    public focusedBoxIndex: string = null;\r\n    public autoIncBoxIndex = 0;\r\n    public boxes: AnnotationBox[] = [];\r\n    public marks: AnnotationBox[] = [];\r\n    public texts: AnnotationBox[] = [];\r\n    public isDrawing = false;\r\n    public isMerging = false;\r\n    public g: SB;\r\n    public boxMode: 'text' | 'mark' = 'text';\r\n    public pointRadius = 8;\r\n    public subscriptions: Subscription[] = [];\r\n\r\n    private _stage = 0;\r\n    constructor(private edit: EditService,\r\n                private fb: FormBuilder,\r\n                private fs: FeedbackService,\r\n                private changeDetector: ChangeDetectorRef) { }\r\n\r\n    ngOnInit() {\r\n        const sub1 = this.event.subscribe(key => {\r\n            this.isDrawing = false;\r\n            this.isMerging = false;\r\n            if (key === 'predict' &&\r\n                this.edit.autoCompleteSubject.getValue()[this.task.key]) {\r\n                this.task.registerControl(this.formGroup, this.fb);\r\n                this.task.applyPrediction(this.formGroup);\r\n                this.updateBoxes();\r\n                if (this.currIndex === this.index) {\r\n                    this.createEventArea();\r\n                }\r\n            }\r\n\r\n            if (key === 'review') {\r\n                this.updateBoxes();\r\n                this.createEventArea();\r\n            }\r\n\r\n            if (key === 'finish') {\r\n                this.reset();\r\n                removeEventArea(this);\r\n            }\r\n        });\r\n        this.subscriptions.push(sub1);\r\n\r\n        const sub2 = this.edit.autoCompleteSubject.asObservable()\r\n            .subscribe(map => {\r\n                this.auto = map[this.task.key];\r\n            });\r\n        this.subscriptions.push(sub2);\r\n\r\n        const sub3 = this.fs.feedbackObservable.subscribe(feedback => {\r\n            this.focusedFeedback = null;\r\n            this.focusedFeedbackKey = null;\r\n            if (feedback.taskKey === this.task.key) {\r\n                const splited = feedback.annotationKey.split('.');\r\n                switch (splited[0]) {\r\n                    case 'mark': {\r\n                        this.stage = 0;\r\n                        if (splited[1] === 'other') {\r\n                            this.focusedFeedback = feedback;\r\n                            this.focusedFeedbackKey = feedback.annotationKey;\r\n                            this.boxMode = 'mark';\r\n                            this.updateFocus(null);\r\n                        } else {\r\n                            const markIndex = +splited[1];\r\n                            const key = this.marks[markIndex].key;\r\n                            this.focusedFeedback = feedback;\r\n                            this.focusedFeedbackKey = key;\r\n                            this.updateFocus(key);\r\n                        }\r\n                        break;\r\n                    }\r\n                    case 'text': {\r\n                        this.stage = 0;\r\n                        if (splited[1] === 'other') {\r\n                            this.focusedFeedback = feedback;\r\n                            this.focusedFeedbackKey = feedback.annotationKey;\r\n                            this.boxMode = 'text';\r\n                            this.updateFocus(null);\r\n                        } else {\r\n                            const textIndex = +splited[1];\r\n                            const key = this.texts[textIndex].key;\r\n                            this.focusedFeedback = feedback;\r\n                            this.focusedFeedbackKey = key;\r\n                            this.updateFocus(key);\r\n                        }\r\n                        break;\r\n                    }\r\n                    case 'spec': {\r\n                        if (splited[splited.length - 1] === 'encoding') {\r\n                            this.stage = 2;\r\n                        } else {\r\n                            this.stage = 1;\r\n                        }\r\n                        if (splited[1] === 'other') {\r\n                            this.focusedFeedback = feedback;\r\n                            this.focusedFeedbackKey = feedback.annotationKey;\r\n                            this.updateFocus(null);\r\n                        }\r\n\r\n                        if (splited[1] === 'title') {\r\n                            this.focusedFeedback = feedback;\r\n                            this.focusedFeedbackKey = 'title';\r\n                        }\r\n                        this.changeDetector.detectChanges();\r\n                        this.updateFocus(null);\r\n                        break;\r\n                    }\r\n                    case 'raw': {\r\n                        this.stage = 2;\r\n                        this.changeDetector.detectChanges();\r\n                        this.updateFocus(null);\r\n                        break;\r\n                    }\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n        this.subscriptions.push(sub3);\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.currIndex || changes.formGroup) {\r\n            this.updateBoxes();\r\n            if (this.currIndex === this.index) {\r\n                this.createEventArea();\r\n                this.reset();\r\n            } else {\r\n                removeEventArea(this);\r\n            }\r\n        }\r\n    }\r\n\r\n    @HostListener('window:keyup', ['$event'])\r\n    onKey(event: KeyboardEvent) {\r\n\r\n        if (document.activeElement.tagName === 'INPUT') {\r\n            return;\r\n        }\r\n\r\n        if (event.key === 'Escape' && this.isMerging) {\r\n            removeMergeLine(this);\r\n        }\r\n\r\n        if (event.key === 'Escape' && this.isDrawing) {\r\n            removeTempBox(this);\r\n        }\r\n\r\n        if ((event.key === 'Delete' || event.key === 'd')\r\n            && this.focusedBoxIndex && this._stage === 0) {\r\n            this.deleteBox(this.focusedBoxIndex);\r\n        }\r\n\r\n        if (event.key === 'f' && this.focusedBoxIndex && this._stage === 0) {\r\n            this.sortDrawOrder(this.focusedBoxIndex);\r\n        }\r\n\r\n        if (event.key === 'b' && this.focusedBoxIndex && this._stage === 0) {\r\n            this.sortDrawOrder(this.focusedBoxIndex, false);\r\n        }\r\n    }\r\n\r\n    reset() {\r\n        this._stage = 0;\r\n        this.visited = [true, false, false];\r\n        this.autoIncBoxIndex = d3.max(this.boxes.map(box => +box.key)) || 0;\r\n        this.focusedBoxIndex = null;\r\n        this.boxMode = 'text';\r\n    }\r\n\r\n    deleteBox(boxIndex: string) {\r\n        this.g.select(`.rect-${boxIndex}`).remove();\r\n        this.g.selectAll(`.circle-${boxIndex}`).remove();\r\n        this.task.deleteBox(this.formGroup, boxIndex);\r\n        if (boxIndex === this.focusedBoxIndex) {\r\n            this.focusedBoxIndex = null;\r\n        }\r\n        this.updateBoxes();\r\n    }\r\n\r\n    inputKeyPress(event: KeyboardEvent) {\r\n        if (event.key === 'Enter') {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n        }\r\n    }\r\n\r\n    onBlurEvent(box: AnnotationBox) {\r\n        if (this.focusedBoxIndex !== box.key) {\r\n            this.updateFocus(box.key);\r\n        }\r\n    }\r\n\r\n    removeBox(boxIndex: string) {\r\n        this.g.select(`.rect-${boxIndex}`).remove();\r\n        this.g.selectAll(`.circle-${boxIndex}`).remove();\r\n        this.task.deleteBox(this.formGroup, boxIndex);\r\n        this.focusedBoxIndex = null;\r\n    }\r\n\r\n    private createEventArea() {\r\n        removeEventArea(this);\r\n        createEventArea(this, true, this.task.inputType);\r\n        this.svgS.on('contextmenu', () => {\r\n            if (this.isMerging) {\r\n                removeMergeLine(this);\r\n                d3.event.preventDefault();\r\n            } else if (this.task.inputType === 'rect'\r\n                && this.boxMode === 'mark') {\r\n                drawBoxBySelectedPixel(this);\r\n            }\r\n\r\n            d3.event.preventDefault();\r\n            d3.event.stopPropagation();\r\n            return false;\r\n        });\r\n    }\r\n\r\n    onLabelChange() {\r\n        this.updateBoxes();\r\n        this.updateFocus(this.focusedBoxIndex);\r\n    }\r\n\r\n    addRectEvent(boxIndex: string, rectS: SB, circleS: SA) {\r\n        addRectDragEvent(this, boxIndex, rectS, circleS);\r\n        if (this.boxes.find(d => d.key === boxIndex).isText) {\r\n            addMergeEvent(this, boxIndex, rectS);\r\n        }\r\n    }\r\n\r\n    writeForm(boxIndex: string, x: number, y: number, width: number, height: number) {\r\n        const imgElem = this.imgRef.nativeElement;\r\n        const clamp = (value: number, min: number, max: number) => {\r\n            return Math.min(max, Math.max(min, value));\r\n        };\r\n        const raw: BoxData = {\r\n            key: boxIndex,\r\n            x0: clamp(x - 10, 0, imgElem.width) / imgElem.width,\r\n            y0: clamp(y - 10, 0, imgElem.height) / imgElem.height,\r\n            x1: clamp((x + width) - 10, 0, imgElem.width) / imgElem.width,\r\n            y1: clamp((y + height) - 10, 0, imgElem.height) / imgElem.height,\r\n            text: this.boxMode === 'mark' ? undefined : ''\r\n        };\r\n        const addNewBox = !this.formGroup\r\n            .get(this.task.key)\r\n            .get('boxes')\r\n            .get(raw.key);\r\n\r\n        this.task.updateBox(this.formGroup, raw);\r\n        if (addNewBox) {\r\n            this.updateBoxes();\r\n        }\r\n    }\r\n\r\n    updateFocus(boxIndex: string) {\r\n\r\n        this.g.selectAll('rect').classed('focused', false);\r\n        this.g.selectAll('circle').classed('focused', false);\r\n        this.g.select(`.rect-${boxIndex}`).classed('focused', true);\r\n        this.g.selectAll(`.circle-${boxIndex}`).classed('focused', true);\r\n        this.focusedBoxIndex = boxIndex;\r\n        const box = this.boxes.find(d => d.key === this.focusedBoxIndex);\r\n        if (!box) {\r\n            return;\r\n        }\r\n        if (box.isText) {\r\n            this.boxMode = 'text';\r\n        } else {\r\n            this.boxMode = 'mark';\r\n        }\r\n        this.changeDetector.detectChanges();\r\n        if (this.markScrollRef) {\r\n            const el = this.markScrollRef.nativeElement as HTMLDivElement;\r\n            const elRect = el.getBoundingClientRect();\r\n            const focusedDiv = d3.select(el).select(`.elem-${boxIndex}`).node() as HTMLDivElement;\r\n            if (focusedDiv) {\r\n                const focusedRect = focusedDiv.getBoundingClientRect();\r\n                if (focusedRect.top > elRect.bottom - 50\r\n                    || focusedRect.bottom < elRect.top + 50) {\r\n                    el.scroll({top: focusedDiv.offsetTop - 150});\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.textScrollRef) {\r\n            const el = this.textScrollRef.nativeElement as HTMLDivElement;\r\n            const elRect = el.getBoundingClientRect();\r\n            const rowHeight = 38;\r\n            const headerHeight = 33;\r\n            const findIndex = this.boxes\r\n                .filter(d => d.isText)\r\n                .findIndex(d => d.key === this.focusedBoxIndex);\r\n            const focusedBottom = rowHeight * (findIndex + 1);\r\n            const focusedTop = rowHeight * findIndex;\r\n            const elRange = [\r\n                el.scrollTop - headerHeight - 10,\r\n                elRect.bottom - elRect.top + el.scrollTop - headerHeight + 10\r\n            ];\r\n\r\n            if (focusedBottom >= elRange[1] || focusedTop <= elRange[0]) {\r\n                el.scroll({top: focusedTop});\r\n            }\r\n        }\r\n    }\r\n\r\n    updateBoxes() {\r\n        const formGroup = this.formGroup\r\n            .get(this.task.key).get('boxes') as FormGroup;\r\n        this.boxes = Object\r\n            .entries(formGroup.controls)\r\n            .map(entry => {\r\n                const [key, value] = entry;\r\n                return new AnnotationBox(key, value as FormGroup);\r\n            })\r\n            .sort(boxComparator);\r\n\r\n        this.marks = this.boxes.filter(d => !d.isText);\r\n        this.texts = this.boxes.filter(d => d.isText);\r\n    }\r\n\r\n    clearBoxes() {\r\n        const deletedBoxIndices = this.boxes.filter(d => {\r\n            return this.boxMode === 'mark'\r\n                ? d.text === null\r\n                : d.text !== null;\r\n        })\r\n        .map(d => d.key);\r\n        deletedBoxIndices.forEach(boxIndex => {\r\n            this.g.select(`.rect-${boxIndex}`).remove();\r\n            this.g.selectAll(`.circle-${boxIndex}`).remove();\r\n            this.task.deleteBox(this.formGroup, boxIndex);\r\n        });\r\n        this.updateBoxes();\r\n    }\r\n\r\n    box(boxIndex: string): FormGroup {\r\n        return this.formGroup.get(this.task.key).get('boxes').get(boxIndex) as FormGroup;\r\n    }\r\n\r\n    onBoxModeChange(event: MatButtonToggleChange) {\r\n        this.boxMode = event.value;\r\n    }\r\n\r\n    onChangeTitleSpec(event: Event) {\r\n        const value = (event.target as HTMLInputElement).value;\r\n        const titleBox = this.boxes.find(d => d.label.value === KEY_TITLE);\r\n        if (titleBox) {\r\n            titleBox.text.setValue(value);\r\n        }\r\n    }\r\n\r\n    predictStage2() {\r\n        (this.formGroup.get(this.task.key) as FormGroup)\r\n            .setControl('spec', this.task.getDefaultSpecForm(this.fb));\r\n        this.detectAxes();\r\n        this.mapBoxToTitle();\r\n        this.mapBoxesToLegend();\r\n        if (!this.hasLegend && !this.hasXAxis && !this.hasYAxis) {\r\n            this.addCustomColumn(true);\r\n        }\r\n    }\r\n\r\n    goNextStage() {\r\n        if (this._stage === 0 && !this.visited[1] && this.mode === 'annotation') {\r\n            this.predictStage2();\r\n        }\r\n        this.stage = Math.min(2, this._stage + 1);\r\n    }\r\n\r\n    goPrevStage() {\r\n        this.stage = Math.max(0, this._stage - 1);\r\n    }\r\n\r\n    refresh(index: number) {\r\n        switch (index) {\r\n            case 1:\r\n                this.predictStage2();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    addAxis(dir = 'x', title = '', type = 'nominal', labels = [],\r\n            pre = 0, valuePerPixel = 0) {\r\n        const formGroup = this.formGroup.get(this.task.key)\r\n            .get('spec').get('axis') as FormArray;\r\n\r\n        let unit = pre <= 0 ? 'integer' : 'decimal';\r\n        if (type === 'nominal') {\r\n            unit = '';\r\n        }\r\n        const newGroup = this.fb.group({\r\n            dir: this.fb.control(dir),\r\n            title: this.fb.control(title),\r\n            type: this.fb.control(type),\r\n            labels: this.fb.array(labels),\r\n            precision: this.fb.control(pre),\r\n            unit: this.fb.control(unit),\r\n            labeled: this.fb.control(false),\r\n            markLabels: this.fb.array([]),\r\n            valuePerPixel: this.fb.control(valuePerPixel),\r\n        });\r\n        formGroup.push(newGroup);\r\n    }\r\n\r\n    addCustomColumn(labeled = false) {\r\n        const formGroup = this.formGroup.get(this.task.key)\r\n            .get('spec').get('custom') as FormArray;\r\n\r\n        const newGroup = this.fb.group({\r\n            title: this.fb.control(`Unknown column${formGroup.length + 1}`),\r\n            type: this.fb.control('nominal'),\r\n            labeled: this.fb.control(labeled),\r\n            markLabels: this.fb.array([]),\r\n            unit: this.fb.control('integer'),\r\n        });\r\n        formGroup.push(newGroup);\r\n    }\r\n\r\n    deleteCustomColumn(index: number) {\r\n        this.customGroups.splice(index, 1);\r\n    }\r\n\r\n    private detectAxes() {\r\n        const axesGroup = (this.formGroup.get(this.task.key)\r\n            .get('spec').get('axis') as FormArray);\r\n\r\n        while (axesGroup.length) {\r\n            axesGroup.removeAt(0);\r\n        }\r\n\r\n        const { width, height } = this.imgRef.nativeElement as HTMLImageElement;\r\n        const getPrecision = (v: string) => {\r\n            const splited = v.split('.');\r\n            if (splited.length === 2) {\r\n                return splited[1].length;\r\n            }\r\n            const vs = splited[0];\r\n            for (let i = vs.length - 1; i >= 0; i--) {\r\n\r\n                if (vs.charAt(i) !== '0') {\r\n                    return i - vs.length + 1;\r\n                }\r\n            }\r\n            return 0;\r\n        };\r\n\r\n        const interpret = (axis: AnnotationBox[], dir: 'x' | 'y', title: string) => {\r\n            if (isNumberTexts(axis)) {\r\n                const axisValues = axis.map(d => {\r\n                    return {\r\n                        value: +d.text.value.replace(NUM_REG, ''),\r\n                        center: d.center\r\n                    };\r\n                }).sort((a, b) => a.value - b.value);\r\n                const pre = d3.max(axisValues.filter(d => d.value !== 0), d => getPrecision(d.value.toString())) + 1;\r\n                const valuesPerPixel: number[] = [];\r\n                for (let i = 0; i < axisValues.length - 1; i++) {\r\n                    const curr = axisValues[i];\r\n                    const next = axisValues[i + 1];\r\n                    const interval = Math.abs(dir === 'x'\r\n                        ? (curr.center[0] - next.center[0]) * width\r\n                        : (curr.center[1] - next.center[1]) * height);\r\n                    valuesPerPixel.push((+next.value - +curr.value) / interval);\r\n                }\r\n                const valuePerPixel = +d3.mean(valuesPerPixel);\r\n                const labels = this.boxes.filter(d => d.label.value === `${dir}-axis-label`).map(d => d.text.value);\r\n                this.addAxis(dir, title, 'quantitative', labels, pre, valuePerPixel);\r\n            } else {\r\n                const labels = this.boxes.filter(d => d.label.value === `${dir}-axis-label`).map(d => d.text.value);\r\n                this.addAxis(dir, title, 'nominal', labels);\r\n            }\r\n        };\r\n\r\n        const detectAxis = (dir: 'x' | 'y') => {\r\n\r\n            const axis = this.boxes.filter(d => d.label.value === `${dir}-axis-label`);\r\n            let title = `Unknown ${dir.toUpperCase()} Axis`;\r\n            const axisTitleBox = this.boxes.find(d => d.label.value === `${dir}-axis-title`);\r\n            if (axisTitleBox !== undefined) {\r\n                title = axisTitleBox.text.value;\r\n            }\r\n\r\n            if (axis.length > 0) {\r\n                interpret(axis, dir, title);\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        };\r\n\r\n        detectAxis('x');\r\n        detectAxis('y');\r\n        if (this.hasXAxis || this.hasYAxis) {\r\n            this.mapMarkLabelToAxis();\r\n        }\r\n    }\r\n\r\n    onCheckBoxRegression(change: MatCheckboxChange) {\r\n        if (change.checked) {\r\n            regressBoxesByColor(this);\r\n        }\r\n    }\r\n\r\n    onPointSizeChange(change: MatSliderChange) {\r\n        const pointSymbol = this.pointMark.nativeElement as SVGCircleElement;\r\n        const r = change.value;\r\n        d3.select(pointSymbol).attr('r', r);\r\n        this.boxes.filter(box => box.text === null).forEach(mark => {\r\n            const boxIndex = mark.key;\r\n            const sel = this.g.select(`.rect-${boxIndex}`);\r\n            sel.attr('r', r);\r\n            const x = +sel.attr('cx');\r\n            const y = +sel.attr('cy');\r\n            this.writeForm(boxIndex, x - r, y - r, 2 * r, 2 * r);\r\n        });\r\n        this.updateBoxes();\r\n    }\r\n\r\n    private mapBoxToTitle() {\r\n        const titleBox = this.boxes.find(d => d.label.value === KEY_TITLE);\r\n        const titleControl = this.formGroup.get(this.task.key)\r\n            .get('spec.title');\r\n        if (titleBox !== undefined) {\r\n            titleControl.setValue(titleBox.text.value);\r\n        } else if (titleControl.value === '') {\r\n            titleControl.setValue('Unknown Title');\r\n        }\r\n    }\r\n\r\n    private mapBoxesToLegend(): boolean {\r\n        const titleBox = this.boxes.find(d => d.label.value === KEY_LEGEND_TITLE);\r\n        const legendBoxes = this.boxes.filter(d => d.label.value === KEY_LEGEND_LABEL);\r\n        if (legendBoxes.length === 0) {\r\n            return false;\r\n        }\r\n        const group = Overall.legendDefaultForm(this.fb);\r\n        group.get('title').setValue(titleBox ? titleBox.text.value : 'Unknown Legend');\r\n        legendBoxes.map(d => d.text.value).forEach(legend => {\r\n            (group.get('labels') as FormArray).push(this.fb.control(legend));\r\n        });\r\n        this.specGroup.setControl('legend', group);\r\n        return true;\r\n    }\r\n\r\n    private mapMarkLabelToAxis() {\r\n        const markLabelBoxes = this.boxes.filter(d => {\r\n            return d.isText && d.label.value === KEY_MARK_LABEL;\r\n        });\r\n\r\n        const markLabelType = isNumberTexts(markLabelBoxes)\r\n            ? 'quantitative'\r\n            : 'nominal';\r\n        const axesGroup = this.specGroup.get('axis') as FormArray;\r\n        axesGroup.controls.forEach((group: FormGroup) => {\r\n            if ((group.get('type').value as string) === markLabelType) {\r\n                if (markLabelType === 'quantitative') {\r\n                    const values = (group.get('labels') as FormArray)\r\n                        .controls.map(d => {\r\n                            return +d.value.replace(NUM_REG, '');\r\n                        });\r\n                    const extent = d3.extent(values);\r\n                    const numIncludedValues = markLabelBoxes\r\n                        .map(d => +d.text.value.replace(NUM_REG, ''))\r\n                        .map(d => d >= extent[0] && d <= extent[1] ? 1 : 0)\r\n                        .reduce((acc, curr) => acc + curr, 0);\r\n                    const labeled = numIncludedValues > 0.5 * markLabelBoxes.length;\r\n                    group.get('labeled').setValue(labeled);\r\n                    const markLabelsForm = group.get('markLabels') as FormArray;\r\n                    markLabelBoxes.forEach(box => {\r\n                        markLabelsForm.push(this.fb.control(box.text.value));\r\n                    });\r\n                } else {\r\n                    const axisLabels = group.get('labels').value as string[];\r\n                    const allIncluded = markLabelBoxes.every(d => {\r\n                        return axisLabels.includes(d.text.value);\r\n                    });\r\n                    group.get('labeled').setValue(allIncluded);\r\n                    const markLabelsForm = group.get('markLabels') as FormArray;\r\n                    markLabelBoxes.forEach(box => {\r\n                        markLabelsForm.push(this.fb.control(box.text.value));\r\n                    });\r\n                }\r\n            } else {\r\n                group.addControl('labeled', this.fb.control(false));\r\n            }\r\n        });\r\n    }\r\n\r\n    private sortDrawOrder(boxIndex: string, forward = true) {\r\n        if (forward) {\r\n            this.g.select(`.rect-${boxIndex}`).raise();\r\n            this.g.selectAll(`.circle-${boxIndex}`).raise();\r\n        } else {\r\n            this.g.select(`.rect-${boxIndex}`).lower();\r\n            this.g.selectAll(`.circle-${boxIndex}`).lower();\r\n        }\r\n    }\r\n\r\n    onSubmitReady() {\r\n        if (this.index === Object.keys(this.formGroup.value).length - 1) {\r\n            this.submitEmitter.emit();\r\n        }\r\n    }\r\n\r\n    onSpecScroll(top: number) {\r\n        const scrollEl = this.specScrollRef.nativeElement as HTMLElement;\r\n        this.specScrollRef.nativeElement.scroll({\r\n            top: top - 500 + scrollEl.scrollTop\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscriptions.forEach(sub => {\r\n            sub.unsubscribe();\r\n        })\r\n    }\r\n\r\n    get specGroup(): FormGroup {\r\n        return this.formGroup.get(this.task.key).get('spec') as FormGroup;\r\n    }\r\n\r\n    get axesGroup(): FormGroup[] {\r\n        return (this.formGroup.get(this.task.key)\r\n            .get('spec').get('axis') as FormArray).controls as FormGroup[];\r\n    }\r\n\r\n    get customGroups(): FormGroup[] {\r\n        return (this.specGroup.get('custom') as FormArray)\r\n            .controls as FormGroup[];\r\n    }\r\n\r\n    get legendGroup(): FormGroup {\r\n        return (this.formGroup.get(this.task.key)\r\n            .get('spec').get('legend') as FormGroup);\r\n    }\r\n\r\n    get hasLegend(): boolean {\r\n        return this.specGroup.contains('legend');\r\n    }\r\n\r\n    get hasXAxis(): boolean {\r\n        return this.axesGroup.some(form => form.get('dir').value === 'x');\r\n    }\r\n\r\n    get hasYAxis(): boolean {\r\n        return this.axesGroup.some(form => form.get('dir').value === 'y');\r\n    }\r\n\r\n    get stage() {\r\n        return this._stage;\r\n    }\r\n\r\n    set stage(value: number) {\r\n        this._stage = value;\r\n        this.visited[value] = true;\r\n    }\r\n}\r\n","export default \"mat-form-field {\\n  font-size: 0.9rem;\\n}\\n\\n.raw-table {\\n  max-height: 500px;\\n  overflow: scroll;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n}\\n\\n.raw-table .column {\\n  width: 200px !important;\\n  min-width: 200px !important;\\n  position: relative;\\n}\\n\\n.raw-table .index-cell {\\n  width: 80px !important;\\n  min-width: 80px !important;\\n  text-align: center;\\n}\\n\\n.raw-table .content-cell input, .raw-table .content-cell select {\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgba(0, 0, 0, 0);\\n  border-bottom: 1px solid #CBCBCB;\\n  border-width: 1px 1px 1px 1px;\\n}\\n\\n.raw-table .column-title {\\n  font-size: 1.1rem;\\n  color: #777;\\n  text-align: center;\\n}\\n\\n.raw-table .patch {\\n  position: absolute;\\n  top: 5px;\\n  right: 30px;\\n  width: 15px;\\n  height: 15px;\\n}\\n\\n.raw-table .patch rect {\\n  width: 15px;\\n  height: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9hbm5vdGF0aW9uLW1vZHVsZS9vdmVyYWxsL3Jhdy10YWJsZS9DOlxcVXNlcnNcXGp1bmhvZVxcSENJTFxcZGV2XFxBdXRvdGF0b3JcXGNsaWVudC9zcmNcXGFwcFxcZWRpdFxcYW5ub3RhdGlvbi1tb2R1bGVcXG92ZXJhbGxcXHJhdy10YWJsZVxccmF3LXRhYmxlLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9lZGl0L2Fubm90YXRpb24tbW9kdWxlL292ZXJhbGwvcmF3LXRhYmxlL3Jhdy10YWJsZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0EsNEJBQUE7RUFBQSw2QkFBQTtVQUFBLHNCQUFBO0FDQ0o7O0FEQ0k7RUFDSSx1QkFBQTtFQUNBLDJCQUFBO0VBQ0Esa0JBQUE7QUNDUjs7QURFSTtFQUNJLHNCQUFBO0VBQ0EsMEJBQUE7RUFDQSxrQkFBQTtBQ0FSOztBRElRO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxrQ0FBQTtFQUNBLGdDQUFBO0VBQ0EsNkJBQUE7QUNGWjs7QURNSTtFQUNJLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FDSlI7O0FET0k7RUFDSSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUNMUjs7QURPUTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FDTFoiLCJmaWxlIjoic3JjL2FwcC9lZGl0L2Fubm90YXRpb24tbW9kdWxlL292ZXJhbGwvcmF3LXRhYmxlL3Jhdy10YWJsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIm1hdC1mb3JtLWZpZWxkIHtcclxuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xyXG59XHJcblxyXG4ucmF3LXRhYmxlIHtcclxuICAgIG1heC1oZWlnaHQ6IDUwMHB4O1xyXG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAgIC5jb2x1bW4ge1xyXG4gICAgICAgIHdpZHRoOiAyMDBweCAhaW1wb3J0YW50O1xyXG4gICAgICAgIG1pbi13aWR0aDogMjAwcHggIWltcG9ydGFudDtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB9XHJcblxyXG4gICAgLmluZGV4LWNlbGwge1xyXG4gICAgICAgIHdpZHRoOiA4MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgbWluLXdpZHRoOiA4MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgfVxyXG5cclxuICAgIC5jb250ZW50LWNlbGwge1xyXG4gICAgICAgIGlucHV0LCBzZWxlY3Qge1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI0NCQ0JDQjtcclxuICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAxcHggMXB4IDFweCAxcHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5jb2x1bW4tdGl0bGUge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMS4xcmVtO1xyXG4gICAgICAgIGNvbG9yOiAjNzc3O1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICAucGF0Y2gge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDVweDtcclxuICAgICAgICByaWdodDogMzBweDtcclxuICAgICAgICB3aWR0aDogMTVweDtcclxuICAgICAgICBoZWlnaHQ6IDE1cHg7XHJcblxyXG4gICAgICAgIHJlY3Qge1xyXG4gICAgICAgICAgICB3aWR0aDogMTVweDtcclxuICAgICAgICAgICAgaGVpZ2h0OiAxNXB4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJtYXQtZm9ybS1maWVsZCB7XG4gIGZvbnQtc2l6ZTogMC45cmVtO1xufVxuXG4ucmF3LXRhYmxlIHtcbiAgbWF4LWhlaWdodDogNTAwcHg7XG4gIG92ZXJmbG93OiBzY3JvbGw7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG4ucmF3LXRhYmxlIC5jb2x1bW4ge1xuICB3aWR0aDogMjAwcHggIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiAyMDBweCAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4ucmF3LXRhYmxlIC5pbmRleC1jZWxsIHtcbiAgd2lkdGg6IDgwcHggIWltcG9ydGFudDtcbiAgbWluLXdpZHRoOiA4MHB4ICFpbXBvcnRhbnQ7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5yYXctdGFibGUgLmNvbnRlbnQtY2VsbCBpbnB1dCwgLnJhdy10YWJsZSAuY29udGVudC1jZWxsIHNlbGVjdCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjQ0JDQkNCO1xuICBib3JkZXItd2lkdGg6IDFweCAxcHggMXB4IDFweDtcbn1cbi5yYXctdGFibGUgLmNvbHVtbi10aXRsZSB7XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xuICBjb2xvcjogIzc3NztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLnJhdy10YWJsZSAucGF0Y2gge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNXB4O1xuICByaWdodDogMzBweDtcbiAgd2lkdGg6IDE1cHg7XG4gIGhlaWdodDogMTVweDtcbn1cbi5yYXctdGFibGUgLnBhdGNoIHJlY3Qge1xuICB3aWR0aDogMTVweDtcbiAgaGVpZ2h0OiAxNXB4O1xufSJdfQ== */\"","import { Component, OnInit, Input, Output, EventEmitter,\r\n    ElementRef, Inject, SimpleChanges, ViewChild, OnChanges, AfterViewInit, OnDestroy } from '@angular/core';\r\nimport { FormGroup, FormArray, FormControl, FormBuilder, AbstractControl } from '@angular/forms';\r\nimport { AnnotationBox } from '../../annotation-util';\r\nimport { KEY_X_AXIS_LABEL, KEY_Y_AXIS_LABEL, KEY_MARK_LABEL, Overall } from 'src/app/common/task';\r\n\r\nimport * as d3 from 'd3';\r\nimport { MAT_DIALOG_DATA, MatDialogRef, MatDialog, MatChipInputEvent } from '@angular/material';\r\nimport { COMMA, ENTER, TAB } from '@angular/cdk/keycodes';\r\nimport { getMinIndex, rgb2Hex, getMinElem } from 'src/app/d3-utils';\r\nimport { PredictionService } from 'src/app/prediction.service';\r\nimport { EditService } from 'src/app/edit.service';\r\nimport { FeedbackService } from 'src/app/edit/common/feedback.service';\r\nimport { Feedback } from 'src/app/common/verification-data';\r\nimport { Subscription } from 'rxjs';\r\nimport { EditMode } from 'src/app/edit/edit.component';\r\n\r\ninterface RawColumn {\r\n    path: string;\r\n    title: string;\r\n    labels?: string[];\r\n    encoding?: AbstractControl;\r\n}\r\n\r\ninterface RawRow {\r\n    group: FormGroup;\r\n    markKey?: string;\r\n    attrs: { [key: string]: string | number[][] };\r\n    clusterLabels: { [key: string]: number };\r\n}\r\n\r\n@Component({\r\n    selector: 'app-column-addition-dialog',\r\n    templateUrl: './column-addition-dialog.html'\r\n})\r\nexport class ColumnAdditionDialogComponent {\r\n\r\n    public readonly separatorKeyCodes: number[] = [ENTER, COMMA, TAB];\r\n\r\n    constructor(\r\n        public dialogRef: MatDialogRef<ColumnAdditionDialogComponent>,\r\n        @Inject(MAT_DIALOG_DATA) public column: RawColumn) { }\r\n\r\n    onNoClick(): void {\r\n        this.dialogRef.close();\r\n    }\r\n\r\n    add(event: MatChipInputEvent) {\r\n        const input = event.input;\r\n        const value = event.value;\r\n\r\n        if ((value || '').trim()) {\r\n            this.column.labels.push(value);\r\n        }\r\n\r\n        if (input) {\r\n            input.value = '';\r\n        }\r\n    }\r\n\r\n    remove(label: string) {\r\n        const index = this.column.labels.indexOf(label);\r\n        this.column.labels.splice(index, 1);\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'app-raw-table',\r\n    templateUrl: './raw-table.component.html',\r\n    styleUrls: [\r\n        './raw-table.component.scss',\r\n        '../../../edit-module.scss',\r\n        '../overall.component.scss'\r\n    ]\r\n})\r\nexport class RawTableComponent implements OnInit, OnChanges, AfterViewInit, OnDestroy {\r\n\r\n    @Input() imgRef: ElementRef;\r\n    @Input() formGroup: FormGroup;\r\n    @Input() task: Overall;\r\n    @Input() hasLegend: boolean;\r\n    @Input() boxes: AnnotationBox[];\r\n    @Input() focusedBoxIndex: number;\r\n    @Input() inputType: 'rect' | 'point';\r\n    @Input() pointRadius: number;\r\n    @Input() auto: boolean;\r\n    @Input() mode: EditMode;\r\n    @Output() focusEmitter = new EventEmitter<string>();\r\n    @Output() submitEmitter = new EventEmitter<void>();\r\n\r\n    @ViewChild('table', { static: true }) tableRef: ElementRef;\r\n\r\n    public columns: RawColumn[] = [];\r\n    public rawGroup: FormArray;\r\n    public marks: AnnotationBox[] = [];\r\n    public rows: RawRow[] = [];\r\n    public allChannelsEncoded = false;\r\n    public focusedFeedbackKey = '';\r\n    public focusedFeedback: Feedback;\r\n\r\n    public sub: Subscription;\r\n\r\n    private re = /[m|mm|km|s|g|kg|K|M|%|$|,]/g;\r\n    constructor(\r\n        private fb: FormBuilder,\r\n        private dialog: MatDialog,\r\n        private edit: EditService,\r\n        private predictService: PredictionService,\r\n        private fs: FeedbackService) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        const specGroup = this.formGroup.get('spec') as FormGroup;\r\n        (specGroup.get('axis') as FormArray).controls\r\n            .forEach((group: FormGroup, i: number) => {\r\n                const column: RawColumn = {\r\n                    title: group.get('title').value,\r\n                    path: `axis.${i}`\r\n                };\r\n\r\n                const targetGroup = this.fromPath(specGroup, column.path);\r\n                column.encoding = targetGroup.get('encoding');\r\n\r\n                if (group.get('type').value === 'nominal') {\r\n                    column['labels'] = group.get('labels').value;\r\n                }\r\n                this.columns.push(column);\r\n            });\r\n\r\n        (specGroup.get('custom') as FormArray).controls\r\n            .forEach((group: FormGroup, i: number) => {\r\n                const column: RawColumn = {\r\n                    title: group.get('title').value,\r\n                    path: `custom.${i}`\r\n                };\r\n                const targetGroup = this.fromPath(specGroup, column.path);\r\n                column.encoding = targetGroup.get('encoding');\r\n\r\n                if (group.get('type').value === 'nominal') {\r\n                    column['labels'] = group.get('markLabels').value;\r\n                }\r\n\r\n                this.columns.push(column);\r\n            });\r\n\r\n        if (this.hasLegend) {\r\n            const column: RawColumn = {\r\n                title: specGroup.get('legend.title').value,\r\n                path: 'legend',\r\n                labels: specGroup.get('legend.labels').value\r\n            };\r\n\r\n            const group = specGroup.get(column.path) as FormGroup;\r\n            if (group.contains('encoding')) {\r\n                column.encoding = group.get('encoding');\r\n            }\r\n            column['labels'] = group.get('labels').value;\r\n            this.columns.push(column);\r\n        }\r\n\r\n        this.marks = this.boxes.filter(d => d.text === null);\r\n        this.rawGroup = this.formGroup.get('raw') as FormArray;\r\n\r\n        this.sub = this.fs.feedbackObservable.subscribe(feedback => {\r\n            this.focusedFeedbackKey = '';\r\n            this.focusedFeedback = null;\r\n            if (feedback.taskKey !== this.task.key) {\r\n                return;\r\n            }\r\n            const splited = feedback.annotationKey.split('.');\r\n            const lastKey: 'encoding' | string = splited[splited.length - 1];\r\n            if (lastKey === 'encoding') {\r\n                this.focusedFeedback = feedback;\r\n                this.focusedFeedbackKey = splited\r\n                    .slice(1, splited.length - 1)\r\n                    .join('.');\r\n            } else if (splited[0] === 'raw') {\r\n                this.focusedFeedback = feedback;\r\n                if (splited[1] === 'other') {\r\n                    this.focusedFeedbackKey = 'other';\r\n                } else {\r\n                    this.focusedFeedbackKey = this.marks[+splited[1]].key;\r\n                }\r\n                setTimeout(() => {\r\n                    this.focusEmitter.emit(this.focusedFeedbackKey);\r\n                }, 0);\r\n            } else {\r\n                return;\r\n            }\r\n        });\r\n\r\n        this.checkEncodedChannels();\r\n        this.initTable();\r\n        if (this.allChannelsEncoded && this.mode === 'revision') {\r\n            this.submitEmitter.emit();\r\n        }\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.focusedBoxIndex && this.tableRef) {\r\n            const tableEl = this.tableRef.nativeElement as HTMLDivElement;\r\n            const tableRect = tableEl.getBoundingClientRect();\r\n            const divIndex = this.rows\r\n                .findIndex(d => d.markKey === changes.focusedBoxIndex.currentValue);\r\n\r\n            if (divIndex !== -1) {\r\n                const focusedDiv = d3.select(tableEl)\r\n                    .selectAll('.focus-box').nodes()[divIndex] as HTMLDivElement;\r\n                if (focusedDiv) {\r\n                    const focusedRect = focusedDiv.getBoundingClientRect();\r\n                    if (focusedRect.top > tableRect.bottom\r\n                        || focusedRect.bottom < tableRect.top) {\r\n                        tableEl.scroll({top: focusedDiv.offsetTop - 100});\r\n                        }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n\r\n    }\r\n\r\n    onSelectEncoding(event: Event, column: RawColumn) {\r\n        const target = event.target as HTMLSelectElement;\r\n        const targetGroup = this.fromPath(this.formGroup.get('spec'), column.path);\r\n        console.log(this.rows.map(d => d.group.value));\r\n        this.rows.forEach(row => {\r\n            row.attrs[column.title] = undefined;\r\n            row.clusterLabels[column.title] = undefined;\r\n            if (row.group.contains(column.title)) {\r\n                row.group.get(column.title).setValue('');\r\n            }\r\n        });\r\n\r\n        if (!targetGroup.contains('encoding')) {\r\n            targetGroup.addControl('encoding', new FormControl(target.value));\r\n            column.encoding = targetGroup.get('encoding');\r\n        } else {\r\n            targetGroup.get('encoding').setValue(target.value);\r\n            column.encoding = targetGroup.get('encoding');\r\n        }\r\n        this.checkEncodedChannels();\r\n\r\n    }\r\n\r\n    async checkEncodedChannels() {\r\n        this.allChannelsEncoded = this.columns.every(column => {\r\n            const targetGroup = this.fromPath(this.formGroup.get('spec'), column.path);\r\n            return targetGroup.contains('encoding');\r\n        });\r\n\r\n        if (this.allChannelsEncoded) {\r\n            for (const column of this.columns) {\r\n                const encoding = column.encoding.value;\r\n                switch (encoding) {\r\n                    case 'color':\r\n                        this.clusterMarksByColor(column);\r\n                        break;\r\n                    case 'shape':\r\n                        this.clusterMarksByShape(column);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private async clusterMarksByColor(column: RawColumn) {\r\n        const path = this.edit.image.path;\r\n        if (!column.labels || column.labels.length === 0) {\r\n            return;\r\n        }\r\n        const k = column.labels.length;\r\n        const boxes = this.marks.map(d => d.pointValues);\r\n        const formData = new FormData();\r\n        const { centers, labels } = await this.predictService\r\n            .clusterMarks({ encoding: 'color', path, k, boxes });\r\n\r\n        this.marks.forEach((mark, i) => {\r\n            const row = this.rows.find(d => d.markKey === mark.key);\r\n            const label = labels[i];\r\n            row.attrs[column.title] = rgb2Hex(centers[label]);\r\n            row.clusterLabels[column.title] = label;\r\n        });\r\n    }\r\n\r\n    private async clusterMarksByShape(column: RawColumn) {\r\n        const path = this.edit.image.path;\r\n        const k = column.labels.length;\r\n        const boxes = this.marks.map(d => d.pointValues);\r\n        const { centerPatches, labels } = await this.predictService\r\n            .clusterMarks({ encoding: 'shape', path, k, boxes });\r\n\r\n        this.marks.forEach((mark, i) => {\r\n            const row = this.rows.find(d => d.markKey === mark.key);\r\n            const label = labels[i];\r\n            row.attrs[column.title] = centerPatches[label];\r\n            row.clusterLabels[column.title] = label;\r\n        });\r\n    }\r\n\r\n    onChangeLabel(column: RawColumn, row: RawRow, i: number) {\r\n        const key = column.title;\r\n        const changedValue = row.group.get(key).value;\r\n        const targetRow = this.rows\r\n            .find((d, j) => d.group.get(key).value === changedValue && i !== j);\r\n        if (targetRow) {\r\n            row.attrs[key] = targetRow.attrs[key];\r\n            row.clusterLabels[key] = targetRow.clusterLabels[key];\r\n        }\r\n        this.rows[i] = row;\r\n    }\r\n\r\n    runPrediction() {\r\n        this.columns.forEach(column => {\r\n            const targetGroup = this.fromPath(this.formGroup.get('spec'), column.path);\r\n            if (!targetGroup.contains('encoding')) {\r\n                return;\r\n            }\r\n            this.predict(column, targetGroup.get('encoding').value);\r\n            if (targetGroup.contains('labeled')\r\n                && targetGroup.get('labeled').value) {\r\n                this.assignMarkLabels(targetGroup, column);\r\n            }\r\n        });\r\n\r\n        const colorEncodingIndex = this.columns.findIndex(column => {\r\n            const targetGroup = this.fromPath(this.formGroup.get('spec'), column.path);\r\n            return targetGroup.contains('encoding')\r\n                && targetGroup.get('encoding').value === 'color';\r\n        });\r\n\r\n        if (colorEncodingIndex !== -1) {\r\n            const title = this.columns[colorEncodingIndex].title;\r\n            this.rows = this.rows.sort((a, b) => {\r\n                const aValue = a.group.get(title).value as string;\r\n                const bValue = b.group.get(title).value as string;\r\n                return aValue.toLowerCase()\r\n                    .localeCompare(bValue.toLowerCase());\r\n            });\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this.initTable(true);\r\n        this.checkEncodedChannels();\r\n    }\r\n\r\n    predict(column: RawColumn, encoding: string) {\r\n        const targetGroup = this.fromPath(this.formGroup.get('spec'), column.path);\r\n        switch (encoding) {\r\n            case 'width':\r\n                this.predictWidth(targetGroup, column);\r\n                break;\r\n            case 'height':\r\n                this.predictHeight(targetGroup, column);\r\n                break;\r\n            case 'x-position':\r\n                this.predictPosition(targetGroup, column, 'x');\r\n                break;\r\n            case 'y-position':\r\n                this.predictPosition(targetGroup, column, 'y');\r\n                break;\r\n            case 'color':\r\n                this.predictByClusterLabels(column);\r\n                break;\r\n            case 'shape':\r\n                this.predictByClusterLabels(column);\r\n                break;\r\n            case 'area':\r\n                this.predictArea(targetGroup, column);\r\n                break;\r\n            case 'none':\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.submitEmitter.emit();\r\n    }\r\n\r\n    private initTable(force = false) {\r\n        this.rows = [];\r\n        const markIndices = this.marks.map(d => d.key);\r\n        const initCells = () => {\r\n            for (let i = 0; i < markIndices.length; i++) {\r\n                const group = this.fb.group({});\r\n                this.columns.forEach(column => {\r\n                    group.addControl(column.title, this.fb.control(''));\r\n                });\r\n                this.rawGroup.push(group);\r\n            }\r\n        };\r\n\r\n        // check the raw group is empty\r\n        if (this.rawGroup.length === 0) {\r\n            initCells();\r\n        } else {\r\n            // Check the columns in both second stage\r\n            // and the third stage are same.\r\n            const checkValue = this.rawGroup.controls[0].value;\r\n            const allSameColumns = this.columns.every(column => {\r\n                return checkValue[column.title] !== undefined;\r\n            }) && (Object.keys(checkValue).length === this.columns.length);\r\n            const anyValueFilled = this.columns.some(column => {\r\n                return checkValue[column.title] !== '';\r\n            });\r\n\r\n            const sameRowCount = this.rawGroup.length === this.marks.length;\r\n            if (!(allSameColumns && anyValueFilled && sameRowCount) || force) {\r\n                this.rawGroup.clear();\r\n                initCells();\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < markIndices.length; i++) {\r\n            this.rows.push({\r\n                markKey: markIndices[i],\r\n                group: this.rawGroup.controls[i] as FormGroup,\r\n                attrs: {},\r\n                clusterLabels: {}\r\n            });\r\n        }\r\n    }\r\n\r\n    private format(value: number, pre: number, unit: 'decimal' | 'integer') {\r\n        const digits = value !== 0\r\n            ? Math.log10(Math.abs(value))\r\n            : -pre;\r\n\r\n        if (unit === 'integer' && pre > 0) {\r\n            pre = 0;\r\n        } else if (unit === 'decimal' && pre <= 0) {\r\n            pre = 1;\r\n        }\r\n        const applyPre = digits + 1 + pre;\r\n        return +value.toPrecision(Math.max(applyPre, 1));\r\n    }\r\n\r\n    private predictWidth(targetGroup: FormGroup, column: RawColumn) {\r\n\r\n        if (!targetGroup.contains('type') ||\r\n            targetGroup.get('type').value !== 'quantitative') {\r\n            return;\r\n        }\r\n\r\n        const imgWidth = (this.imgRef.nativeElement as HTMLImageElement).width;\r\n        const valuePerPixel = +targetGroup.get('valuePerPixel').value;\r\n        const pre = +targetGroup.get('precision').value;\r\n        const unit = targetGroup.get('unit').value;\r\n        const centers = this.marks.map(d => d.center[0] * imgWidth);\r\n        const labels = this.boxes.filter(d => {\r\n            return d.label.value === KEY_X_AXIS_LABEL;\r\n        });\r\n        const minLabel = labels.find(label => {\r\n            return label.center[0] === d3.min(labels, d => d.center[0]);\r\n        });\r\n        const minPos = minLabel.center[0] * imgWidth;\r\n        const minValue = +(minLabel.text.value.replace(this.re, ''));\r\n\r\n        const maxLabel = labels.find(label => {\r\n            return label.center[0] === d3.max(labels, d => d.center[0]);\r\n        });\r\n\r\n        const maxPos = maxLabel.center[0] * imgWidth;\r\n        const maxValue = +(maxLabel.text.value.replace(this.re, ''));\r\n        const positions = [];\r\n        centers.forEach(center => {\r\n            const currValue = minValue + (center - minPos) / (maxPos - minPos) * (maxValue - minValue);\r\n            positions.push(currValue);\r\n        });\r\n\r\n        const result = this.marks.map((d, i) => {\r\n            const sign = positions[i] > 0 ? 1 : -1;\r\n            return sign * Math.round(d.width * imgWidth) * valuePerPixel;\r\n        });\r\n\r\n        this.rawGroup.controls.forEach((control, i) => {\r\n            control.get(column.title).setValue(this.format(result[i], pre, unit));\r\n        });\r\n    }\r\n\r\n    private predictHeight(targetGroup: FormGroup, column: RawColumn) {\r\n\r\n        if (!targetGroup.contains('type') ||\r\n            targetGroup.get('type').value !== 'quantitative') {\r\n            return;\r\n        }\r\n\r\n        const imgHeight = (this.imgRef.nativeElement as HTMLImageElement).height;\r\n        const valuePerPixel = +targetGroup.get('valuePerPixel').value;\r\n        const pre = +targetGroup.get('precision').value;\r\n        const unit = targetGroup.get('unit').value;\r\n        const centers = this.marks.map(d => d.center[1] * imgHeight);\r\n        const labels = this.boxes.filter(d => {\r\n            return d.label.value === KEY_Y_AXIS_LABEL;\r\n        });\r\n        const minLabel = labels.find(label => {\r\n            return label.center[1] === d3.min(labels, d => d.center[1]);\r\n        });\r\n        const minPos = minLabel.center[1] * imgHeight;\r\n        const minValue = +(minLabel.text.value.replace(this.re, ''));\r\n\r\n        const maxLabel = labels.find(label => {\r\n            return label.center[1] === d3.max(labels, d => d.center[1]);\r\n        });\r\n\r\n        const maxPos = maxLabel.center[1] * imgHeight;\r\n        const maxValue = +(maxLabel.text.value.replace(this.re, ''));\r\n        const positions = [];\r\n        centers.forEach(center => {\r\n            const currValue = minValue + (center - minPos) / (maxPos - minPos) * (maxValue - minValue);\r\n            positions.push(currValue);\r\n        });\r\n\r\n        const result = this.marks.map((d, i) => {\r\n            const sign = positions[i] > 0 ? 1 : -1;\r\n            return sign * Math.round(d.height * imgHeight) * valuePerPixel;\r\n        });\r\n\r\n        this.rawGroup.controls.forEach((control, i) => {\r\n            control.get(column.title)\r\n                .setValue(this.format(result[i], pre, unit));\r\n        });\r\n    }\r\n\r\n    private predictPosition(targetGroup: FormGroup, column: RawColumn,\r\n        dir: 'x' | 'y') {\r\n        const { width, height } = (this.imgRef.nativeElement as HTMLImageElement);\r\n\r\n        const mul = dir === 'x' ? width : height;\r\n        const offset = dir === 'x' ? 0 : 1;\r\n\r\n        const centers = this.marks.map(d => d.center[offset] * mul);\r\n        const labels = this.boxes.filter(d => {\r\n            return d.label.value === (dir === 'x'\r\n                ? KEY_X_AXIS_LABEL\r\n                : KEY_Y_AXIS_LABEL);\r\n        });\r\n\r\n        if (labels.length === 0 ||\r\n            !targetGroup.contains('type')) {\r\n            return;\r\n        }\r\n\r\n        const result = [];\r\n\r\n        if (targetGroup.get('type').value === 'nominal') {\r\n            centers.forEach(center => {\r\n                const minIndex = getMinIndex(labels, (label) => {\r\n                    return Math.abs(label.center[offset] * mul - center);\r\n                });\r\n                result.push(labels[minIndex].text.value);\r\n            });\r\n        } else {\r\n            const pre = +targetGroup.get('precision').value;\r\n            const unit = targetGroup.get('unit').value;\r\n            const minLabel = labels.find(label => {\r\n                return label.center[offset] === d3.min(labels, d => d.center[offset]);\r\n            });\r\n            const minPos = minLabel.center[offset] * mul;\r\n            const minValue = +(minLabel.text.value.replace(this.re, ''));\r\n\r\n            const maxLabel = labels.find(label => {\r\n                return label.center[offset] === d3.max(labels, d => d.center[offset]);\r\n            });\r\n\r\n            const maxPos = maxLabel.center[offset] * mul;\r\n            const maxValue = +(maxLabel.text.value.replace(this.re, ''));\r\n            centers.forEach(center => {\r\n                const currValue = minValue + (center - minPos) / (maxPos - minPos) * (maxValue - minValue);\r\n                result.push(this.format(currValue, pre, unit));\r\n            });\r\n        }\r\n\r\n        this.rawGroup.controls.forEach((control, i) => {\r\n            control.get(column.title).setValue(result[i]);\r\n        });\r\n    }\r\n\r\n    private async predictArea(targetGroup: FormGroup, column: RawColumn) {\r\n        const boxes = this.marks.map(d => d.pointValues);\r\n        const path = this.edit.image.path;\r\n        if (boxes.length === 0 ||\r\n            !targetGroup.contains('type') ||\r\n            targetGroup.get('type').value !== 'quantitative') {\r\n            return;\r\n        }\r\n        const body = { path, boxes };\r\n        const areas = await this.predictService.predictAreas(body);\r\n        const sumOfAreas = d3.sum(areas);\r\n        const ratios = areas.map(area => area / sumOfAreas)\r\n            .map(ratio => ratio.toFixed(3));\r\n        const unit = targetGroup.get('unit').value;\r\n        this.rawGroup.controls.forEach((control, i) => {\r\n            const value = unit === 'integer'\r\n            ? Math.round(+ratios[i] * 100).toString()\r\n            : ratios[i];\r\n            control.get(column.title).setValue(value);\r\n        });\r\n    }\r\n\r\n    private assignMarkLabels(targetGroup: FormGroup, column: RawColumn) {\r\n        const targetMarkLabels = targetGroup.get('markLabels').value as string[];\r\n        const markLabelBoxes = this.boxes\r\n            .filter(d => d.isText && d.label.value === KEY_MARK_LABEL)\r\n            .filter(d => targetMarkLabels.findIndex(label => label === d.text.value) !== -1);\r\n\r\n        markLabelBoxes.forEach(box => {\r\n            const value = box.text.value;\r\n            const targetIndex = this.findNearestBoxIndex(box, targetGroup);\r\n            this.rows[targetIndex]\r\n                .group.get(column.title).setValue(value);\r\n        });\r\n    }\r\n\r\n    private findNearestBoxIndex(queryBox: AnnotationBox, targetGroup: FormGroup) {\r\n        const axisDir = targetGroup.contains('dir')\r\n            ? targetGroup.get('dir').value\r\n            : 'none';\r\n\r\n        // First, find the marks which contains the target mark label\r\n        const innerRows = this.rows.filter(row => {\r\n            const mark = this.marks.find(m => m.key === row.markKey);\r\n            const [x0, y0, x1, y1] = mark.pointValues;\r\n            return queryBox.center[0] >= x0 &&\r\n                queryBox.center[0] <= x1 &&\r\n                queryBox.center[1] >= y0 &&\r\n                queryBox.center[1] <= y1;\r\n        });\r\n\r\n        const rowsForSearch = innerRows.length > 0 ? innerRows : this.rows;\r\n        const minRow = getMinElem(rowsForSearch, (row: RawRow) => {\r\n            const mark = this.marks.find(m => m.key === row.markKey);\r\n            const [qx0, qy0, qx1, qy1] = queryBox.pointValues;\r\n            const [tx0, ty0, tx1, ty1] = mark.pointValues;\r\n            let qPos: number;\r\n            let tPos: number;\r\n\r\n            const distBetweenRange = (a: number[], b: number[]) => {\r\n                if (a[0] > b[1]) {\r\n                    return a[0] - b[1];\r\n                } else if (b[0] > a[1]) {\r\n                    return b[0] - a[1];\r\n                } else {\r\n                    return 0;\r\n                }\r\n            };\r\n\r\n            switch (axisDir) {\r\n                case 'x':\r\n                    qPos = queryBox.center[1] as number;\r\n                    tPos = mark.center[1] as number;\r\n                    return Math.abs(qPos - tPos);\r\n                case 'y':\r\n                    qPos = queryBox.center[0] as number;\r\n                    tPos = mark.center[0] as number;\r\n                    return Math.abs(qPos - tPos);\r\n                default:\r\n                    const xDist = distBetweenRange([qx0, qx1], [tx0, tx1]);\r\n                    const yDist = distBetweenRange([qy0, qy1], [ty0, ty1]);\r\n                    if (xDist > 0 || yDist > 0) {\r\n                        return Math.pow(xDist, 2) +\r\n                            Math.pow(yDist, 2) + 1000000;\r\n                    } else {\r\n                        // If the distance between boxes is zero,\r\n                        // use a euclidian distance between the centers.\r\n                        const [qcx, qcy] = queryBox.center;\r\n                        const [tcx, tcy] = mark.center;\r\n                        return Math.pow(qcx - tcx, 2) + Math.pow(qcy - tcy, 2);\r\n                    }\r\n            }\r\n        });\r\n\r\n        return this.rows.findIndex(row => row.markKey === minRow.markKey);\r\n    }\r\n\r\n    predictByClusterLabels(column: RawColumn) {\r\n        const key = column.title;\r\n        const definedPairs = this.marks\r\n            .map((mark, i) => {\r\n                const group = this.rawGroup.at(i);\r\n                return {\r\n                    value: group.get(key).value,\r\n                    label: this.rows.find(d => d.markKey === mark.key).clusterLabels[key]\r\n                };\r\n            })\r\n            .filter(d => d.value !== '');\r\n\r\n        if (definedPairs.length === 0) {\r\n            return;\r\n        }\r\n\r\n        this.rawGroup.controls.forEach((control, i) => {\r\n            const row = this.rows\r\n                .find(d => d.markKey === this.marks[i].key);\r\n            const defined = definedPairs\r\n                .find(d => d.label === row.clusterLabels[key]);\r\n\r\n            const value = defined ? defined.value : '';\r\n            (control as FormGroup).get(key).setValue(value);\r\n        });\r\n    }\r\n\r\n    addColumn() {\r\n        const dialogRef = this.dialog.open(ColumnAdditionDialogComponent, {\r\n            width: '500px',\r\n            data: {\r\n                title: 'Unknown Column',\r\n                path: `custom`,\r\n                labels: []\r\n            }\r\n        });\r\n\r\n        dialogRef.afterClosed().subscribe((newColumn: RawColumn) => {\r\n            const path = `custom-${newColumn.title}`;\r\n            const specGroup = this.formGroup.get('spec') as FormGroup;\r\n            newColumn.path = path;\r\n            specGroup.addControl(path, this.fb.group({\r\n                title: this.fb.control(newColumn.title)\r\n            }));\r\n            if (newColumn.labels && newColumn.labels.length > 0) {\r\n                (specGroup.get(path) as FormGroup)\r\n                    .addControl('labels', this.fb.array(newColumn.labels));\r\n            }\r\n            this.columns.push(newColumn);\r\n            this.rawGroup.controls.forEach((control: FormGroup) => {\r\n                control.addControl(newColumn.title, this.fb.control(''));\r\n            });\r\n        });\r\n    }\r\n\r\n    addRow() {\r\n        const group = this.fb.group({});\r\n        this.columns.forEach(column => {\r\n            group.addControl(column.title, this.fb.control(''));\r\n        });\r\n        this.rawGroup.push(group);\r\n        this.rows.push({ group, attrs: {}, clusterLabels: {} });\r\n    }\r\n\r\n    updateFocus(boxIndex?: string) {\r\n        if (boxIndex) {\r\n            this.focusEmitter.emit(boxIndex);\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.sub) {\r\n            this.sub.unsubscribe();\r\n        }\r\n    }\r\n\r\n    private fromPath(group: AbstractControl, path: string): FormGroup {\r\n        let ret = group;\r\n        path.split('.').map(d => isNaN(+d) ? d : +d).forEach(key => {\r\n            if (isNaN(+key)) {\r\n                ret = ret.get(key.toString()) as AbstractControl;\r\n            } else {\r\n                ret = (ret as FormArray).at(+key);\r\n            }\r\n        });\r\n        return ret as FormGroup;\r\n    }\r\n}\r\n","export default \".table {\\n  min-height: 150px;\\n  max-height: 250px;\\n  overflow-y: scroll;\\n}\\n\\n.answer-input {\\n  border: 0;\\n  outline: 0;\\n  background: transparent;\\n  border-bottom: 1px solid #888;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9hbm5vdGF0aW9uLW1vZHVsZS9yZWdyZXNzaW9uL0M6XFxVc2Vyc1xcanVuaG9lXFxIQ0lMXFxkZXZcXEF1dG90YXRvclxcY2xpZW50L3NyY1xcYXBwXFxlZGl0XFxhbm5vdGF0aW9uLW1vZHVsZVxccmVncmVzc2lvblxccmVncmVzc2lvbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZWRpdC9hbm5vdGF0aW9uLW1vZHVsZS9yZWdyZXNzaW9uL3JlZ3Jlc3Npb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURFQTtFQUNJLFNBQUE7RUFDQSxVQUFBO0VBQ0EsdUJBQUE7RUFDQSw2QkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvZWRpdC9hbm5vdGF0aW9uLW1vZHVsZS9yZWdyZXNzaW9uL3JlZ3Jlc3Npb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGFibGUge1xyXG4gICAgbWluLWhlaWdodDogMTUwcHg7XHJcbiAgICBtYXgtaGVpZ2h0OiAyNTBweDtcclxuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcclxufVxyXG5cclxuLmFuc3dlci1pbnB1dCB7XHJcbiAgICBib3JkZXI6IDA7XHJcbiAgICBvdXRsaW5lOiAwO1xyXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzg4ODtcclxufVxyXG4iLCIudGFibGUge1xuICBtaW4taGVpZ2h0OiAxNTBweDtcbiAgbWF4LWhlaWdodDogMjUwcHg7XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbn1cblxuLmFuc3dlci1pbnB1dCB7XG4gIGJvcmRlcjogMDtcbiAgb3V0bGluZTogMDtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjODg4O1xufSJdfQ== */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { Regression } from 'src/app/common/task';\r\nimport { Observable } from 'rxjs';\r\nimport { EditService } from 'src/app/edit.service';\r\n\r\n@Component({\r\n    selector: 'app-regression',\r\n    templateUrl: './regression.component.html',\r\n    styleUrls: [\r\n        './regression.component.scss',\r\n        '../../edit-module.scss',\r\n    ]\r\n})\r\nexport class RegressionComponent implements OnInit {\r\n\r\n    @Input() formGroup: FormGroup;\r\n    @Input() task: Regression;\r\n    @Input() event: Observable<string>;\r\n    @Input() spacePressed: boolean;\r\n    @Output() submitEmitter = new EventEmitter<void>();\r\n\r\n    constructor(private edit: EditService) { }\r\n\r\n    ngOnInit() {\r\n        this.event.subscribe(key => {\r\n            if (key === 'predict' && this.edit.autoCompleteSubject.getValue()[this.task.key]) {\r\n                this.task.applyPrediction(this.formGroup);\r\n            }\r\n        });\r\n    }\r\n\r\n    getControl(key: string) {\r\n        return this.formGroup.get(this.task.key).get(key);\r\n    }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2VkaXQvYW5ub3RhdGlvbi1tb2R1bGUvdGV4dC90ZXh0LmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input, OnChanges, SimpleChanges, ElementRef, HostListener, Output, EventEmitter } from '@angular/core';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { Text } from 'src/app/common/task';\r\nimport { SB, SA } from 'src/app/d3-utils';\r\n\r\nimport * as d3 from 'd3';\r\nimport { Observable } from 'rxjs';\r\nimport { EditService } from 'src/app/edit.service';\r\nimport { AnnotationBox, removeEventArea, createEventArea,\r\n    addRectDragEvent, addMergeEvent, removeMergeLine, removeTempBox } from '../annotation-util';\r\n\r\n@Component({\r\n    selector: 'app-text',\r\n    templateUrl: './text.component.html',\r\n    styleUrls: [\r\n        './text.component.scss',\r\n        '../../edit-module.scss'\r\n    ]\r\n})\r\nexport class TextComponent implements OnInit, OnChanges {\r\n\r\n    @Input() formGroup: FormGroup;\r\n    @Input() task: Text;\r\n    @Input() index: number;\r\n    @Input() svgS: SB;\r\n    @Input() imgRef: ElementRef;\r\n    @Input() currIndex: number;\r\n    @Input() event: Observable<string>;\r\n    @Input() spacePressed: boolean;\r\n    @Output() submitEmitter = new EventEmitter<void>();\r\n\r\n    public focusedBoxIndex: string = null;\r\n    public autoIncBoxIndex = 0;\r\n    public boxes: AnnotationBox[] = [];\r\n    public isDrawing = false;\r\n    public isMerging = false;\r\n    public g: SB;\r\n\r\n    constructor(private edit: EditService, private fb: FormBuilder) { }\r\n\r\n    ngOnInit() {\r\n        this.event.subscribe(key => {\r\n            this.isDrawing = false;\r\n            this.isMerging = false;\r\n            if (key === 'predict' && this.edit.autoCompleteSubject.getValue()[this.task.key]) {\r\n                this.task.registerControl(this.formGroup, this.fb);\r\n                this.task.applyPrediction(this.formGroup);\r\n                this.updateBoxes();\r\n                if (this.currIndex === this.index) {\r\n                    this.createEventArea();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.currIndex || changes.formGroup) {\r\n            this.updateBoxes();\r\n            if (this.currIndex === this.index) {\r\n                this.createEventArea();\r\n                this.autoIncBoxIndex = d3.max(this.boxes.map(box => +box.key)) || 0;\r\n                this.focusedBoxIndex = null;\r\n            } else {\r\n                removeEventArea(this);\r\n            }\r\n        }\r\n    }\r\n\r\n    @HostListener('window:keyup', ['$event'])\r\n    onKey(event: KeyboardEvent) {\r\n        if (document.activeElement.tagName === 'INPUT') {\r\n            return;\r\n        }\r\n\r\n        if (event.key === 'Escape' && this.isMerging) {\r\n            removeMergeLine(this);\r\n        }\r\n\r\n        if (event.key === 'Escape' && this.isDrawing) {\r\n            removeTempBox(this);\r\n        }\r\n        if ((event.key === 'Delete' || event.key === 'd')\r\n            && this.focusedBoxIndex) {\r\n            this.deleteBox(this.focusedBoxIndex);\r\n        }\r\n    }\r\n\r\n    deleteBox(boxIndex: string) {\r\n        this.g.select(`.rect-${boxIndex}`).remove();\r\n        this.g.selectAll(`.circle-${boxIndex}`).remove();\r\n        this.task.deleteBox(this.formGroup, boxIndex);\r\n        if (boxIndex === this.focusedBoxIndex) {\r\n            this.focusedBoxIndex = null;\r\n        }\r\n        this.updateBoxes();\r\n    }\r\n\r\n    private createEventArea() {\r\n        removeEventArea(this);\r\n        createEventArea(this, true);\r\n    }\r\n\r\n    writeForm(boxIndex: string, x: number, y: number, width: number, height: number) {\r\n        const imgElem = this.imgRef.nativeElement;\r\n        const clamp = (value: number, min: number, max: number) => {\r\n            return Math.min(max, Math.max(min, value));\r\n        };\r\n        const raw = {\r\n            key: boxIndex,\r\n            x0: clamp(x - 10, 0, imgElem.width) / imgElem.width,\r\n            y0: clamp(y - 10, 0, imgElem.height) / imgElem.height,\r\n            x1: clamp((x + width) - 10, 0, imgElem.width) / imgElem.width,\r\n            y1: clamp((y + height) - 10, 0, imgElem.height) / imgElem.height,\r\n        };\r\n        const addNewBox = !this.formGroup\r\n            .get(this.task.key)\r\n            .get(raw.key);\r\n\r\n        this.task.updateBox(this.formGroup, raw);\r\n        if (addNewBox) {\r\n            this.updateBoxes();\r\n        }\r\n    }\r\n\r\n    addRectEvent(boxIndex: string, rectS: SB, circleS: SA) {\r\n        addRectDragEvent(this, boxIndex, rectS, circleS);\r\n        addMergeEvent(this, boxIndex, rectS);\r\n    }\r\n\r\n    updateFocus(boxIndex: string) {\r\n        this.g.selectAll('rect').classed('focused', false);\r\n        this.g.selectAll('circle').classed('focused', false);\r\n        this.g.select(`.rect-${boxIndex}`).classed('focused', true);\r\n        this.focusedBoxIndex = boxIndex;\r\n    }\r\n\r\n    updateBoxes() {\r\n        const formGroup = this.formGroup.get(this.task.key) as FormGroup;\r\n        this.boxes = Object\r\n            .entries(formGroup.controls)\r\n            .map(entry => {\r\n                const [key, value] = entry;\r\n                return new AnnotationBox(key, value as FormGroup);\r\n            });\r\n    }\r\n\r\n    onSelect(event: Event) {\r\n        event.stopPropagation();\r\n    }\r\n}\r\n","export default \"div {\\n  height: 24px;\\n  width: 24px;\\n  border-radius: 12px;\\n  background-color: #3f51b5;\\n  color: white;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  cursor: pointer;\\n}\\ndiv > div {\\n  pointer-events: none;\\n}\\ndiv.focused {\\n  background-color: #339966;\\n}\\ndiv.focused:hover {\\n  background-color: #40bf80;\\n}\\ndiv:hover {\\n  background-color: #606fc7;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9jb21tb24vZmVlZGJhY2stbWFyay9DOlxcVXNlcnNcXGp1bmhvZVxcSENJTFxcZGV2XFxBdXRvdGF0b3JcXGNsaWVudC9zcmNcXGFwcFxcZWRpdFxcY29tbW9uXFxmZWVkYmFjay1tYXJrXFxmZWVkYmFjay1tYXJrLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9lZGl0L2NvbW1vbi9mZWVkYmFjay1tYXJrL2ZlZWRiYWNrLW1hcmsuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7RUFBQSxhQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtFQUNBLGVBQUE7QUNDSjtBRENJO0VBQ0ksb0JBQUE7QUNDUjtBREVJO0VBQ0kseUJBQUE7QUNBUjtBREdJO0VBQ0kseUJBQUE7QUNEUjtBREtBO0VBQ0kseUJBQUE7QUNGSiIsImZpbGUiOiJzcmMvYXBwL2VkaXQvY29tbW9uL2ZlZWRiYWNrLW1hcmsvZmVlZGJhY2stbWFyay5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImRpdiB7XHJcbiAgICBoZWlnaHQ6IDI0cHg7XHJcbiAgICB3aWR0aDogMjRweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2Y1MWI1O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAgICYgPiBkaXYge1xyXG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgfVxyXG5cclxuICAgICYuZm9jdXNlZCB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDUxLCAxNTMsIDEwMik7XHJcbiAgICB9XHJcblxyXG4gICAgJi5mb2N1c2VkOmhvdmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDBiZjgwO1xyXG4gICAgfVxyXG59XHJcblxyXG5kaXY6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzYwNmZjNztcclxufVxyXG4iLCJkaXYge1xuICBoZWlnaHQ6IDI0cHg7XG4gIHdpZHRoOiAyNHB4O1xuICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2Y1MWI1O1xuICBjb2xvcjogd2hpdGU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5kaXYgPiBkaXYge1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cbmRpdi5mb2N1c2VkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzOTk2Njtcbn1cbmRpdi5mb2N1c2VkOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQwYmY4MDtcbn1cblxuZGl2OmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzYwNmZjNztcbn0iXX0= */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Feedback } from 'src/app/common/verification-data';\r\n\r\n@Component({\r\n    selector: 'app-feedback-mark',\r\n    templateUrl: './feedback-mark.component.html',\r\n    styleUrls: ['./feedback-mark.component.scss']\r\n})\r\nexport class FeedbackMarkComponent implements OnInit {\r\n\r\n    @Input() feedback: Feedback;\r\n    @Input() focused: boolean;\r\n    @Output() focus = new EventEmitter<Feedback>();\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    onClick() {\r\n        this.focus.emit(this.feedback);\r\n    }\r\n}\r\n","export default \"#feedback-container {\\n  position: fixed;\\n  min-width: 300px;\\n  background-color: rgba(0, 0, 0, 0.8);\\n  border-radius: 10px;\\n  z-index: 1000;\\n  color: white;\\n}\\n\\n.close {\\n  position: absolute;\\n  right: -10px;\\n  top: -10px;\\n  color: white;\\n}\\n\\nsvg {\\n  position: absolute;\\n  right: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9jb21tb24vZmVlZGJhY2stbW9kYWwvQzpcXFVzZXJzXFxqdW5ob2VcXEhDSUxcXGRldlxcQXV0b3RhdG9yXFxjbGllbnQvc3JjXFxhcHBcXGVkaXRcXGNvbW1vblxcZmVlZGJhY2stbW9kYWxcXGZlZWRiYWNrLW1vZGFsLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9lZGl0L2NvbW1vbi9mZWVkYmFjay1tb2RhbC9mZWVkYmFjay1tb2RhbC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLG9DQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0ksa0JBQUE7RUFDQSxZQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0VBQ0EsVUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvZWRpdC9jb21tb24vZmVlZGJhY2stbW9kYWwvZmVlZGJhY2stbW9kYWwuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZmVlZGJhY2stY29udGFpbmVyIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIG1pbi13aWR0aDogMzAwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuOCk7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgei1pbmRleDogMTAwMDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmNsb3NlIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHJpZ2h0OiAtMTBweDtcclxuICAgIHRvcDogLTEwcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbnN2ZyB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICByaWdodDogMHB4O1xyXG59XHJcbiIsIiNmZWVkYmFjay1jb250YWluZXIge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIG1pbi13aWR0aDogMzAwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44KTtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgei1pbmRleDogMTAwMDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uY2xvc2Uge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAtMTBweDtcbiAgdG9wOiAtMTBweDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG5zdmcge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwcHg7XG59Il19 */\"","import { Component, OnInit, ViewChild, Renderer2, ElementRef, ChangeDetectorRef, AfterViewInit, OnDestroy } from '@angular/core';\r\nimport { Feedback } from 'src/app/common/verification-data';\r\nimport { FeedbackService } from '../feedback.service';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'app-feedback-modal',\r\n    templateUrl: './feedback-modal.component.html',\r\n    styleUrls: ['./feedback-modal.component.scss']\r\n})\r\nexport class FeedbackModalComponent implements OnInit, OnDestroy, AfterViewInit {\r\n\r\n    @ViewChild('container', { static: false }) ref: ElementRef;\r\n\r\n    public feedback: Feedback;\r\n    public displayModal = false;\r\n    private sub: Subscription;\r\n\r\n    constructor(private fs: FeedbackService,\r\n                private renderer: Renderer2,\r\n                private changeDetector: ChangeDetectorRef) { }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.sub = this.fs.showObservable.subscribe(data => {\r\n            this.displayModal = true;\r\n            const { left, top, feedback } = data;\r\n            this.feedback = feedback;\r\n            this.changeDetector.detectChanges();\r\n            const el = this.ref.nativeElement as HTMLDivElement;\r\n            const rect = el.getBoundingClientRect();\r\n            this.renderer.setStyle(el, 'left', `${left - rect.width}px`);\r\n            this.renderer.setStyle(el, 'top', `${top - rect.height / 2}px`);\r\n        });\r\n    }\r\n\r\n    close() {\r\n        this.displayModal = false;\r\n    }\r\n\r\n    resolve() {\r\n        this.fs.resolveSubject.next(this.feedback);\r\n        this.close();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.sub) {\r\n            this.sub.unsubscribe();\r\n        }\r\n    }\r\n\r\n}\r\n","import { Injectable, ElementRef } from '@angular/core';\r\nimport { Feedback } from 'src/app/common/verification-data';\r\nimport { Subject, BehaviorSubject } from 'rxjs';\r\n\r\nexport interface FeedbackModalData {\r\n    feedback: Feedback;\r\n    left: number;\r\n    top: number;\r\n}\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class FeedbackService {\r\n\r\n    public resolveSubject = new Subject<Feedback>();\r\n    public showSubject = new Subject<FeedbackModalData>();\r\n    public feedbackSubject = new BehaviorSubject<Feedback>(Feedback.dummy());\r\n    constructor() { }\r\n\r\n    showFeedback(left: number, top: number, feedback: Feedback) {\r\n        this.showSubject.next({ left, top, feedback });\r\n    }\r\n\r\n    get resolveObservable() {\r\n        return this.resolveSubject.asObservable();\r\n    }\r\n\r\n    get showObservable() {\r\n        return this.showSubject.asObservable();\r\n    }\r\n\r\n    get feedbackObservable() {\r\n        return this.feedbackSubject.asObservable();\r\n    }\r\n\r\n    resolve() {\r\n        this.resolveSubject.next(this.feedbackSubject.getValue());\r\n        this.feedbackSubject.next(Feedback.dummy());\r\n    }\r\n}\r\n","export * from './feedback-mark/feedback-mark.component';\r\nexport * from './feedback-modal/feedback-modal.component';\r\nexport * from './review-panel/review-panel.component';\r\nexport * from './sub-header/sub-header.component';\r\n","export default \"::ng-deep .resolve-button .mat-stroked-button {\\n  height: 24px !important;\\n  line-height: 24px !important;\\n}\\n::ng-deep .resolve-button .mat-stroked-button span {\\n  line-height: 24px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9jb21tb24vcmVzb2x2ZS1idXR0b24vQzpcXFVzZXJzXFxqdW5ob2VcXEhDSUxcXGRldlxcQXV0b3RhdG9yXFxjbGllbnQvc3JjXFxhcHBcXGVkaXRcXGNvbW1vblxccmVzb2x2ZS1idXR0b25cXHJlc29sdmUtYnV0dG9uLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9lZGl0L2NvbW1vbi9yZXNvbHZlLWJ1dHRvbi9yZXNvbHZlLWJ1dHRvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFUTtFQUNJLHVCQUFBO0VBQ0EsNEJBQUE7QUNEWjtBREVZO0VBQ0ksNEJBQUE7QUNBaEIiLCJmaWxlIjoic3JjL2FwcC9lZGl0L2NvbW1vbi9yZXNvbHZlLWJ1dHRvbi9yZXNvbHZlLWJ1dHRvbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjo6bmctZGVlcCB7XHJcbiAgICAucmVzb2x2ZS1idXR0b24ge1xyXG4gICAgICAgIC5tYXQtc3Ryb2tlZC1idXR0b24ge1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDI0cHggIWltcG9ydGFudDtcclxuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDI0cHggIWltcG9ydGFudDtcclxuICAgICAgICAgICAgc3BhbiB7XHJcbiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMjRweCAhaW1wb3J0YW50XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiOjpuZy1kZWVwIC5yZXNvbHZlLWJ1dHRvbiAubWF0LXN0cm9rZWQtYnV0dG9uIHtcbiAgaGVpZ2h0OiAyNHB4ICFpbXBvcnRhbnQ7XG4gIGxpbmUtaGVpZ2h0OiAyNHB4ICFpbXBvcnRhbnQ7XG59XG46Om5nLWRlZXAgLnJlc29sdmUtYnV0dG9uIC5tYXQtc3Ryb2tlZC1idXR0b24gc3BhbiB7XG4gIGxpbmUtaGVpZ2h0OiAyNHB4ICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FeedbackService } from '../feedback.service';\r\n\r\n@Component({\r\n  selector: 'app-resolve-button',\r\n  templateUrl: './resolve-button.component.html',\r\n  styleUrls: ['./resolve-button.component.scss']\r\n})\r\nexport class ResolveButtonComponent implements OnInit {\r\n\r\n  constructor(public fs: FeedbackService) {\r\n\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2VkaXQvY29tbW9uL3Jldmlldy1wYW5lbC9yZXZpZXctcGFuZWwuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Output, EventEmitter, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { Feedback } from 'src/app/common/verification-data';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-review-panel',\r\n    templateUrl: './review-panel.component.html',\r\n    styleUrls: ['./review-panel.component.scss']\r\n})\r\nexport class ReviewPanelComponent implements OnInit, OnChanges {\r\n\r\n    @Input() feedbacks: Feedback[];\r\n    @Input() feedbackForms: FormGroup[];\r\n    @Input() focusedKey: string;\r\n    @Output() focus = new EventEmitter<string>();\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.feedbackForms && changes.feedbackForms.currentValue) {\r\n            this.feedbacks = this.feedbackForms.map(d => Feedback.from(d));\r\n        }\r\n    }\r\n\r\n    onFeedbackFocused(feedback: Feedback) {\r\n        this.focus.emit(feedback.key);\r\n    }\r\n\r\n    equals(form: FormGroup) {\r\n        return Feedback.from(form).key === this.focusedKey;\r\n    }\r\n}\r\n","import { Directive, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[appStopPropagation]'\r\n})\r\nexport class StopPropagationDirective {\r\n\r\n    @HostListener('click', ['$event'])\r\n    public onClick(event: Event): void {\r\n        event.stopPropagation();\r\n    }\r\n}\r\n","export default \":host {\\n  width: 100% !important;\\n}\\n\\n.sub-header {\\n  color: rgba(0, 0, 0, 0.56);\\n  font-weight: 600;\\n  font-size: 1.1rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9jb21tb24vc3ViLWhlYWRlci9DOlxcVXNlcnNcXGp1bmhvZVxcSENJTFxcZGV2XFxBdXRvdGF0b3JcXGNsaWVudC9zcmNcXGFwcFxcZWRpdFxcY29tbW9uXFxzdWItaGVhZGVyXFxzdWItaGVhZGVyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9lZGl0L2NvbW1vbi9zdWItaGVhZGVyL3N1Yi1oZWFkZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxzQkFBQTtBQ0NKOztBREVBO0VBQ0ksMEJBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9lZGl0L2NvbW1vbi9zdWItaGVhZGVyL3N1Yi1oZWFkZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uc3ViLWhlYWRlciB7XHJcbiAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjU2KTtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICBmb250LXNpemU6IDEuMXJlbTtcclxufVxyXG4iLCI6aG9zdCB7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG59XG5cbi5zdWItaGVhZGVyIHtcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41Nik7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xufSJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-sub-header',\r\n    templateUrl: './sub-header.component.html',\r\n    styleUrls: ['./sub-header.component.scss']\r\n})\r\nexport class VSubTitleComponent implements OnInit {\r\n\r\n    @Input() title: string;\r\n    constructor() { }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { NetworkService } from 'src/app/network.service';\nimport { AnnotationMeta, AnnotatedImageData } from 'src/app/common/edit-data';\nimport * as DEMO_DATA from './demo_bar_data.json';\nimport { Feedback, Review } from 'src/app/common/verification-data';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class DemoService {\n\n    private index = 0;\n    private currMode = 'init';\n    private data: any[] = [];\n\n    constructor(private network: NetworkService) {\n        this.data = DEMO_DATA['default'] as any[];\n    }\n\n    async getAnnotationElem(): Promise<[AnnotationMeta, Blob]> {\n        const paths = await this.network.getPaths();\n        if (this.index >= paths.length) {\n            return null;\n        } else {\n            this.currMode = this.getNextMode();\n            const path = paths[this.index];\n            const elem = this.data[this.index];\n            const meta = { path, feedbacks: null, annotation: null };\n            const blob = await this.network.getImage(meta.path);\n            if (this.currMode === 'revision') {\n                meta.feedbacks = elem.feedbacks.map((d: any) => new Feedback(d));\n                meta.annotation = elem.annotation;\n            }\n            return [new AnnotationMeta(meta), blob];\n        }\n    }\n\n    async getVerificationElem(): Promise<[AnnotatedImageData, Blob]> {\n        const paths = await this.network.getPaths();\n        if (this.index >= paths.length) {\n            return null;\n        } else {\n            const path = paths[this.index];\n            this.currMode = this.getNextMode();\n            const blob = await this.network.getImage(path);\n            const annotatedMeta = new AnnotatedImageData({\n                path,\n                annotation: this.data[this.index].annotation\n            });\n            return [annotatedMeta, blob];\n        }\n    }\n\n    async getReview(path: string): Promise<Review> {\n        const reviewRaw = {\n            path,\n            approved: false,\n            feedbacks: this.data[this.index].feedbacks\n        };\n        return new Review(reviewRaw);\n    }\n\n    private getNextMode(): string {\n        switch (this.currMode) {\n            case 'init':\n                return 'annotation';\n            case 'annotation':\n                return 'verification';\n            case 'revision':\n                this.index += 1;\n                return 'annotation';\n            case 'verification':\n                return 'revision';\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { AnnotationMeta } from 'src/app/common/edit-data';\nimport { NetworkService } from 'src/app/network.service';\nimport { FormGroup } from '@angular/forms';\nimport * as QUIZ_DATA from './quiz_bar_data.json';\nimport { VOverallData, Review, Feedback } from 'src/app/common/verification-data.js';\nimport { Config } from 'src/app/common/config.js';\n\nimport * as d3 from 'd3';\nimport { KEY_X_AXIS_LABEL, KEY_X_AXIS_TITLE, KEY_Y_AXIS_LABEL } from 'src/app/common/task/index.js';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class QuizService {\n\n    public currReview: Review;\n\n    private data: VOverallData;\n    constructor(private network: NetworkService) {\n        this.data = new VOverallData('quiz', QUIZ_DATA['default']);\n    }\n\n    async getAnnotationElem(): Promise<[AnnotationMeta, Blob]> {\n        const paths = await this.network.getPaths();\n        const path = paths[0];\n        const blob = await this.network.getImage(path);\n        const meta = { path, feedbacks: [], annotation: null };\n        return [new AnnotationMeta(meta), blob];\n    }\n\n    grade(path: string, formGroup: FormGroup, config: Config): [boolean, any] {\n        const result = {};\n        for (const task of config.tasks) {\n            result[task.key] = task.getFormValue(formGroup);\n        }\n        const submitted = new VOverallData('key_0', result['key_0']);\n        const feedbacks = [];\n        let otherIndex = 0;\n\n        if (submitted.marks.length !== this.data.marks.length) {\n            feedbacks.push(new Feedback({\n                taskKey: 'key_0',\n                annotationKey: `mark.other.${otherIndex}`,\n                comment: '   .'\n            }));\n            otherIndex += 1;\n        }\n\n        submitted.marks.forEach((mark, i) => {\n            const maxIou = d3.max(this.data.marks, d => this.iou(mark.bound, d.bound));\n            if (maxIou <= 0.85) {\n                feedbacks.push(new Feedback({\n                    taskKey: 'key_0',\n                    annotationKey: `mark.${i}`,\n                    comment: '   .'\n                }));\n            }\n        });\n\n        otherIndex = 0;\n\n        const targetSpec = this.data.spec;\n        const xLabelIndices = submitted.texts\n            .map((d, i) => ([i, d.label === KEY_X_AXIS_LABEL]))\n            .filter(([_, check]) => check)\n            .map(d => d[0]) as number[];\n\n        const xTitleIndices = submitted.texts\n            .map((d, i) => ([i, d.label === KEY_X_AXIS_TITLE]))\n            .filter(([_, check]) => check)\n            .map(d => d[0]) as number[];\n\n        const yLabelIndices = submitted.texts\n            .map((d, i) => ([i, d.label === KEY_Y_AXIS_LABEL]))\n            .filter(([i, check]) => check)\n            .map(d => d[0]) as number[];\n\n        if (xTitleIndices.length === 0) {\n             feedbacks.push(new Feedback({\n                taskKey: 'key_0',\n                annotationKey: `text.other.${otherIndex}`,\n                comment: 'X  .'\n            }));\n            otherIndex += 1;\n        } else {\n            const target = this.data.texts\n                .find(d => d.label === KEY_X_AXIS_TITLE);\n            const index = xTitleIndices[0];\n            const title = submitted.texts[index];\n\n            if (title.text !== target.text) {\n                feedbacks.push(new Feedback({\n                    taskKey: 'key_0',\n                    annotationKey: `text.${index}`,\n                    comment: 'X   .'\n                }));\n            } else if (this.iou(title.bound, target.bound) < 0.9) {\n                feedbacks.push(new Feedback({\n                    taskKey: 'key_0',\n                    annotationKey: `text.${index}`,\n                    comment: 'X   .'\n                }));\n            }\n        }\n\n        if (xLabelIndices.length !== 4) {\n            feedbacks.push(new Feedback({\n                taskKey: 'key_0',\n                annotationKey: `text.other.${otherIndex}`,\n                comment: 'X   .'\n            }));\n            otherIndex += 1;\n        } else {\n            const targetTexts = this.data.texts\n                .filter(d => d.label === KEY_X_AXIS_LABEL);\n\n            xLabelIndices.forEach(index => {\n                const text = submitted.texts[index];\n                const maxIou = d3.max(targetTexts, d => this.iou(text.bound, d.bound));\n                const ious = targetTexts\n                    .map(d => this.iou(text.bound, d.bound));\n                const maxIndex = ious.indexOf(Math.max.apply(null, ious));\n                if (maxIou <= 0.80) {\n                    feedbacks.push(new Feedback({\n                        taskKey: 'key_0',\n                        annotationKey: `text.${index}`,\n                        comment: '  .'\n                    }));\n                } else if (targetTexts[maxIndex].text !== text.text) {\n                    feedbacks.push(new Feedback({\n                        taskKey: 'key_0',\n                        annotationKey: `text.${index}`,\n                        comment: '  .'\n                    }));\n                }\n            });\n        }\n\n        if (yLabelIndices.length !== 7) {\n            feedbacks.push(new Feedback({\n                taskKey: 'key_0',\n                annotationKey: `text.other.${otherIndex}`,\n                comment: 'Y   .'\n            }));\n            otherIndex += 1;\n        } else {\n            const targetTexts = this.data.texts\n                .filter(d => d.label === KEY_Y_AXIS_LABEL);\n\n            yLabelIndices.forEach(index => {\n                const text = submitted.texts[index];\n                const ious = targetTexts\n                    .map(d => this.iou(text.bound, d.bound));\n                const maxIndex = ious.indexOf(Math.max.apply(null, ious));\n                const maxIou = ious[maxIndex];\n                if (maxIou <= 0.80) {\n                    feedbacks.push(new Feedback({\n                        taskKey: 'key_0',\n                        annotationKey: `text.${index}`,\n                        comment: '  .'\n                    }));\n                } else if (targetTexts[maxIndex].text !== text.text) {\n                    feedbacks.push(new Feedback({\n                        taskKey: 'key_0',\n                        annotationKey: `text.${index}`,\n                        comment: '  .'\n                    }));\n                }\n            });\n        }\n\n        const checkAxis = (index: number) => {\n            const axis = submitted.spec.axes[index];\n            const target = this.data.spec.axes[index];\n\n            if (axis.title.value !== target.title.value) {\n                feedbacks.push(new Feedback({\n                    taskKey: 'key_0',\n                    annotationKey: `spec.axis.${index}.title`,\n                    comment: '  .'\n                }));\n            }\n\n            if (axis.type.value !== target.type.value) {\n                feedbacks.push(new Feedback({\n                    taskKey: 'key_0',\n                    annotationKey: `spec.axis.${index}.type`,\n                    comment: '   .'\n                }));\n            }\n\n            const labels = axis.labels.value.sort();\n            const targetLabels = target.labels.value.sort();\n            const notSame = labels.length !== targetLabels.length ||\n                labels.some((d, i) => {\n                    return i >= targetLabels.length || targetLabels[i].trim() !== d.trim();\n                });\n            if (notSame) {\n                feedbacks.push(new Feedback({\n                    taskKey: 'key_0',\n                    annotationKey: `spec.axis.${index}.labels`,\n                    comment: '  .'\n                }));\n            }\n\n            if (axis.unit.value !== target.unit.value) {\n                feedbacks.push(new Feedback({\n                    taskKey: 'key_0',\n                    annotationKey: `spec.axis.${index}.unit`,\n                    comment: '    .'\n                }));\n            }\n\n            if (axis.encoding.value !== target.encoding.value) {\n                feedbacks.push(new Feedback({\n                    taskKey: 'key_0',\n                    annotationKey: `spec.axis.${index}.encoding`,\n                    comment: '   .'\n                }));\n            }\n        };\n\n        otherIndex = 0;\n        if (submitted.spec.axes.length !== 2) {\n            feedbacks.push(new Feedback({\n                taskKey: 'key_0',\n                annotationKey: `spec.axis.other.${otherIndex}`,\n                comment: ' X, Y  1  .'\n            }));\n            otherIndex += 1;\n        } else {\n            checkAxis(0);\n            checkAxis(1);\n        }\n\n        otherIndex = 0;\n        const rows = submitted.raw.rows;\n        const targetRows = this.data.raw.rows;\n        if (rows.length !== targetRows.length) {\n            feedbacks.push(new Feedback({\n                taskKey: 'key_0',\n                annotationKey: `raw.other.${otherIndex}`,\n                comment: '  .'\n            }));\n            otherIndex += 1;\n        }\n\n        if (submitted.spec.axes.length === 2) {\n            const xKey = submitted.spec.axes[0].title.value;\n            const yKey = submitted.spec.axes[1].title.value;\n            const targetXKey = targetSpec.axes[0].title.value;\n            const targetYKey = targetSpec.axes[1].title.value;\n            rows.forEach((row, i) => {\n                const x = row.value[xKey];\n                const y = row.value[yKey];\n\n                const targetRow = targetRows.find(d => {\n                    return d.value[targetYKey] === y;\n                });\n                if (!targetRow) {\n                    feedbacks.push(new Feedback({\n                        taskKey: 'key_0',\n                        annotationKey: `raw.${i}`,\n                        comment: '   .'\n                    }));\n                } else if (isNaN(+x) ||\n                    Math.abs(+targetRow.value[targetXKey] - +x) > 0.2) {\n                    feedbacks.push(new Feedback({\n                        taskKey: 'key_0',\n                        annotationKey: `raw.${i}`,\n                        comment: '   .'\n                    }));\n                }\n            });\n        }\n\n        this.currReview = new Review({\n            path,\n            approved: feedbacks.length === 0,\n            feedbacks\n        });\n\n        return [feedbacks.length === 0, result];\n    }\n\n    private iou(a: number[], b: number[]) {\n        a[2] = Math.max(a[2], a[0]);\n        a[3] = Math.max(a[3], a[1]);\n        b[2] = Math.max(b[2], b[0]);\n        b[3] = Math.max(b[3], b[1]);\n        const rightX1 = Math.max(a[0], b[0]);\n        const leftX2 = Math.min(a[2], b[2]);\n        const topY2 = Math.min(a[3], b[3]);\n        const bottomY1 = Math.max(a[1], b[1]);\n\n        const inter = Math.max((leftX2 - rightX1), 0) *\n            Math.max((topY2 - bottomY1), 0);\n        const areaA = (a[2] - a[0]) * (a[3] - a[1]);\n        const areaB = (b[2] - b[0]) * (b[3] - b[1]);\n        return inter / (areaA + areaB - inter);\n    }\n\n}\n","export default \".validate-feedback {\\n  color: #f44336;\\n  font-size: 12px;\\n}\\n\\n::ng-deep rect.focused {\\n  stroke: #216141;\\n  stroke-width: 3px;\\n  fill: rgba(51, 153, 102, 0.4);\\n  fill-opacity: 0.3;\\n}\\n\\n::ng-deep rect.focused .handle {\\n  fill: #339966;\\n}\\n\\n::ng-deep circle.focused {\\n  fill: #339966;\\n  stroke: #339966;\\n}\\n\\n::ng-deep circle {\\n  cursor: crosshair;\\n}\\n\\n.w-20 {\\n  width: 20% !important;\\n}\\n\\n.w-15 {\\n  width: 15% !important;\\n}\\n\\n.w-10 {\\n  width: 10% !important;\\n}\\n\\n.focused {\\n  background-color: rgba(51, 153, 102, 0.4);\\n}\\n\\n.label-select {\\n  padding-left: 5px;\\n  width: 100%;\\n  border-radius: 4px;\\n  border: 1px solid #aaa;\\n}\\n\\n.table {\\n  max-height: 400px;\\n  overflow-y: scroll;\\n}\\n\\n.focus-box {\\n  cursor: pointer;\\n}\\n\\n.focus-box:not(.focused):hover {\\n  background-color: #EEE;\\n}\\n\\n.focus-box span {\\n  pointer-events: none;\\n}\\n\\n.close-button {\\n  position: absolute;\\n  right: 0px;\\n  top: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9DOlxcVXNlcnNcXGp1bmhvZVxcSENJTFxcZGV2XFxBdXRvdGF0b3JcXGNsaWVudC9zcmNcXGFwcFxcZWRpdFxcZWRpdC1tb2R1bGUuc2NzcyIsInNyYy9hcHAvZWRpdC9lZGl0LW1vZHVsZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtFQUNBLGVBQUE7QUNDSjs7QURHSTtFQUNJLGVBQUE7RUFDQSxpQkFBQTtFQUNBLDZCQUFBO0VBQ0EsaUJBQUE7QUNBUjs7QURFUTtFQUNJLGFBQUE7QUNBWjs7QURJSTtFQUNJLGFBQUE7RUFDQSxlQUFBO0FDRlI7O0FES0k7RUFDSSxpQkFBQTtBQ0hSOztBRE9BO0VBQ0kscUJBQUE7QUNKSjs7QURPQTtFQUNJLHFCQUFBO0FDSko7O0FET0E7RUFDSSxxQkFBQTtBQ0pKOztBRE9BO0VBQ0kseUNBQUE7QUNKSjs7QURPQTtFQUNJLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7QUNKSjs7QURPQTtFQUNJLGlCQUFBO0VBQ0Esa0JBQUE7QUNKSjs7QURPQTtFQU1JLGVBQUE7QUNUSjs7QURLSTtFQUNJLHNCQUFBO0FDSFI7O0FEUUk7RUFDSSxvQkFBQTtBQ05SOztBRFVBO0VBQ0ksa0JBQUE7RUFDQSxVQUFBO0VBQ0EsUUFBQTtBQ1BKIiwiZmlsZSI6InNyYy9hcHAvZWRpdC9lZGl0LW1vZHVsZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnZhbGlkYXRlLWZlZWRiYWNrIHtcclxuICAgIGNvbG9yOiAjZjQ0MzM2O1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG59XHJcblxyXG46Om5nLWRlZXAge1xyXG4gICAgcmVjdC5mb2N1c2VkIHtcclxuICAgICAgICBzdHJva2U6ICMyMTYxNDE7XHJcbiAgICAgICAgc3Ryb2tlLXdpZHRoOiAzcHg7XHJcbiAgICAgICAgZmlsbDogcmdiYSg1MSwgMTUzLCAxMDIsIDAuNCk7XHJcbiAgICAgICAgZmlsbC1vcGFjaXR5OiAwLjM7XHJcblxyXG4gICAgICAgIC5oYW5kbGUge1xyXG4gICAgICAgICAgICBmaWxsOiByZ2IoNTEsIDE1MywgMTAyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2lyY2xlLmZvY3VzZWQge1xyXG4gICAgICAgIGZpbGw6IHJnYig1MSwgMTUzLCAxMDIpO1xyXG4gICAgICAgIHN0cm9rZTogIzMzOTk2NjtcclxuICAgIH1cclxuXHJcbiAgICBjaXJjbGUge1xyXG4gICAgICAgIGN1cnNvcjogY3Jvc3NoYWlyO1xyXG4gICAgfVxyXG59XHJcblxyXG4udy0yMCB7XHJcbiAgICB3aWR0aDogMjAlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi53LTE1IHtcclxuICAgIHdpZHRoOiAxNSUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLnctMTAge1xyXG4gICAgd2lkdGg6IDEwJSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uZm9jdXNlZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDUxLCAxNTMsIDEwMiwgMC40KTtcclxufVxyXG5cclxuLmxhYmVsLXNlbGVjdCB7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDVweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2FhYTtcclxufVxyXG5cclxuLnRhYmxlIHtcclxuICAgIG1heC1oZWlnaHQ6IDQwMHB4O1xyXG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xyXG59XHJcblxyXG4uZm9jdXMtYm94IHtcclxuXHJcbiAgICAmOm5vdCguZm9jdXNlZCk6aG92ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNFRUU7XHJcbiAgICB9XHJcblxyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAgIHNwYW4ge1xyXG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xyXG4gICAgfVxyXG59XHJcblxyXG4uY2xvc2UtYnV0dG9uIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHJpZ2h0OiAwcHg7XHJcbiAgICB0b3A6IDBweDtcclxufVxyXG5cclxuIiwiLnZhbGlkYXRlLWZlZWRiYWNrIHtcbiAgY29sb3I6ICNmNDQzMzY7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuOjpuZy1kZWVwIHJlY3QuZm9jdXNlZCB7XG4gIHN0cm9rZTogIzIxNjE0MTtcbiAgc3Ryb2tlLXdpZHRoOiAzcHg7XG4gIGZpbGw6IHJnYmEoNTEsIDE1MywgMTAyLCAwLjQpO1xuICBmaWxsLW9wYWNpdHk6IDAuMztcbn1cbjo6bmctZGVlcCByZWN0LmZvY3VzZWQgLmhhbmRsZSB7XG4gIGZpbGw6ICMzMzk5NjY7XG59XG46Om5nLWRlZXAgY2lyY2xlLmZvY3VzZWQge1xuICBmaWxsOiAjMzM5OTY2O1xuICBzdHJva2U6ICMzMzk5NjY7XG59XG46Om5nLWRlZXAgY2lyY2xlIHtcbiAgY3Vyc29yOiBjcm9zc2hhaXI7XG59XG5cbi53LTIwIHtcbiAgd2lkdGg6IDIwJSAhaW1wb3J0YW50O1xufVxuXG4udy0xNSB7XG4gIHdpZHRoOiAxNSUgIWltcG9ydGFudDtcbn1cblxuLnctMTAge1xuICB3aWR0aDogMTAlICFpbXBvcnRhbnQ7XG59XG5cbi5mb2N1c2VkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg1MSwgMTUzLCAxMDIsIDAuNCk7XG59XG5cbi5sYWJlbC1zZWxlY3Qge1xuICBwYWRkaW5nLWxlZnQ6IDVweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2FhYTtcbn1cblxuLnRhYmxlIHtcbiAgbWF4LWhlaWdodDogNDAwcHg7XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbn1cblxuLmZvY3VzLWJveCB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbi5mb2N1cy1ib3g6bm90KC5mb2N1c2VkKTpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNFRUU7XG59XG4uZm9jdXMtYm94IHNwYW4ge1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLmNsb3NlLWJ1dHRvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDBweDtcbiAgdG9wOiAwcHg7XG59Il19 */\"","export default \"h3.selected {\\n  display: none;\\n}\\n\\n.right-panel {\\n  border-left: 2px solid #aaa;\\n}\\n\\n.edit-header {\\n  background-color: #fafafa;\\n  font-size: 1.3rem;\\n  color: rgba(0, 0, 0, 0.54);\\n}\\n\\n#image-zone {\\n  background-color: #CCC;\\n  overflow: hidden;\\n}\\n\\n#image-zone .desc {\\n  font-style: italic;\\n  font-weight: 700;\\n  font-size: 1.2rem;\\n}\\n\\nimg {\\n  max-width: 700px;\\n  max-height: 600px;\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n}\\n\\n::ng-deep circle.handle {\\n  cursor: crosshair;\\n}\\n\\n::ng-deep rect.handle {\\n  cursor: -webkit-grab;\\n  cursor: grab;\\n}\\n\\n::ng-deep .mat-radio-label-content {\\n  font-size: 14px;\\n}\\n\\n.image-region:not(.selected) {\\n  display: none;\\n}\\n\\n#side-nav {\\n  border-right: 2px solid #AAA;\\n  width: 15% !important;\\n}\\n\\nmat-radio-button {\\n  margin: 0 12px;\\n}\\n\\n.validate-feedback {\\n  color: #f44336;\\n  font-size: 12px;\\n}\\n\\n.form-label {\\n  width: 50px;\\n}\\n\\n.submit-section {\\n  background-color: white;\\n  height: 60px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9DOlxcVXNlcnNcXGp1bmhvZVxcSENJTFxcZGV2XFxBdXRvdGF0b3JcXGNsaWVudC9zcmNcXGFwcFxcZWRpdFxcZWRpdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvZWRpdC9lZGl0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtBQ0NKOztBREVBO0VBQ0ksMkJBQUE7QUNDSjs7QURDQTtFQUNJLHlCQUFBO0VBQ0EsaUJBQUE7RUFDQSwwQkFBQTtBQ0VKOztBRENBO0VBQ0ksc0JBQUE7RUFDQSxnQkFBQTtBQ0VKOztBREFJO0VBQ0ksa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FDRVI7O0FERUE7RUFDSSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0Esc0JBQUE7S0FBQSxtQkFBQTtBQ0NKOztBREdJO0VBQ0ksaUJBQUE7QUNBUjs7QURHSTtFQUNJLG9CQUFBO0VBQUEsWUFBQTtBQ0RSOztBRElJO0VBQ0ksZUFBQTtBQ0ZSOztBRE1BO0VBQ0ksYUFBQTtBQ0hKOztBRE1BO0VBQ0ksNEJBQUE7RUFDQSxxQkFBQTtBQ0hKOztBRE1BO0VBQ0ksY0FBQTtBQ0hKOztBRE9BO0VBQ0ksY0FBQTtFQUNBLGVBQUE7QUNKSjs7QURPQTtFQUNJLFdBQUE7QUNKSjs7QURPQTtFQUNJLHVCQUFBO0VBQ0EsWUFBQTtBQ0pKIiwiZmlsZSI6InNyYy9hcHAvZWRpdC9lZGl0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaDMuc2VsZWN0ZWQge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuLnJpZ2h0LXBhbmVsIHtcclxuICAgIGJvcmRlci1sZWZ0OiAycHggc29saWQgI2FhYTtcclxufVxyXG4uZWRpdC1oZWFkZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcclxuICAgIGZvbnQtc2l6ZTogMS4zcmVtO1xyXG4gICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41NCk7XHJcbn1cclxuXHJcbiNpbWFnZS16b25lIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNDQ0M7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG5cclxuICAgIC5kZXNjIHtcclxuICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICAgICAgICBmb250LXNpemU6IDEuMnJlbTtcclxuICAgIH1cclxufVxyXG5cclxuaW1nIHtcclxuICAgIG1heC13aWR0aDogNzAwcHg7XHJcbiAgICBtYXgtaGVpZ2h0OiA2MDBweDtcclxuICAgIG9iamVjdC1maXQ6IGNvbnRhaW47XHJcbn1cclxuXHJcbjo6bmctZGVlcCB7XHJcbiAgICBjaXJjbGUuaGFuZGxlIHtcclxuICAgICAgICBjdXJzb3I6IGNyb3NzaGFpcjtcclxuICAgIH1cclxuXHJcbiAgICByZWN0LmhhbmRsZSB7XHJcbiAgICAgICAgY3Vyc29yOiBncmFiO1xyXG4gICAgfVxyXG5cclxuICAgIC5tYXQtcmFkaW8tbGFiZWwtY29udGVudCB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4uaW1hZ2UtcmVnaW9uOm5vdCguc2VsZWN0ZWQpIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuXHJcbiNzaWRlLW5hdiB7XHJcbiAgICBib3JkZXItcmlnaHQ6IDJweCBzb2xpZCAjQUFBO1xyXG4gICAgd2lkdGg6IDE1JSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG5tYXQtcmFkaW8tYnV0dG9uIHtcclxuICAgIG1hcmdpbjogMCAxMnB4O1xyXG59XHJcblxyXG5cclxuLnZhbGlkYXRlLWZlZWRiYWNrIHtcclxuICAgIGNvbG9yOiAjZjQ0MzM2O1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG59XHJcblxyXG4uZm9ybS1sYWJlbCB7XHJcbiAgICB3aWR0aDogNTBweDtcclxufVxyXG5cclxuLnN1Ym1pdC1zZWN0aW9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgaGVpZ2h0OiA2MHB4O1xyXG59XHJcbiIsImgzLnNlbGVjdGVkIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuLnJpZ2h0LXBhbmVsIHtcbiAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAjYWFhO1xufVxuXG4uZWRpdC1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xuICBmb250LXNpemU6IDEuM3JlbTtcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41NCk7XG59XG5cbiNpbWFnZS16b25lIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0NDQztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbiNpbWFnZS16b25lIC5kZXNjIHtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xuICBmb250LXdlaWdodDogNzAwO1xuICBmb250LXNpemU6IDEuMnJlbTtcbn1cblxuaW1nIHtcbiAgbWF4LXdpZHRoOiA3MDBweDtcbiAgbWF4LWhlaWdodDogNjAwcHg7XG4gIG9iamVjdC1maXQ6IGNvbnRhaW47XG59XG5cbjo6bmctZGVlcCBjaXJjbGUuaGFuZGxlIHtcbiAgY3Vyc29yOiBjcm9zc2hhaXI7XG59XG46Om5nLWRlZXAgcmVjdC5oYW5kbGUge1xuICBjdXJzb3I6IGdyYWI7XG59XG46Om5nLWRlZXAgLm1hdC1yYWRpby1sYWJlbC1jb250ZW50IHtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4uaW1hZ2UtcmVnaW9uOm5vdCguc2VsZWN0ZWQpIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuI3NpZGUtbmF2IHtcbiAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQgI0FBQTtcbiAgd2lkdGg6IDE1JSAhaW1wb3J0YW50O1xufVxuXG5tYXQtcmFkaW8tYnV0dG9uIHtcbiAgbWFyZ2luOiAwIDEycHg7XG59XG5cbi52YWxpZGF0ZS1mZWVkYmFjayB7XG4gIGNvbG9yOiAjZjQ0MzM2O1xuICBmb250LXNpemU6IDEycHg7XG59XG5cbi5mb3JtLWxhYmVsIHtcbiAgd2lkdGg6IDUwcHg7XG59XG5cbi5zdWJtaXQtc2VjdGlvbiB7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBoZWlnaHQ6IDYwcHg7XG59Il19 */\"","import { Component, OnInit, ViewChild, ElementRef, HostListener, Renderer2 } from '@angular/core';\r\nimport { ImageElem, AnnotationMeta, AnnotatedImageData } from '../common/edit-data';\r\n\r\nimport * as d3 from 'd3';\r\nimport { EditService } from '../edit.service';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { SB, invertTransform, transform } from '../d3-utils';\r\nimport { NetworkService } from '../network.service';\r\nimport { Config } from '../common/config';\r\nimport { Subject } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\nimport { ConfigService } from '../config.service';\r\nimport { VerificationData } from '../common/verification-data';\r\nimport { DemoService } from './demo/demo.service';\r\nimport { TimerService } from './timer.service';\r\nimport { QuizService } from './demo/quiz.service';\r\n\r\nexport type EditMode = 'annotation' | 'verification' | 'revision';\r\n\r\n@Component({\r\n    selector: 'app-edit',\r\n    templateUrl: './edit.component.html',\r\n    styleUrls: ['./edit.component.scss']\r\n})\r\nexport class EditComponent implements OnInit {\r\n\r\n    @ViewChild('img', { static: true }) imgRef: ElementRef;\r\n    @ViewChild('imgZone', { static: true }) imgZoneRef: ElementRef;\r\n    @ViewChild('svg', { static: true }) svgRef: ElementRef;\r\n\r\n    public config: Config;\r\n    public mode: EditMode = 'verification';\r\n    public selectedImage: ImageElem;\r\n    public formGroup: FormGroup;\r\n    public verificationDatas: VerificationData[] = [];\r\n    public svgS: SB;\r\n    public eventSubject: Subject<string> = new Subject<string>();\r\n    public spacePressed = false;\r\n    public dragging = false;\r\n    public noImagesLeft = false;\r\n    public onImageLoad = false;\r\n\r\n    constructor(private edit: EditService,\r\n        private fb: FormBuilder,\r\n        private network: NetworkService,\r\n        private configService: ConfigService,\r\n        private router: Router,\r\n        private renderer: Renderer2,\r\n        private demo: DemoService,\r\n        private quiz: QuizService,\r\n        private timer: TimerService\r\n        ) { }\r\n\r\n    ngOnInit() {\r\n        if (!this.configService.userName) {\r\n            this.router.navigate(['/login']);\r\n            return;\r\n        }\r\n        this.svgS = d3.select(this.svgRef.nativeElement);\r\n        this.configService.configObservable\r\n            .subscribe(async (config: Config) => {\r\n                this.config = config;\r\n                this.formGroup = this.initFormGroup(this.config);\r\n                this.eventSubject.next('progress');\r\n                if (config.service !== 'normal') {\r\n                    this.mode = 'annotation';\r\n                }\r\n                switch (this.mode) {\r\n                    case 'annotation':\r\n                        await this.loadNextData();\r\n                        break;\r\n                    case 'verification':\r\n                        const elem = await this.network.getVerificationRandomElem();\r\n                        const result = await this.parseVerification(elem);\r\n                        if (!result) {\r\n                            await this.loadNextData();\r\n                        }\r\n                        break;\r\n                    default:\r\n                        break;\r\n            }\r\n        });\r\n\r\n        const imgElem = this.imgRef.nativeElement as HTMLImageElement;\r\n        this.edit.removeImage();\r\n        imgElem.addEventListener('load', () => {\r\n            const boundingBox = (this.imgRef.nativeElement as Element).getBoundingClientRect();\r\n            this.initSVG(boundingBox);\r\n            this.noImagesLeft = false;\r\n            this.onImageLoad = true;\r\n            this.timer.start();\r\n\r\n            const path = this.selectedImage.path;\r\n            this.network.getPrediction(path)\r\n                .then(predictData => {\r\n                    this.config.parsePrediction(predictData);\r\n                    if (this.mode === 'annotation') {\r\n                        this.eventSubject.next('predict');\r\n                    }\r\n                });\r\n\r\n            if (this.selectedImage.hasPrevAnnotation) {\r\n                const { meta } = this.selectedImage;\r\n                this.config.parsePrevAnnotation(this.formGroup,\r\n                                                meta.annotation,\r\n                                                this.fb);\r\n                this.eventSubject.next('review');\r\n            }\r\n        });\r\n\r\n        this.edit.imageSubject.asObservable().subscribe(image => {\r\n            this.formGroup = this.initFormGroup(this.config);\r\n            this.selectedImage = image;\r\n            const svg = this.svgRef.nativeElement as SVGElement;\r\n            this.renderer.setStyle(imgElem, 'transform', transform(1, 1, 0, 0));\r\n            this.renderer.setStyle(svg, 'transform', transform(1, 1, 0, 0));\r\n            if (!image) {\r\n                this.noImagesLeft = !!imgElem.src;\r\n                imgElem.src = '';\r\n                return;\r\n            }\r\n            imgElem.src = image.src;\r\n        });\r\n\r\n        this.edit.autoCompleteSubject.asObservable()\r\n            .subscribe(_ => {\r\n                if (this.mode === 'annotation') {\r\n                    this.eventSubject.next('predict');\r\n                }\r\n            });\r\n    }\r\n\r\n    async submit(event: Event) {\r\n        this.onImageLoad = false;\r\n        let elem: [AnnotatedImageData, Blob] = null;\r\n        switch (this.config.service) {\r\n            case 'quiz':\r\n                this.gradeQuiz();\r\n                return;\r\n            case 'demo':\r\n                if (this.mode === 'annotation') {\r\n                    elem = await this.demo.getVerificationElem();\r\n                }\r\n                break;\r\n            default:\r\n                await this.timer.sendResult(this.mode);\r\n                await this.network.submit(this.selectedImage,\r\n                                        this.formGroup,\r\n                                        this.config);\r\n                elem = await this.network.getVerificationRandomElem();\r\n                break;\r\n        }\r\n        if (!this.config.verification) {\r\n            await this.loadNextData();\r\n        } else {\r\n            const result = await this.parseVerification(elem);\r\n            if (!result) {\r\n                await this.loadNextData();\r\n            }\r\n        }\r\n    }\r\n\r\n    async onRemoveImage() {\r\n        this.timer.reset();\r\n        if (!this.config.verification) {\r\n            await this.loadNextData();\r\n        } else {\r\n            const elem = await this.network.getVerificationRandomElem();\r\n            const result = await this.parseVerification(elem);\r\n            if (!result) {\r\n                await this.loadNextData();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    onReviewSubmitted() {\r\n        this.onImageLoad = false;\r\n        if (this.config.service === 'normal') {\r\n            this.timer.sendResult(this.mode);\r\n        }\r\n        this.loadNextData();\r\n    }\r\n\r\n    private async loadNextData() {\r\n\r\n        await this.network.clearPending();\r\n        let elem: [AnnotationMeta, Blob] = null;\r\n        switch (this.config.service) {\r\n            case 'quiz':\r\n                elem = await this.quiz.getAnnotationElem();\r\n                break;\r\n            case 'demo':\r\n                elem = await this.demo.getAnnotationElem();\r\n                break;\r\n            default:\r\n                elem = await this.network.getRandomElem();\r\n                this.eventSubject.next('progress');\r\n                break;\r\n        }\r\n        if (elem) {\r\n            const [data, blob] = elem;\r\n            this.mode = data.annotation ? 'revision' : 'annotation';\r\n            this.edit.parseImage(blob, data.path, data);\r\n        } else {\r\n            this.edit.removeImage();\r\n            this.mode = 'annotation';\r\n        }\r\n    }\r\n\r\n    private gradeQuiz() {\r\n        const path = this.edit.image.path;\r\n        const [pass, annotation] = this.quiz\r\n            .grade(path, this.formGroup, this.config);\r\n        if (pass) {\r\n            console.log('pass!');\r\n        } else {\r\n            this.mode = 'revision';\r\n            const meta = new AnnotationMeta({\r\n                path,\r\n                feedbacks: [],\r\n                annotation\r\n            });\r\n            this.edit.parseImage(this.edit.image.blob, path, meta);\r\n        }\r\n    }\r\n\r\n    private async parseVerification(elem: [AnnotatedImageData, Blob]): Promise<boolean> {\r\n        if (elem) {\r\n            const [data, blob] = elem;\r\n            this.edit.parseImage(blob, data.path);\r\n            this.verificationDatas = this.config.parseVerificationData(data);\r\n            this.mode = 'verification';\r\n            return true;\r\n        } {\r\n            return false;\r\n            // TODO: Implement this\r\n        }\r\n    }\r\n\r\n    @HostListener('window:keyup', ['$event'])\r\n    onKey(event: KeyboardEvent) {\r\n        if (event.key === ' ') {\r\n            this.spacePressed = false;\r\n            event.stopImmediatePropagation();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    @HostListener('window:keydown', ['$event'])\r\n    onKeyDown(event: KeyboardEvent) {\r\n        if (event.key === ' ') {\r\n            this.spacePressed = true;\r\n        }\r\n    }\r\n\r\n    @HostListener('document:pointerdown', ['$event'])\r\n    pointerDown(event: PointerEvent) {\r\n        const svg = this.svgRef.nativeElement as SVGElement;\r\n        const svgRect = svg.getBoundingClientRect();\r\n        this.dragging = event.clientX < svgRect.right\r\n            && event.clientX > svgRect.left\r\n            && event.clientY < svgRect.bottom\r\n            && event.clientY > svgRect.top;\r\n    }\r\n\r\n    @HostListener('document:pointerup', ['$event'])\r\n    pointerUp() {\r\n        if (this.dragging) {\r\n            this.dragging = false;\r\n        }\r\n    }\r\n\r\n    @HostListener('document:pointermove', ['$event'])\r\n    pointerMove(event: PointerEvent) {\r\n        if (this.dragging && this.spacePressed) {\r\n            const img = this.imgRef.nativeElement as HTMLImageElement;\r\n            const svg = this.svgRef.nativeElement as SVGElement;\r\n            const { sx, sy, tx, ty } = invertTransform(img.style.transform);\r\n\r\n            const ntx = tx + event.movementX * (1 / sx);\r\n            const nty = ty + event.movementY * (1 / sy);\r\n            this.renderer.setStyle(img, 'transform', transform(\r\n                sx, sy, ntx, nty));\r\n            this.renderer.setStyle(svg, 'transform', transform(\r\n                sx, sy, ntx, nty));\r\n        }\r\n    }\r\n\r\n    @HostListener('mousewheel', ['$event'])\r\n    onImageScroll(event: WheelEvent) {\r\n        const img = this.imgRef.nativeElement as HTMLImageElement;\r\n        const svg = this.svgRef.nativeElement as SVGElement;\r\n        const { sx, sy, tx, ty } = invertTransform(img.style.transform);\r\n        if (this.cursorInRect(event)) {\r\n            const scaleDelta = event.deltaY < 0 ? 0.4 : -0.4;\r\n            const nScaleX = Math.min(5, Math.max(1, sx + scaleDelta));\r\n            const nScaleY = Math.min(5, Math.max(1, sy + scaleDelta));\r\n            const [ox, oy] = this.cursorOffset(event);\r\n            const nTranslateX = event.deltaY < 0\r\n                ? (tx * sx - (nScaleX / sx - 1) * (ox - tx * sx)) / nScaleX\r\n                : tx * (nScaleX - 1) / (sx - 1 + 0.001) * (sx / nScaleX);\r\n            const nTranslateY = event.deltaY < 0\r\n                ? (ty * sy - (nScaleY / sy - 1) * (oy - ty * sy)) / nScaleY\r\n                : ty * (nScaleY - 1) / (sy - 1 + 0.001) * (sy / nScaleY);\r\n            this.renderer.setStyle(img, 'transform', transform(\r\n                nScaleX, nScaleY, nTranslateX, nTranslateY));\r\n            this.renderer.setStyle(svg, 'transform', transform(\r\n                nScaleX, nScaleY, nTranslateX, nTranslateY));\r\n        }\r\n    }\r\n\r\n    private cursorInRect(event: WheelEvent): boolean {\r\n        const rect = this.imgZoneRef.nativeElement.getBoundingClientRect();\r\n        const x = event.clientX;\r\n        const y = event.clientY;\r\n        return x >= rect.left\r\n            && x <= rect.right\r\n            && y >= rect.top\r\n            && y <= rect.bottom;\r\n    }\r\n\r\n    private cursorOffset(event: WheelEvent): [number, number] {\r\n        const rect = this.imgZoneRef.nativeElement.getBoundingClientRect();\r\n        const rectCenter = {\r\n            x: rect.left + rect.width / 2,\r\n            y: rect.top + rect.height / 2\r\n        };\r\n        return [event.clientX - rectCenter.x, event.clientY - rectCenter.y];\r\n    }\r\n\r\n    initFormGroup(config: Config) {\r\n        const formGroup = this.fb.group({});\r\n        config.tasks.forEach(task => {\r\n            task.registerControl(formGroup, this.fb);\r\n        });\r\n        return formGroup;\r\n    }\r\n\r\n    private initSVG(boundingBox: ClientRect) {\r\n        this.svgS = d3.select(this.svgRef.nativeElement)\r\n            .attr('width', boundingBox.width + 20)\r\n            .attr('height', boundingBox.height + 20)\r\n            .attr('viewbox', `0 0 ${boundingBox.width + 20} ${boundingBox.height + 20}`)\r\n            .attr('pointer-events', 'visiblePoint');\r\n\r\n        this.svgS.select('.border').remove();\r\n\r\n        this.svgS.append('rect')\r\n            .attr('class', 'border')\r\n            .attr('width', boundingBox.width + 20)\r\n            .attr('height', boundingBox.height + 20)\r\n            .attr('viewbox', `0 0 ${boundingBox.width + 20} ${boundingBox.height + 20}`)\r\n            .attr('fill-opacity', 0)\r\n            .attr('stroke', '#777')\r\n            .attr('stroke-width', 2)\r\n            .attr('pointer-events', 'none');\r\n    }\r\n}\r\n","import { Directive, Output, EventEmitter, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[fileDrop]'\r\n})\r\nexport class FileDropDirective {\r\n\r\n    @Output() filesDropped = new EventEmitter<FileList>();\r\n    @Output() filesHovered = new EventEmitter<boolean>();\r\n\r\n    constructor() { }\r\n\r\n    @HostListener('drop', ['$event']) onDrop($event: DragEvent) {\r\n        $event.preventDefault();\r\n        this.filesDropped.emit($event.dataTransfer.files);\r\n        this.filesHovered.emit(false);\r\n    }\r\n\r\n    @HostListener('dragover', ['$event']) onDragOver($event: DragEvent) {\r\n        $event.preventDefault();\r\n        this.filesHovered.emit(true);\r\n    }\r\n\r\n    @HostListener('dragleave', ['$event']) onDragLeave($event: DragEvent) {\r\n        $event.preventDefault();\r\n        this.filesHovered.emit(false);\r\n    }\r\n}\r\n","export default \"button.selected {\\n  background-color: rgba(0, 0, 0, 0.04);\\n}\\n\\n.side-panel {\\n  padding: 0px 16px;\\n}\\n\\n.progress-info {\\n  font-size: 14px;\\n  color: rgba(0, 0, 0, 0.8);\\n}\\n\\n.progress-info span.annotated {\\n  color: rgba(123, 187, 45, 0.8);\\n}\\n\\n.progress-info span.ignored {\\n  color: rgba(0, 0, 0, 0.54);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9zaWRlLW5hdi9DOlxcVXNlcnNcXGp1bmhvZVxcSENJTFxcZGV2XFxBdXRvdGF0b3JcXGNsaWVudC9zcmNcXGFwcFxcZWRpdFxcc2lkZS1uYXZcXHNpZGUtbmF2LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9lZGl0L3NpZGUtbmF2L3NpZGUtbmF2LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUNBQUE7QUNDSjs7QURFQTtFQUNJLGlCQUFBO0FDQ0o7O0FERUE7RUFFSSxlQUFBO0VBQ0EseUJBQUE7QUNBSjs7QURDSTtFQUNJLDhCQUFBO0FDQ1I7O0FEQ0k7RUFDSSwwQkFBQTtBQ0NSIiwiZmlsZSI6InNyYy9hcHAvZWRpdC9zaWRlLW5hdi9zaWRlLW5hdi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImJ1dHRvbi5zZWxlY3RlZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMDQpO1xyXG59XHJcblxyXG4uc2lkZS1wYW5lbCB7XHJcbiAgICBwYWRkaW5nOiAwcHggMTZweDtcclxufVxyXG5cclxuLnByb2dyZXNzLWluZm8ge1xyXG5cclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuOCk7XHJcbiAgICBzcGFuLmFubm90YXRlZCB7XHJcbiAgICAgICAgY29sb3I6IHJnYmEoMTIzLCAxODcsIDQ1LCAwLjgpXHJcbiAgICB9XHJcbiAgICBzcGFuLmlnbm9yZWQge1xyXG4gICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNTQpO1xyXG4gICAgfVxyXG59XHJcbiIsImJ1dHRvbi5zZWxlY3RlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNCk7XG59XG5cbi5zaWRlLXBhbmVsIHtcbiAgcGFkZGluZzogMHB4IDE2cHg7XG59XG5cbi5wcm9ncmVzcy1pbmZvIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjgpO1xufVxuLnByb2dyZXNzLWluZm8gc3Bhbi5hbm5vdGF0ZWQge1xuICBjb2xvcjogcmdiYSgxMjMsIDE4NywgNDUsIDAuOCk7XG59XG4ucHJvZ3Jlc3MtaW5mbyBzcGFuLmlnbm9yZWQge1xuICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjU0KTtcbn0iXX0= */\"","import { Component, OnInit, Input, AfterViewInit, Output, EventEmitter } from '@angular/core';\r\nimport { EditService } from 'src/app/edit.service';\r\nimport { ImageElem, ModelInfo, Progress } from 'src/app/common/edit-data';\r\nimport { MatCheckboxChange } from '@angular/material';\r\n\r\nimport { NetworkService } from 'src/app/network.service';\r\nimport { Observable } from 'rxjs';\r\nimport { ConfigService } from 'src/app/config.service';\r\nimport { Config } from 'src/app/common/config';\r\n\r\n@Component({\r\n    selector: 'app-side-nav',\r\n    templateUrl: './side-nav.component.html',\r\n    styleUrls: ['./side-nav.component.scss']\r\n})\r\nexport class SideNavComponent implements OnInit, AfterViewInit {\r\n\r\n    @Input() event: Observable<string>;\r\n    public autoListShow = true;\r\n    public imageListShow = true;\r\n    public progress: Progress;\r\n    public modelInfos: ModelInfo[] = [];\r\n    public userName = '';\r\n    public config: Config;\r\n\r\n    @Output() remove = new EventEmitter<void>();\r\n\r\n    constructor(public edit: EditService,\r\n                private network: NetworkService,\r\n                private cs: ConfigService) { }\r\n\r\n    ngOnInit() {\r\n        this.updateModelInfo(true);\r\n        this.event.subscribe(key => {\r\n            if (key === 'progress') {\r\n                this.updateProgress();\r\n                this.updateModelInfo();\r\n            }\r\n        });\r\n\r\n        this.cs.configObservable.subscribe(config => {\r\n            this.config = config;\r\n        });\r\n\r\n        this.cs.userNameObservable.subscribe(name => {\r\n            this.userName = name;\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.updateProgress();\r\n    }\r\n\r\n    selectImage(image: ImageElem) {\r\n        this.edit.imageSubject.next(image);\r\n        this.updateModelInfo();\r\n    }\r\n\r\n    removeImage() {\r\n        this.edit.ignoreImage()\r\n            .then(_ => {\r\n                this.remove.emit();\r\n            });\r\n    }\r\n\r\n    // for debug\r\n    async getRandImage() {\r\n        const result = await this.network.getRandomElem();\r\n        if (result) {\r\n            const [meta, blob] = result;\r\n            this.edit.parseImage(blob, meta.path, meta);\r\n        } else {\r\n            this.edit.removeImage();\r\n        }\r\n    }\r\n\r\n    onChangeAutoComplete(change: MatCheckboxChange, modelInfo: ModelInfo) {\r\n        this.edit.updateAutoComplete(modelInfo, change.checked);\r\n    }\r\n\r\n    private updateProgress() {\r\n        this.network.getProgress()\r\n            .then(progress => {\r\n                this.progress = progress;\r\n            });\r\n    }\r\n\r\n    private updateModelInfo(init = false) {\r\n        this.network.getModelInfo()\r\n            .then(modelInfos => {\r\n                if (init) {\r\n                    this.modelInfos = modelInfos;\r\n                } else {\r\n                    modelInfos.forEach((newModelInfo, i) => {\r\n                        this.modelInfos[i].score = newModelInfo.score;\r\n                    });\r\n                }\r\n            });\r\n    }\r\n}\r\n","import { Injectable, NgZone } from '@angular/core';\nimport { NetworkService } from '../network.service';\nimport { EditMode } from './edit.component';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class TimerService {\n\n    private sec = 0;\n    private timer: NodeJS.Timer;\n    constructor(private network: NetworkService, private zone: NgZone) { }\n\n    start() {\n        this.reset();\n        this.zone.runOutsideAngular(() => {\n            this.timer = setInterval(() => {\n                this.sec += 1;\n            }, 1000);\n        });\n    }\n\n    reset() {\n        this.zone.runOutsideAngular(() => {\n            if (this.timer) {\n                clearInterval(this.timer);\n            }\n        });\n        this.sec = 0;\n    }\n\n    async sendResult(mode: EditMode) {\n        console.log('call this');\n        await this.network.sendElapsedTime(mode, this.sec);\n    }\n}\n","export default \":host {\\n  width: 100% !important;\\n}\\n\\n.wrapper.focused {\\n  background-color: rgba(51, 153, 102, 0.5);\\n}\\n\\n.wrapper:hover:not(.focused) {\\n  background-color: rgba(51, 153, 102, 0.3);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC92ZXJpZmljYXRpb24tbW9kdWxlL2ZlZWRiYWNrLWNhcmQvQzpcXFVzZXJzXFxqdW5ob2VcXEhDSUxcXGRldlxcQXV0b3RhdG9yXFxjbGllbnQvc3JjXFxhcHBcXGVkaXRcXHZlcmlmaWNhdGlvbi1tb2R1bGVcXGZlZWRiYWNrLWNhcmRcXGZlZWRiYWNrLWNhcmQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2VkaXQvdmVyaWZpY2F0aW9uLW1vZHVsZS9mZWVkYmFjay1jYXJkL2ZlZWRiYWNrLWNhcmQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxzQkFBQTtBQ0NKOztBRElJO0VBQ0kseUNBQUE7QUNEUjs7QURJSTtFQUNJLHlDQUFBO0FDRlIiLCJmaWxlIjoic3JjL2FwcC9lZGl0L3ZlcmlmaWNhdGlvbi1tb2R1bGUvZmVlZGJhY2stY2FyZC9mZWVkYmFjay1jYXJkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLndyYXBwZXIge1xyXG5cclxuICAgICYuZm9jdXNlZCB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg1MSwgMTUzLCAxMDIsIDAuNSk7XHJcbiAgICB9XHJcblxyXG4gICAgJjpob3Zlcjpub3QoLmZvY3VzZWQpIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDUxLCAxNTMsIDEwMiwgMC4zKTtcclxuICAgIH1cclxufVxyXG4iLCI6aG9zdCB7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG59XG5cbi53cmFwcGVyLmZvY3VzZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDUxLCAxNTMsIDEwMiwgMC41KTtcbn1cbi53cmFwcGVyOmhvdmVyOm5vdCguZm9jdXNlZCkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDUxLCAxNTMsIDEwMiwgMC4zKTtcbn0iXX0= */\"","import { Component, OnInit, Input, EventEmitter, Output, OnChanges } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { MatCheckboxChange } from '@angular/material';\r\nimport { Feedback } from 'src/app/common/verification-data';\r\n\r\n@Component({\r\n    selector: 'app-feedback-card',\r\n    templateUrl: './feedback-card.component.html',\r\n    styleUrls: ['./feedback-card.component.scss']\r\n})\r\nexport class FeedbackCardComponent implements OnInit {\r\n\r\n    @Input() form: FormGroup;\r\n    @Input() focusedKey: string;\r\n    @Input() readonly comments: string[];\r\n\r\n    @Output() remove = new EventEmitter<FormGroup>();\r\n    @Output() focus = new EventEmitter<string>();\r\n\r\n    public directInput = false;\r\n    public feedback: Feedback;\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit() {\r\n        this.feedback = Feedback.from(this.form);\r\n    }\r\n\r\n    checkWriteMode(change: MatCheckboxChange) {\r\n        this.directInput = change.checked;\r\n        if (this.directInput) {\r\n            this.form.get('comment').setValue('');\r\n        } else {\r\n            this.form.get('comment').setValue(this.comments[0]);\r\n        }\r\n    }\r\n\r\n    onFocus() {\r\n        this.focus.emit(this.focusedKey === this.feedback.key\r\n            ? null\r\n            : this.feedback.key);\r\n    }\r\n}\r\n","export * from './v-classification/v-classification.component';\r\nexport * from './v-overall/v-overall.component';\r\nexport * from './verification-module.component';\r\n","export default \".label-button.selected {\\n  background-color: #3f51b5;\\n  color: #fff;\\n}\\n\\n.label-button:not(.selected) {\\n  background-color: #eee;\\n  color: #777;\\n}\\n\\n.mat-icon-button {\\n  width: 24px;\\n  height: 24px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC92ZXJpZmljYXRpb24tbW9kdWxlL3YtY2xhc3NpZmljYXRpb24vQzpcXFVzZXJzXFxqdW5ob2VcXEhDSUxcXGRldlxcQXV0b3RhdG9yXFxjbGllbnQvc3JjXFxhcHBcXGVkaXRcXHZlcmlmaWNhdGlvbi1tb2R1bGVcXHYtY2xhc3NpZmljYXRpb25cXHYtY2xhc3NpZmljYXRpb24uY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2VkaXQvdmVyaWZpY2F0aW9uLW1vZHVsZS92LWNsYXNzaWZpY2F0aW9uL3YtY2xhc3NpZmljYXRpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx5QkFBQTtFQUNBLFdBQUE7QUNDSjs7QURFQTtFQUNJLHNCQUFBO0VBQ0EsV0FBQTtBQ0NKOztBREVBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2VkaXQvdmVyaWZpY2F0aW9uLW1vZHVsZS92LWNsYXNzaWZpY2F0aW9uL3YtY2xhc3NpZmljYXRpb24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGFiZWwtYnV0dG9uLnNlbGVjdGVkIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzZjUxYjU7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxufVxyXG5cclxuLmxhYmVsLWJ1dHRvbjpub3QoLnNlbGVjdGVkKSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xyXG4gICAgY29sb3I6ICM3Nzc7XHJcbn1cclxuXHJcbi5tYXQtaWNvbi1idXR0b24ge1xyXG4gICAgd2lkdGg6IDI0cHg7XHJcbiAgICBoZWlnaHQ6IDI0cHg7XHJcbn1cclxuIiwiLmxhYmVsLWJ1dHRvbi5zZWxlY3RlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzZjUxYjU7XG4gIGNvbG9yOiAjZmZmO1xufVxuXG4ubGFiZWwtYnV0dG9uOm5vdCguc2VsZWN0ZWQpIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbiAgY29sb3I6ICM3Nzc7XG59XG5cbi5tYXQtaWNvbi1idXR0b24ge1xuICB3aWR0aDogMjRweDtcbiAgaGVpZ2h0OiAyNHB4O1xufSJdfQ== */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { VClassificationData, Feedback } from 'src/app/common/verification-data';\r\nimport { Classification } from 'src/app/common/task';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-v-classification',\r\n    templateUrl: './v-classification.component.html',\r\n    styleUrls: [\r\n        './v-classification.component.scss',\r\n        '../verification-module.component.scss'\r\n    ]\r\n})\r\nexport class VClassificationComponent implements OnInit {\r\n\r\n    @Input() task: Classification;\r\n    @Input() data: VClassificationData;\r\n\r\n    @Output() addFeedback: EventEmitter<FormGroup> = new EventEmitter();\r\n    @Output() removeFeedback: EventEmitter<FormGroup> = new EventEmitter();\r\n\r\n    public feedbackForm: FormGroup;\r\n\r\n    constructor(private fb: FormBuilder) { }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    remove() {\r\n        this.removeFeedback.emit(this.feedbackForm);\r\n        this.feedbackForm = null;\r\n    }\r\n\r\n    clickLabelButton(label: string) {\r\n        if (label === this.data.label) {\r\n            this.update(`Label [${label}] might not be selected`);\r\n        } else {\r\n            this.update(`Label [${label}] might be selected`);\r\n        }\r\n    }\r\n\r\n    update(comment: string) {\r\n        if (this.feedbackForm) {\r\n            this.feedbackForm.get('comment').setValue(comment);\r\n        } else {\r\n            this.feedbackForm = this.fb.group({\r\n                taskKey: this.task.key,\r\n                annotationKey: 'label',\r\n                comment: this.fb.control(comment)\r\n            });\r\n            this.addFeedback.emit(this.feedbackForm);\r\n        }\r\n    }\r\n}\r\n","export default \":host {\\n  width: 100% !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC92ZXJpZmljYXRpb24tbW9kdWxlL3Ytb3ZlcmFsbC9heGlzLXNwZWMtY2FyZC9DOlxcVXNlcnNcXGp1bmhvZVxcSENJTFxcZGV2XFxBdXRvdGF0b3JcXGNsaWVudC9zcmNcXGFwcFxcZWRpdFxcdmVyaWZpY2F0aW9uLW1vZHVsZVxcdi1vdmVyYWxsXFxheGlzLXNwZWMtY2FyZFxcYXhpcy1zcGVjLWNhcmQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2VkaXQvdmVyaWZpY2F0aW9uLW1vZHVsZS92LW92ZXJhbGwvYXhpcy1zcGVjLWNhcmQvYXhpcy1zcGVjLWNhcmQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxzQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvZWRpdC92ZXJpZmljYXRpb24tbW9kdWxlL3Ytb3ZlcmFsbC9heGlzLXNwZWMtY2FyZC9heGlzLXNwZWMtY2FyZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcblxyXG4iLCI6aG9zdCB7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\r\nimport { AxisAnnotation, KV } from 'src/app/common/verification-data';\r\n\r\n@Component({\r\n    selector: 'app-axis-spec-card',\r\n    templateUrl: './axis-spec-card.component.html',\r\n    styleUrls: [\r\n        './axis-spec-card.component.scss',\r\n        '../v-overall.component.scss'\r\n    ]\r\n})\r\nexport class AxisSpecCardComponent implements OnInit {\r\n\r\n    @Input() data: AxisAnnotation;\r\n    @Input() index: number;\r\n    @Input() focusedKey: string;\r\n    @Output() focus = new EventEmitter<string>();\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit() { }\r\n\r\n    emit(el: KV<any>) {\r\n        this.focus.emit(el.key);\r\n    }\r\n\r\n    get labels(): string {\r\n        if (this.data && this.data.labels.value.length > 0) {\r\n            return this.data.labels.value.join(', ');\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    get markLabels(): string {\r\n        if (this.data &&\r\n            this.data.markLabels &&\r\n            this.data.markLabels.value.length > 0) {\r\n            return this.data.markLabels.value.join(', ');\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n}\r\n","export default \":host {\\n  width: 100% !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC92ZXJpZmljYXRpb24tbW9kdWxlL3Ytb3ZlcmFsbC9jdXN0b20tc3BlYy1jYXJkL0M6XFxVc2Vyc1xcanVuaG9lXFxIQ0lMXFxkZXZcXEF1dG90YXRvclxcY2xpZW50L3NyY1xcYXBwXFxlZGl0XFx2ZXJpZmljYXRpb24tbW9kdWxlXFx2LW92ZXJhbGxcXGN1c3RvbS1zcGVjLWNhcmRcXGN1c3RvbS1zcGVjLWNhcmQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2VkaXQvdmVyaWZpY2F0aW9uLW1vZHVsZS92LW92ZXJhbGwvY3VzdG9tLXNwZWMtY2FyZC9jdXN0b20tc3BlYy1jYXJkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksc0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2VkaXQvdmVyaWZpY2F0aW9uLW1vZHVsZS92LW92ZXJhbGwvY3VzdG9tLXNwZWMtY2FyZC9jdXN0b20tc3BlYy1jYXJkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxufVxyXG4iLCI6aG9zdCB7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { CustomAnnotation, KV } from 'src/app/common/verification-data';\r\n\r\n@Component({\r\n    selector: 'app-custom-spec-card',\r\n    templateUrl: './custom-spec-card.component.html',\r\n    styleUrls: [\r\n        './custom-spec-card.component.scss',\r\n        '../v-overall.component.scss'\r\n    ]\r\n})\r\nexport class CustomSpecCardComponent implements OnInit {\r\n\r\n    @Input() data: CustomAnnotation;\r\n    @Input() index: number;\r\n    @Input() focusedKey: string;\r\n    @Output() focus = new EventEmitter<string>();\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit() { }\r\n\r\n    emit(el: KV<any>) {\r\n        this.focus.emit(el.key);\r\n    }\r\n\r\n    get markLabels(): string {\r\n        if (this.data && this.data.markLabels.value.length > 0) {\r\n            return this.data.markLabels.value.join(', ');\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n}\r\n","export default \":host {\\n  width: 100% !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC92ZXJpZmljYXRpb24tbW9kdWxlL3Ytb3ZlcmFsbC9sZWdlbmQtc3BlYy1jYXJkL0M6XFxVc2Vyc1xcanVuaG9lXFxIQ0lMXFxkZXZcXEF1dG90YXRvclxcY2xpZW50L3NyY1xcYXBwXFxlZGl0XFx2ZXJpZmljYXRpb24tbW9kdWxlXFx2LW92ZXJhbGxcXGxlZ2VuZC1zcGVjLWNhcmRcXGxlZ2VuZC1zcGVjLWNhcmQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2VkaXQvdmVyaWZpY2F0aW9uLW1vZHVsZS92LW92ZXJhbGwvbGVnZW5kLXNwZWMtY2FyZC9sZWdlbmQtc3BlYy1jYXJkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksc0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2VkaXQvdmVyaWZpY2F0aW9uLW1vZHVsZS92LW92ZXJhbGwvbGVnZW5kLXNwZWMtY2FyZC9sZWdlbmQtc3BlYy1jYXJkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxufVxyXG4iLCI6aG9zdCB7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { LegendAnnotation, KV } from 'src/app/common/verification-data';\r\n\r\n@Component({\r\n    selector: 'app-legend-spec-card',\r\n    templateUrl: './legend-spec-card.component.html',\r\n    styleUrls: [\r\n        './legend-spec-card.component.scss',\r\n        '../v-overall.component.scss'\r\n    ]\r\n})\r\nexport class LegendSpecCardComponent implements OnInit {\r\n\r\n    @Input() data: LegendAnnotation;\r\n    @Input() focusedKey: string;\r\n    @Output() focus = new EventEmitter<string>();\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    ngOnInit() { }\r\n\r\n    emit(el: KV<any>) {\r\n        this.focus.emit(el.key);\r\n    }\r\n\r\n    get labels(): string {\r\n        if (this.data && this.data.labels.value.length > 0) {\r\n            return this.data.labels.value.join(', ');\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n}\r\n","export default \".wrapper {\\n  max-height: 600px;\\n  overflow-y: scroll;\\n}\\n\\n.mark-label {\\n  border-radius: 5px;\\n  border: 2px solid #777;\\n  padding: 0 0.3rem;\\n  margin-top: 0.5rem;\\n  cursor: pointer;\\n}\\n\\n.mark-label:hover {\\n  background-color: rgba(51, 153, 102, 0.7);\\n}\\n\\n.mark-label.focused {\\n  background-color: #339966;\\n}\\n\\n.text-label {\\n  padding: 0.2rem 0rem;\\n  cursor: pointer;\\n}\\n\\n.text-label:hover {\\n  background-color: rgba(51, 153, 102, 0.7);\\n}\\n\\n.text-label.focused {\\n  background-color: #339966;\\n}\\n\\n.text-label > .label-cell {\\n  width: 160px !important;\\n}\\n\\n.text-label.title {\\n  color: #777;\\n  font-weight: 600;\\n}\\n\\n.text-label.odd-row:not(:hover):not(.focused) {\\n  background-color: #eee;\\n}\\n\\n.spec-table {\\n  border-top: 1px solid #bbb;\\n}\\n\\n.raw-table {\\n  overflow-x: auto;\\n}\\n\\n.cell-title {\\n  color: #777;\\n  font-weight: 600;\\n  background-color: #eee;\\n  text-align: center;\\n}\\n\\n.focus-unit {\\n  display: -webkit-box;\\n  display: flex;\\n  border-bottom: 1px solid #bbb;\\n  cursor: pointer;\\n}\\n\\n.focus-unit.focused > .cell-title {\\n  background-color: #26734d !important;\\n}\\n\\n.focus-unit.focused > div {\\n  background-color: #339966 !important;\\n  color: white;\\n}\\n\\n.focus-unit:hover:not(.focused) > .cell-title {\\n  background-color: rgba(38, 115, 77, 0.7) !important;\\n}\\n\\n.focus-unit:hover:not(.focused) > div {\\n  background-color: rgba(51, 153, 102, 0.7) !important;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC92ZXJpZmljYXRpb24tbW9kdWxlL3Ytb3ZlcmFsbC9DOlxcVXNlcnNcXGp1bmhvZVxcSENJTFxcZGV2XFxBdXRvdGF0b3JcXGNsaWVudC9zcmNcXGFwcFxcZWRpdFxcdmVyaWZpY2F0aW9uLW1vZHVsZVxcdi1vdmVyYWxsXFx2LW92ZXJhbGwuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2VkaXQvdmVyaWZpY2F0aW9uLW1vZHVsZS92LW92ZXJhbGwvdi1vdmVyYWxsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksaUJBQUE7RUFDQSxrQkFBQTtBQ0NKOztBREVBO0VBQ0ksa0JBQUE7RUFDQSxzQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0FDQ0o7O0FEQ0k7RUFDSSx5Q0FBQTtBQ0NSOztBREVJO0VBQ0kseUJBQUE7QUNBUjs7QURJQTtFQUNJLG9CQUFBO0VBQ0EsZUFBQTtBQ0RKOztBREdJO0VBQ0kseUNBQUE7QUNEUjs7QURJSTtFQUNJLHlCQUFBO0FDRlI7O0FES0k7RUFDSSx1QkFBQTtBQ0hSOztBRE1JO0VBQ0ksV0FBQTtFQUNBLGdCQUFBO0FDSlI7O0FET0k7RUFDSSxzQkFBQTtBQ0xSOztBRFVBO0VBQ0ksMEJBQUE7QUNQSjs7QURVQTtFQUNJLGdCQUFBO0FDUEo7O0FEVUE7RUFDSSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0FDUEo7O0FEVUE7RUFFSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSw2QkFBQTtFQUNBLGVBQUE7QUNSSjs7QURXUTtFQUNJLG9DQUFBO0FDVFo7O0FEWVE7RUFDSSxvQ0FBQTtFQUNBLFlBQUE7QUNWWjs7QURnQlE7RUFDSSxtREFBQTtBQ2RaOztBRGlCUTtFQUNJLG9EQUFBO0VBQ0EsWUFBQTtBQ2ZaIiwiZmlsZSI6InNyYy9hcHAvZWRpdC92ZXJpZmljYXRpb24tbW9kdWxlL3Ytb3ZlcmFsbC92LW92ZXJhbGwuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIud3JhcHBlciB7XHJcbiAgICBtYXgtaGVpZ2h0OiA2MDBweDtcclxuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcclxufVxyXG5cclxuLm1hcmstbGFiZWwge1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgIzc3NztcclxuICAgIHBhZGRpbmc6IDAgMC4zcmVtO1xyXG4gICAgbWFyZ2luLXRvcDogMC41cmVtO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAgICY6aG92ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNTEsIDE1MywgMTAyLCAwLjcpO1xyXG4gICAgfVxyXG5cclxuICAgICYuZm9jdXNlZCB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDUxLCAxNTMsIDEwMik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi50ZXh0LWxhYmVsIHtcclxuICAgIHBhZGRpbmc6IDAuMnJlbSAwcmVtO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAgICY6aG92ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNTEsIDE1MywgMTAyLCAwLjcpO1xyXG4gICAgfVxyXG5cclxuICAgICYuZm9jdXNlZCB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDUxLCAxNTMsIDEwMik7XHJcbiAgICB9XHJcblxyXG4gICAgJiA+IC5sYWJlbC1jZWxsIHtcclxuICAgICAgICB3aWR0aDogMTYwcHggIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAmLnRpdGxlIHtcclxuICAgICAgICBjb2xvcjogIzc3NztcclxuICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgfVxyXG5cclxuICAgICYub2RkLXJvdzpub3QoOmhvdmVyKTpub3QoLmZvY3VzZWQpIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLnNwZWMtdGFibGUge1xyXG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNiYmI7XHJcbn1cclxuXHJcbi5yYXctdGFibGUge1xyXG4gICAgb3ZlcmZsb3cteDogYXV0bztcclxufVxyXG5cclxuLmNlbGwtdGl0bGUge1xyXG4gICAgY29sb3I6ICM3Nzc7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmZvY3VzLXVuaXQge1xyXG5cclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2JiYjtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICYuZm9jdXNlZCB7XHJcblxyXG4gICAgICAgID4gLmNlbGwtdGl0bGUge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDM4LCAxMTUsIDc3LCAxKSAhaW1wb3J0YW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgPiBkaXYge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNTEsIDE1MywgMTAyKSAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICY6aG92ZXI6bm90KC5mb2N1c2VkKSB7XHJcblxyXG4gICAgICAgID4gLmNlbGwtdGl0bGUge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDM4LCAxMTUsIDc3LCAwLjcpICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICA+IGRpdiB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNTEsIDE1MywgMTAyLCAwLjcpICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLndyYXBwZXIge1xuICBtYXgtaGVpZ2h0OiA2MDBweDtcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xufVxuXG4ubWFyay1sYWJlbCB7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgYm9yZGVyOiAycHggc29saWQgIzc3NztcbiAgcGFkZGluZzogMCAwLjNyZW07XG4gIG1hcmdpbi10b3A6IDAuNXJlbTtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuLm1hcmstbGFiZWw6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDUxLCAxNTMsIDEwMiwgMC43KTtcbn1cbi5tYXJrLWxhYmVsLmZvY3VzZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzM5OTY2O1xufVxuXG4udGV4dC1sYWJlbCB7XG4gIHBhZGRpbmc6IDAuMnJlbSAwcmVtO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG4udGV4dC1sYWJlbDpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNTEsIDE1MywgMTAyLCAwLjcpO1xufVxuLnRleHQtbGFiZWwuZm9jdXNlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzk5NjY7XG59XG4udGV4dC1sYWJlbCA+IC5sYWJlbC1jZWxsIHtcbiAgd2lkdGg6IDE2MHB4ICFpbXBvcnRhbnQ7XG59XG4udGV4dC1sYWJlbC50aXRsZSB7XG4gIGNvbG9yOiAjNzc3O1xuICBmb250LXdlaWdodDogNjAwO1xufVxuLnRleHQtbGFiZWwub2RkLXJvdzpub3QoOmhvdmVyKTpub3QoLmZvY3VzZWQpIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbn1cblxuLnNwZWMtdGFibGUge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgI2JiYjtcbn1cblxuLnJhdy10YWJsZSB7XG4gIG92ZXJmbG93LXg6IGF1dG87XG59XG5cbi5jZWxsLXRpdGxlIHtcbiAgY29sb3I6ICM3Nzc7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmZvY3VzLXVuaXQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2JiYjtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuLmZvY3VzLXVuaXQuZm9jdXNlZCA+IC5jZWxsLXRpdGxlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzI2NzM0ZCAhaW1wb3J0YW50O1xufVxuLmZvY3VzLXVuaXQuZm9jdXNlZCA+IGRpdiB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzk5NjYgIWltcG9ydGFudDtcbiAgY29sb3I6IHdoaXRlO1xufVxuLmZvY3VzLXVuaXQ6aG92ZXI6bm90KC5mb2N1c2VkKSA+IC5jZWxsLXRpdGxlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgzOCwgMTE1LCA3NywgMC43KSAhaW1wb3J0YW50O1xufVxuLmZvY3VzLXVuaXQ6aG92ZXI6bm90KC5mb2N1c2VkKSA+IGRpdiB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNTEsIDE1MywgMTAyLCAwLjcpICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiB3aGl0ZTtcbn0iXX0= */\"","import { Component, OnInit, Input, Output, EventEmitter, ElementRef, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { Overall } from 'src/app/common/task';\r\nimport { VOverallData, TextAnnotation, MarkAnnotation, KV } from 'src/app/common/verification-data';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { SA } from 'src/app/d3-utils';\r\n\r\nimport * as d3 from 'd3';\r\n\r\n@Component({\r\n    selector: 'app-v-overall',\r\n    templateUrl: './v-overall.component.html',\r\n    styleUrls: [\r\n        './v-overall.component.scss',\r\n        '../../edit-module.scss'\r\n    ]\r\n})\r\nexport class VOverallComponent implements OnInit, OnChanges {\r\n\r\n    @Input() task: Overall;\r\n    @Input() data: VOverallData;\r\n    @Input() onImageLoad: boolean;\r\n    @Input() imgRef: ElementRef;\r\n    @Input() svgS: SA;\r\n    @Input() focusedKey: string;\r\n\r\n    @Output() add: EventEmitter<FormGroup> = new EventEmitter();\r\n    @Output() remove: EventEmitter<FormGroup> = new EventEmitter();\r\n    @Output() focus: EventEmitter<string> = new EventEmitter();\r\n\r\n    public readonly markComments = [\r\n        'Refine the bound',\r\n        'Remove this',\r\n        'Add one more box'\r\n    ];\r\n\r\n    public readonly textComments = [\r\n        'Refine the bound',\r\n        'Remove this',\r\n        'Change the label',\r\n        'Change the text',\r\n        'Add one more box'\r\n    ];\r\n\r\n    public readonly specComments = [\r\n        'Check this value'\r\n    ];\r\n\r\n    public readonly rawComments = [\r\n        'Check this row',\r\n        'Remove this',\r\n        'Add one more row'\r\n    ];\r\n\r\n    public markFeedbacks: FormGroup[] = [];\r\n    public textFeedbacks: FormGroup[] = [];\r\n    public specFeedbacks: FormGroup[] = [];\r\n    public rawFeedbacks: FormGroup[] = [];\r\n\r\n    constructor(private fb: FormBuilder) { }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if ((changes.data &&\r\n            changes.data.currentValue !== undefined &&\r\n            this.onImageLoad)\r\n            ||\r\n            (changes.onImageLoad &&\r\n             changes.onImageLoad.currentValue !== false &&\r\n             this.data !== undefined)) {\r\n            this.initEventArea();\r\n            this.initMarks();\r\n            this.initTexts();\r\n        }\r\n\r\n        if (changes.focusedKey) {\r\n            const key = changes.focusedKey.currentValue;\r\n            if (key) {\r\n                this.updateFocus(key);\r\n            }\r\n        }\r\n    }\r\n\r\n    clickCell(cellKey: string) {\r\n        const key = this.focusedKey === cellKey ? null : cellKey;\r\n        this.focus.emit(key);\r\n    }\r\n\r\n    clickMark(mark: MarkAnnotation) {\r\n        const key = this.focusedKey === mark.key ? null : mark.key;\r\n        this.focus.emit(key);\r\n    }\r\n\r\n    clickText(text: TextAnnotation) {\r\n        const key = this.focusedKey === text.key ? null : text.key;\r\n        this.focus.emit(key);\r\n    }\r\n\r\n    clickRow(row: KV<any>) {\r\n        const key = this.focusedKey === row.key ? null : row.key;\r\n        this.focus.emit(key);\r\n    }\r\n\r\n    addMarkFeedback() {\r\n        const markIndex = this.data.marks\r\n            .findIndex(mark => mark.key === this.focusedKey);\r\n        const numOtherFeedback = this.markFeedbacks\r\n            .filter(d => d.get('annotationKey').value.startsWith('mark.other'))\r\n            .length;\r\n        const newGroup = this.fb.group({\r\n            taskKey: this.task.key,\r\n            annotationKey: `mark.${markIndex !== -1\r\n                ? markIndex\r\n                : `other.${numOtherFeedback}`}`,\r\n            comment: this.markComments[0]\r\n        });\r\n        this.markFeedbacks.push(newGroup);\r\n        this.add.emit(newGroup);\r\n    }\r\n\r\n    removeMarkFeedback(form: FormGroup) {\r\n        const index = this.markFeedbacks.findIndex(f => f === form);\r\n        this.markFeedbacks.splice(index, 1);\r\n        this.remove.emit(form);\r\n    }\r\n\r\n    addTextFeedback() {\r\n        const textIndex = this.data.texts\r\n            .findIndex(text => text.key === this.focusedKey);\r\n\r\n        const numOtherFeedback = this.textFeedbacks\r\n            .filter(d => d.get('annotationKey').value.startsWith('text.other'))\r\n            .length;\r\n        const newGroup = this.fb.group({\r\n            taskKey: this.task.key,\r\n            annotationKey: `text.${textIndex !== -1\r\n                ? textIndex\r\n                : `other.${numOtherFeedback}`}`,\r\n            comment: this.textComments[0]\r\n        });\r\n        this.textFeedbacks.push(newGroup);\r\n        this.add.emit(newGroup);\r\n    }\r\n\r\n    removeTextFeedback(form: FormGroup) {\r\n        const index = this.textFeedbacks.findIndex(f => f === form);\r\n        this.textFeedbacks.splice(index, 1);\r\n        this.remove.emit(form);\r\n    }\r\n\r\n    addSpecFeedback() {\r\n        const contain = this.data.spec.contains(this.focusedKey);\r\n        const numOtherFeedback = this.specFeedbacks\r\n            .filter(d => d.get('annotationKey').value.startsWith('spec.other'))\r\n            .length;\r\n\r\n        const newGroup = this.fb.group({\r\n            taskKey: this.task.key,\r\n            annotationKey: contain\r\n                ? this.focusedKey.substring(this.task.key.length + 1)\r\n                : `spec.other.${numOtherFeedback}`,\r\n            comment: this.specComments[0]\r\n        });\r\n        this.specFeedbacks.push(newGroup);\r\n        this.add.emit(newGroup);\r\n    }\r\n\r\n    removeSpecFeedback(form: FormGroup) {\r\n        const index = this.specFeedbacks.findIndex(f => f === form);\r\n        this.specFeedbacks.splice(index, 1);\r\n        this.remove.emit(form);\r\n    }\r\n\r\n    addRawFeedback() {\r\n        const contain = this.data.raw.contains(this.focusedKey);\r\n        const numOtherFeedback = this.rawFeedbacks\r\n            .filter(d => d.get('annotationKey').value.startsWith('raw.other'))\r\n            .length;\r\n        const newGroup = this.fb.group({\r\n            taskKey: this.task.key,\r\n            annotationKey: contain\r\n                ? this.focusedKey.substring(this.task.key.length + 1)\r\n                : `raw.other.${numOtherFeedback}`,\r\n            comment: this.rawComments[0]\r\n        });\r\n        this.rawFeedbacks.push(newGroup);\r\n        this.add.emit(newGroup);\r\n    }\r\n\r\n    removeRawFeedback(form: FormGroup) {\r\n        const index = this.rawFeedbacks.findIndex(f => f === form);\r\n        this.rawFeedbacks.splice(index, 1);\r\n        this.remove.emit(form);\r\n    }\r\n\r\n    private initEventArea() {\r\n        this.svgS.selectAll('g').remove();\r\n        const horLine = this.svgS.append('line')\r\n            .attr('class', 'guide-horizontal')\r\n            .attr('x1', 0)\r\n            .attr('x2', 1000)\r\n            .attr('y1', 0)\r\n            .attr('y2', 0)\r\n            .attr('stroke-width', 1)\r\n            .attr('stroke', 'rgba(0, 0, 0, 0.3)')\r\n            .style('pointer-events', 'none');\r\n\r\n        const verLine = this.svgS.append('line')\r\n            .attr('class', 'guide-vertical')\r\n            .attr('y1', 0)\r\n            .attr('y2', 1000)\r\n            .attr('x1', 0)\r\n            .attr('x2', 0)\r\n            .attr('stroke-width', 1)\r\n            .attr('stroke', 'rgba(0, 0, 0, 0.3)')\r\n            .style('pointer-events', 'none');\r\n\r\n        this.svgS.on('mouseenter', () => {\r\n            horLine.attr('visibility', 'visible');\r\n            verLine.attr('visibility', 'visible');\r\n        })\r\n        .on('mousemove', () => {\r\n            horLine.attr('y1', d3.event.offsetY)\r\n                .attr('y2', d3.event.offsetY);\r\n            verLine.attr('x1', d3.event.offsetX)\r\n                .attr('x2', d3.event.offsetX);\r\n        })\r\n        .on('mouseleave', () => {\r\n            horLine.attr('visibility', 'hidden');\r\n            verLine.attr('visibility', 'hidden');\r\n        });\r\n    }\r\n\r\n    private initMarks() {\r\n        const { width, height } = this.imgRef.nativeElement as HTMLImageElement;\r\n\r\n        const g = this.svgS\r\n          .append('g')\r\n            .attr('class', 'mark-group');\r\n\r\n        g.selectAll('rect')\r\n          .data(this.data.marks)\r\n          .join('rect')\r\n            .attr('x', d => d.bound[0] * width + 10)\r\n            .attr('y', d => d.bound[1] * height + 10)\r\n            .attr('width', d => (d.bound[2] - d.bound[0]) * width)\r\n            .attr('height', d => (d.bound[3] - d.bound[1]) * height)\r\n            .attr('stroke-width', 2)\r\n            .attr('stroke', 'red')\r\n            .attr('fill', 'rgba(0, 0, 0, 0)')\r\n            .classed('focused', mark => this.focusedKey === mark.key)\r\n            .on('click', mark => {\r\n                this.clickMark(mark);\r\n            });\r\n\r\n        g.select('.focused').raise();\r\n    }\r\n\r\n    private initTexts() {\r\n        const { width, height } = this.imgRef.nativeElement as HTMLImageElement;\r\n\r\n        const g = this.svgS\r\n          .append('g')\r\n            .attr('class', 'text-group');\r\n\r\n        g.selectAll('rect')\r\n          .data(this.data.texts)\r\n          .join('rect')\r\n            .attr('x', d => d.bound[0] * width + 10)\r\n            .attr('y', d => d.bound[1] * height + 10)\r\n            .attr('width', d => (d.bound[2] - d.bound[0]) * width)\r\n            .attr('height', d => (d.bound[3] - d.bound[1]) * height)\r\n            .attr('stroke-width', 2)\r\n            .attr('stroke', 'red')\r\n            .attr('fill', 'rgba(0, 0, 0, 0)')\r\n            .classed('focused', text => this.focusedKey === text.key)\r\n            .on('click', text => {\r\n                this.clickText(text);\r\n            });\r\n\r\n        g.select('.focused').raise();\r\n    }\r\n\r\n    private updateFocus(key: string) {\r\n        const g = this.svgS.selectAll('g');\r\n        g.selectAll('rect')\r\n            .classed('focused', (d: any) => d.key === key);\r\n        g.select('.focused').raise();\r\n\r\n        if (!key) {\r\n            return;\r\n        }\r\n\r\n        if (key.startsWith(`${this.task.key}.raw`)) {\r\n            const [taskKey, _, index] = key.split('.');\r\n            const markKey = `${taskKey}.mark.${index}`;\r\n            g.selectAll('rect')\r\n                .classed('focused', (d: any) => d.key === markKey);\r\n            g.select('.focused').raise();\r\n        }\r\n    }\r\n\r\n    get hasAxes() {\r\n        return this.data && this.data.spec.axes.length > 0;\r\n    }\r\n\r\n    get hasLegend() {\r\n        return this.data && !!this.data.spec.legend;\r\n    }\r\n\r\n    get hasCustoms() {\r\n        return this.data && this.data.spec.customs.length > 0;\r\n    }\r\n\r\n}\r\n","export default \":host {\\n  background-color: #fff;\\n}\\n\\ndiv {\\n  color: #777;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC92ZXJpZmljYXRpb24tbW9kdWxlL0M6XFxVc2Vyc1xcanVuaG9lXFxIQ0lMXFxkZXZcXEF1dG90YXRvclxcY2xpZW50L3NyY1xcYXBwXFxlZGl0XFx2ZXJpZmljYXRpb24tbW9kdWxlXFx2ZXJpZmljYXRpb24tbW9kdWxlLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9lZGl0L3ZlcmlmaWNhdGlvbi1tb2R1bGUvdmVyaWZpY2F0aW9uLW1vZHVsZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHNCQUFBO0FDQ0o7O0FERUE7RUFDSSxXQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9lZGl0L3ZlcmlmaWNhdGlvbi1tb2R1bGUvdmVyaWZpY2F0aW9uLW1vZHVsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbn1cclxuXHJcbmRpdiB7XHJcbiAgICBjb2xvcjogIzc3NztcclxufVxyXG4iLCI6aG9zdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG59XG5cbmRpdiB7XG4gIGNvbG9yOiAjNzc3O1xufSJdfQ== */\"","import { Component, OnInit, Input, Output, EventEmitter, ElementRef } from '@angular/core';\r\nimport { VerificationData, Feedback } from 'src/app/common/verification-data';\r\nimport { Config } from 'src/app/common/config';\r\nimport { NetworkService } from 'src/app/network.service';\r\nimport { EditService } from 'src/app/edit.service';\r\nimport { SA } from 'src/app/d3-utils';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-verification-module',\r\n    templateUrl: './verification-module.component.html',\r\n    styleUrls: ['./verification-module.component.scss']\r\n})\r\nexport class VerificationModuleComponent implements OnInit {\r\n\r\n    @Input() config: Config;\r\n    @Input() verificationDatas: VerificationData[];\r\n    @Input() onImageLoad: boolean;\r\n    @Input() imgRef: ElementRef;\r\n    @Input() svgS: SA;\r\n\r\n    @Output() reviewEmitter = new EventEmitter<void>();\r\n\r\n    public feedbackForms: FormGroup[] = [];\r\n    public focusedKey = null;\r\n\r\n    constructor(private network: NetworkService,\r\n                private edit: EditService,\r\n                private fb: FormBuilder) { }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    async sendReview(approved: boolean) {\r\n        const feedbacks = this.feedbackForms.map(d => Feedback.from(d));\r\n        const path = this.edit.image.path;\r\n        if (this.config.service === 'normal') {\r\n            await this.network.registerReview({ path, approved, feedbacks });\r\n        }\r\n        this.reviewEmitter.emit();\r\n    }\r\n\r\n    onAddFeedback(form: FormGroup) {\r\n        const index = this.verificationDatas.findIndex(d =>\r\n            d.taskKey === form.get('taskKey').value);\r\n        form.addControl('index', this.fb.control(index));\r\n        this.feedbackForms.push(form);\r\n        this.feedbackForms = [].concat(this.feedbackForms);\r\n        const { taskKey, annotationKey } = form.value;\r\n        this.focusedKey = `${taskKey}.${annotationKey}`;\r\n    }\r\n\r\n    onRemoveFeedback(form: FormGroup) {\r\n        const index = this.feedbackForms.findIndex(f => f === form);\r\n        if (index !== -1) {\r\n            this.feedbackForms.splice(index, 1);\r\n            this.feedbackForms = [].concat(this.feedbackForms);\r\n        }\r\n    }\r\n}\r\n","export default \".warn {\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vQzpcXFVzZXJzXFxqdW5ob2VcXEhDSUxcXGRldlxcQXV0b3RhdG9yXFxjbGllbnQvc3JjXFxhcHBcXGxvZ2luXFxsb2dpbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxVQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9sb2dpbi9sb2dpbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi53YXJuIHtcclxuICAgIGNvbG9yOiByZWQ7XHJcbn1cclxuIiwiLndhcm4ge1xuICBjb2xvcjogcmVkO1xufSJdfQ== */\"","import { Component, OnInit, HostListener } from '@angular/core';\r\nimport { Config } from '../common/config';\r\nimport { NetworkService } from '../network.service';\r\nimport { Router } from '@angular/router';\r\nimport { ConfigService } from '../config.service';\r\nimport { MResponse } from '../common/edit-data';\r\n\r\n@Component({\r\n    selector: 'app-login',\r\n    templateUrl: './login.component.html',\r\n    styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n    public config: Config;\r\n    public name = '';\r\n    public password = '';\r\n    public warnMessage = '';\r\n\r\n    constructor(private network: NetworkService,\r\n        private router: Router,\r\n        private configService: ConfigService) { }\r\n\r\n    ngOnInit() {\r\n        this.configService.configObservable.subscribe(config => {\r\n            this.config = config;\r\n            if (this.config.service !== 'normal') {\r\n                this.configService.userNameObservable.subscribe(_ => {\r\n                    this.router.navigate(['/edit']);\r\n                });\r\n                this.configService.setUserName('test');\r\n            }\r\n        });\r\n    }\r\n\r\n    login() {\r\n        const re = /[A-Za-z0-9_]\\w+/g;\r\n        if (!re.test(this.name)) {\r\n            return;\r\n        }\r\n\r\n        if (this.password.length < 8) {\r\n            return;\r\n        }\r\n        this.network.login(this.config.key, this.name, this.password)\r\n            .then((res: MResponse<any>) => {\r\n                if (res.code !== 0) {\r\n                    this.warnMessage = res.message;\r\n                } else {\r\n                    this.configService.userNameObservable.subscribe(_ => {\r\n                        this.router.navigate(['/edit']);\r\n                    });\r\n                    this.configService.setUserName(this.name);\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.error(err);\r\n            });\r\n    }\r\n\r\n    @HostListener('window:keyup', ['$event'])\r\n    onKey(event: KeyboardEvent) {\r\n        if (event.key === 'Enter') {\r\n            this.login();\r\n        }\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { ImageElem, PredictData, ModelInfo, Progress,\r\n    InstanceStatus, MResponse, AnnotatedImageData,\r\n    AnnotationMeta } from './common/edit-data';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { Config } from './common/config';\r\nimport { ConfigService } from './config.service';\r\nimport { Review } from './common/verification-data';\r\nimport { EditMode } from './edit/edit.component';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class NetworkService {\r\n\r\n    // private BASE_URL = 'http://localhost:1219/api/';\r\n    private BASE_URL = 'http://147.46.240.21:1219/api/';\r\n    constructor(private http: HttpClient, private configService: ConfigService) { }\r\n\r\n    login(key: string, userName: string, password: string): Promise<MResponse<any>> {\r\n        const body = {\r\n            key,\r\n            userName,\r\n            password\r\n        };\r\n        return this.http.post(`${this.BASE_URL}login`, body)\r\n            .toPromise()\r\n            .then(raw => this.parseResponse<any>(raw));\r\n    }\r\n\r\n    checkInstance(service: string): Promise<InstanceStatus> {\r\n        return this.httpGetWithUser('check')\r\n            .then((raw: any) => raw as InstanceStatus);\r\n    }\r\n\r\n    getModelInfo(): Promise<ModelInfo[]> {\r\n        return this.httpGetWithUser('model_info')\r\n            .then((raw: any[]) => raw.map(d => new ModelInfo(d)));\r\n    }\r\n\r\n    getProgress(): Promise<Progress> {\r\n        return this.httpGetWithUser('progress')\r\n            .then((raw: any) => {\r\n                return raw as Progress;\r\n            });\r\n    }\r\n\r\n    ignoreImage(imageElem: ImageElem): Promise<any> {\r\n        const body = { path: imageElem.path };\r\n        return this.http.post(`${this.BASE_URL}ignore`, body, this.userOptions)\r\n            .toPromise();\r\n    }\r\n\r\n    getPaths(): Promise<string[]> {\r\n        return this.httpGetWithUser('paths').then(d => d as string[]);\r\n    }\r\n\r\n    getList(labeled = 0): Promise<AnnotationMeta[]> {\r\n        return this.http.get(`${this.BASE_URL}list?labeled=${labeled}`, this.userOptions)\r\n            .toPromise()\r\n            .then(raw => (raw as any[]).map(d => new AnnotationMeta(d)));\r\n    }\r\n\r\n    clearPending(): Promise<any> {\r\n        return this.httpGetWithUser('clear_pending');\r\n    }\r\n\r\n    getPrediction(path: string): Promise<PredictData> {\r\n        return this.http.get(`${this.BASE_URL}prediction?path=${path}`, this.userOptions)\r\n            .toPromise()\r\n            .then(raw => new PredictData(raw));\r\n    }\r\n\r\n    getImage(path: string): Promise<Blob> {\r\n        return this.http.get(`${this.BASE_URL}image?path=${path}`, {responseType: 'blob', ...this.userOptions})\r\n            .toPromise();\r\n    }\r\n\r\n    getRandomElem(): Promise<[AnnotationMeta, Blob]> {\r\n        return this.httpGetWithUser('random_image')\r\n            .then((raw: any) => this.parseResponse<AnnotationMeta>(raw))\r\n            .then((response: MResponse<AnnotationMeta>) => {\r\n                const data = response.data;\r\n                if (data) {\r\n                    return Promise.all([data, this.getImage(data.path)]);\r\n                } else {\r\n                    return null;\r\n                }\r\n            });\r\n    }\r\n\r\n    getVerificationRandomElem(): Promise<[AnnotatedImageData, Blob]> {\r\n        return this.httpGetWithUser('verification_image')\r\n            .then((response: MResponse<AnnotatedImageData>) => {\r\n                if (response.data) {\r\n                    return new AnnotatedImageData(response.data);\r\n                } else {\r\n                    return null;\r\n                }\r\n            })\r\n            .then((meta?: AnnotatedImageData) => {\r\n                if (meta) {\r\n                    return Promise.all([meta, this.getImage(meta.path)]);\r\n                } else {\r\n                    return null;\r\n                }\r\n            });\r\n    }\r\n\r\n    submit(imageElem: ImageElem, formGroup: FormGroup, config: Config): Promise<any> {\r\n        const body = { raw: {}, path: imageElem.path, semi: imageElem.semi };\r\n\r\n        for (const task of config.tasks) {\r\n            const key = task.key;\r\n            body.raw[key] = task.getFormValue(formGroup);\r\n        }\r\n        return this.http.post(this.BASE_URL + 'submit', body, this.userOptions)\r\n            .toPromise().then(() => null);\r\n    }\r\n\r\n    registerReview(review: Review): Promise<MResponse<any>> {\r\n        return this.http.post(this.BASE_URL + 'register_review',\r\n                              review,\r\n                              this.userOptions)\r\n                    .toPromise().then(d => this.parseResponse(d));\r\n    }\r\n\r\n    getReview(path: string): Promise<Review> {\r\n        return this.http.get(`${this.BASE_URL}review?path=${path}`)\r\n            .toPromise()\r\n            .then(d => new Review(d));\r\n    }\r\n\r\n    sendElapsedTime(mode: EditMode, time: number): Promise<any> {\r\n        return this.http.post(`${this.BASE_URL}time`, { mode, time })\r\n            .toPromise();\r\n    }\r\n\r\n    async loadLocalImage(path: string): Promise<Blob> {\r\n        return this.http.get(path, { responseType: 'blob' })\r\n            .toPromise();\r\n    }\r\n\r\n    private httpGetWithUser(path: string) {\r\n        return this.http.get(`${this.BASE_URL}${path}`, this.userOptions).toPromise();\r\n    }\r\n\r\n    private get userOptions(): { headers: HttpHeaders } {\r\n        let headers = new HttpHeaders();\r\n        const userName = this.configService.userName;\r\n        headers = headers.append('service', environment.mode);\r\n        if (userName) {\r\n            headers = headers.append('Username', userName);\r\n        }\r\n        return { headers };\r\n    }\r\n\r\n    private parseResponse<T>(raw: any, className?: (new (raw: any) => T)): MResponse<T> {\r\n        let data: T;\r\n        if (!raw['data']) {\r\n            return {\r\n                message: raw['message'],\r\n                code: raw['code'],\r\n                data: null\r\n            };\r\n        }\r\n\r\n        try {\r\n            if (className) {\r\n                data = new className(raw['data']);\r\n            } else {\r\n                data = raw['data'] as T;\r\n            }\r\n        } catch (err) {\r\n            data = raw['data'] as T;\r\n        }\r\n\r\n        return {\r\n            message: raw['message'],\r\n            code: raw['code'],\r\n            data\r\n        };\r\n    }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL25vbi1hY3RpdmUtcGFnZS9ub24tYWN0aXZlLXBhZ2UuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-non-active-page',\r\n  templateUrl: './non-active-page.component.html',\r\n  styleUrls: ['./non-active-page.component.scss']\r\n})\r\nexport class NonActivePageComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\nclass ClusterResult {\r\n    centers: number[][];\r\n    labels: number[];\r\n    centerPatches: number[][][];\r\n\r\n    constructor(res: any) {\r\n        this.centers = res['center_colors'] || [];\r\n        this.centerPatches = res['center_patches'] || [];\r\n        this.labels = res['labels'];\r\n    }\r\n}\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class PredictionService {\r\n\r\n    private BASE_URL = 'http://147.46.240.21:1219/api/';\r\n    constructor(private http: HttpClient) {\r\n\r\n    }\r\n\r\n    async clusterMarks(body: any): Promise<ClusterResult> {\r\n        const response = await this.http.post(`${this.BASE_URL}cluster_marks`, body).toPromise();\r\n        return new ClusterResult(response);\r\n    }\r\n\r\n    async predictAreas(body: any): Promise<number[]> {\r\n        return this.http.post(`${this.BASE_URL}predict_area`, body)\r\n            .toPromise().then(d => d as number[]);\r\n    }\r\n}\r\n","export const environment = {\r\n  production: false,\r\n  mode: 'demo'\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\nimport 'hammerjs';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":"webpack:///"}